"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/demo/page",{

/***/ "(app-pages-browser)/./src/components/game/UI/game-board.tsx":
/*!***********************************************!*\
  !*** ./src/components/game/UI/game-board.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GameBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/dom/motion.mjs\");\n/* harmony import */ var _lane__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lane */ \"(app-pages-browser)/./src/components/game/UI/lane.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction GameBoard(param) {\n    let { currentLane, difficulty, gameActive, onLaneClick, difficultySettings, targetLane, laneSelected, isGameOver } = param;\n    _s();\n    // Auto-follow camera position (used during gameplay)\n    const [playerCameraPosition, setPlayerCameraPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Manual camera position (used for lane selection before game starts)\n    const [manualCameraPosition, setManualCameraPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Track visible lane range for UI indicators\n    const [visibleLaneRange, setVisibleLaneRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        start: 0,\n        end: 3\n    });\n    // Drag scrolling state\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dragStartX, setDragStartX] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [dragStartCameraPos, setDragStartCameraPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Track vehicles per lane\n    const [vehiclesPerLane, setVehiclesPerLane] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Track prop vehicles per lane (decorative only, appear during gameplay)\n    const [propVehiclesPerLane, setPropVehiclesPerLane] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Track next vehicle ID\n    const [nextVehicleId, setNextVehicleId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    // Track next prop vehicle ID (using a different range to avoid conflicts)\n    const [nextPropVehicleId, setNextPropVehicleId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(10000);\n    // Track if a targeted vehicle is active\n    const [targetedVehicleActive, setTargetedVehicleActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function to spawn a targeted vehicle that aims for the player\n    const spawnTargetedVehicle = (laneNumber)=>{\n        if (targetedVehicleActive || !gameActive) return;\n        // Calculate chance based on difficulty\n        const targetChance = difficulty === \"daredevil\" ? 0.35 : difficulty === \"hard\" ? 0.25 : difficulty === \"medium\" ? 0.15 : 0.10;\n        // Random chance to spawn a targeted vehicle\n        if (Math.random() > targetChance) return;\n        console.log(\"Spawning targeted vehicle in lane:\", laneNumber);\n        setTargetedVehicleActive(true);\n        // Randomly select vehicle image (1-5)\n        const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n        // Create a new targeted vehicle\n        const targetedVehicle = {\n            id: nextVehicleId + 1000,\n            vehicleIndex,\n            direction: \"down\",\n            isTargeted: true // Mark as targeted\n        };\n        // Add the targeted vehicle to the lane\n        setVehiclesPerLane((prev)=>{\n            const updatedVehicles = {\n                ...prev\n            };\n            // Initialize the lane's vehicles array if it doesn't exist\n            if (!updatedVehicles[laneNumber]) {\n                updatedVehicles[laneNumber] = [];\n            }\n            // Add the targeted vehicle to the lane\n            updatedVehicles[laneNumber] = [\n                ...updatedVehicles[laneNumber],\n                targetedVehicle\n            ];\n            return updatedVehicles;\n        });\n        // Update the next vehicle ID\n        setNextVehicleId((prev)=>prev + 1);\n        // Reset the targeted vehicle flag after a delay\n        setTimeout(()=>{\n            setTargetedVehicleActive(false);\n        }, 3000);\n    };\n    // Handle lane clicks - now handles lane selection before game starts\n    const handleLaneClick = (laneNumber)=>{\n        // If game is active, lane clicks are ignored as movement is automatic\n        if (gameActive) {\n            return;\n        }\n        // Before game starts, clicking a lane selects it as the target\n        if (!gameActive && laneNumber > 0 && laneNumber <= difficultySettings.totalLanes) {\n            onLaneClick(laneNumber);\n        }\n    };\n    // Demo mode - reset vehicles when difficulty changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setVehiclesPerLane({});\n        setPropVehiclesPerLane({});\n        // Reset player camera position when difficulty changes\n        setPlayerCameraPosition(0);\n        // Reset manual camera position when difficulty changes\n        setManualCameraPosition(0);\n        // Reset visible lane range\n        setVisibleLaneRange({\n            start: 0,\n            end: 3\n        });\n        // Reset vehicle ID counter\n        setNextVehicleId(1);\n        // Reset prop vehicle ID counter\n        setNextPropVehicleId(10000);\n    }, [\n        difficulty\n    ]);\n    // Reset camera position when game ends and player clicks \"Play Again\"\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // When isGameOver transitions from true to false (after clicking Play Again)\n        if (!isGameOver && !gameActive && currentLane === 0) {\n            // Reset both camera positions\n            setPlayerCameraPosition(0);\n            setManualCameraPosition(0);\n            // Reset visible lane range\n            setVisibleLaneRange({\n                start: 0,\n                end: 3\n            });\n        }\n    }, [\n        isGameOver,\n        gameActive,\n        currentLane\n    ]);\n    // Freeze camera position when game ends with a loss\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // When the game ends (isGameOver becomes true), keep the camera at the current position\n        if (isGameOver) {\n            // No need to update camera position - we'll just use the current playerCameraPosition\n            // in the motion.div animate prop\n            // Update visible lane range based on current position\n            const position = playerCameraPosition;\n            const startLane = Math.floor(position / 150);\n            const endLane = startLane + 3;\n            setVisibleLaneRange({\n                start: startLane,\n                end: endLane\n            });\n        }\n    }, [\n        isGameOver,\n        playerCameraPosition\n    ]);\n    // Update player camera position when current lane changes (during gameplay)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentLane > 2) {\n            setPlayerCameraPosition((currentLane - 2) * 150);\n        } else {\n            setPlayerCameraPosition(0);\n        }\n        // Update visible lane range for the player camera\n        if (gameActive) {\n            const position = currentLane > 2 ? (currentLane - 2) * 150 : 0;\n            const startLane = Math.floor(position / 150);\n            const endLane = startLane + 3;\n            setVisibleLaneRange({\n                start: startLane,\n                end: endLane\n            });\n        }\n    }, [\n        currentLane,\n        gameActive\n    ]);\n    // Function to scroll camera left (only for manual camera)\n    const scrollCameraLeft = ()=>{\n        // Don't allow scrolling past the start\n        if (manualCameraPosition <= 0) return;\n        // Scroll by one lane (150px)\n        const newPosition = Math.max(0, manualCameraPosition - 150);\n        setManualCameraPosition(newPosition);\n        // Update visible lane range for the manual camera\n        const startLane = Math.floor(newPosition / 150);\n        const endLane = startLane + 3;\n        setVisibleLaneRange({\n            start: startLane,\n            end: endLane\n        });\n    };\n    // Function to scroll camera right (only for manual camera)\n    const scrollCameraRight = ()=>{\n        // Don't allow scrolling past the end\n        const maxScroll = (difficultySettings.totalLanes - 2) * 150;\n        if (manualCameraPosition >= maxScroll) return;\n        // Scroll by one lane (150px)\n        const newPosition = Math.min(maxScroll, manualCameraPosition + 150);\n        setManualCameraPosition(newPosition);\n        // Update visible lane range for the manual camera\n        const startLane = Math.floor(newPosition / 150);\n        const endLane = startLane + 3;\n        setVisibleLaneRange({\n            start: startLane,\n            end: endLane\n        });\n    };\n    // Generate vehicles periodically (only in demo mode when game is not active)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only spawn vehicles when game is NOT active\n        if (gameActive) return;\n        const vehicleInterval = setInterval(()=>{\n            // Only generate vehicles for lanes ahead of current position\n            const eligibleLanes = Array.from({\n                length: difficultySettings.totalLanes\n            }, (_, i)=>i + 1).filter((lane)=>lane > currentLane);\n            if (eligibleLanes.length === 0) return;\n            // Special handling for final lane\n            const isOnlyFinalLane = eligibleLanes.length === 1 && eligibleLanes[0] === difficultySettings.totalLanes && currentLane === difficultySettings.totalLanes - 1;\n            // If we're at the final lane, use special spawn logic\n            if (isOnlyFinalLane) {\n                // Only spawn a vehicle in the final lane 30% of the time\n                // This creates natural gaps for the player to move through\n                if (Math.random() > 0.3) return;\n                // Check if there are already too many vehicles in the final lane\n                const finalLaneVehicles = vehiclesPerLane[difficultySettings.totalLanes] || [];\n                if (finalLaneVehicles.length >= 2) {\n                    console.log(\"Final lane has enough vehicles, skipping spawn\");\n                    return;\n                }\n                // Proceed with spawning in the final lane\n                const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n                // Create a new vehicle for the final lane\n                const newVehicle = {\n                    id: nextVehicleId,\n                    vehicleIndex,\n                    direction: \"down\"\n                };\n                // Update the next vehicle ID\n                setNextVehicleId((prev)=>prev + 1);\n                // Add the vehicle to the final lane\n                setVehiclesPerLane((prev)=>{\n                    const updatedVehicles = {\n                        ...prev\n                    };\n                    const finalLane = difficultySettings.totalLanes;\n                    // Initialize the lane's vehicles array if it doesn't exist\n                    if (!updatedVehicles[finalLane]) {\n                        updatedVehicles[finalLane] = [];\n                    }\n                    // Add the new vehicle to the lane\n                    updatedVehicles[finalLane] = [\n                        ...updatedVehicles[finalLane],\n                        newVehicle\n                    ];\n                    return updatedVehicles;\n                });\n                console.log(\"Spawned vehicle in final lane\");\n                return;\n            }\n            // Normal lane spawning logic for non-final lanes\n            // Get the current vehicle counts per lane\n            const laneCounts = {};\n            eligibleLanes.forEach((lane)=>{\n                var _vehiclesPerLane_lane;\n                laneCounts[lane] = ((_vehiclesPerLane_lane = vehiclesPerLane[lane]) === null || _vehiclesPerLane_lane === void 0 ? void 0 : _vehiclesPerLane_lane.length) || 0;\n            });\n            // Find lanes with the fewest vehicles\n            const minCount = Math.min(...Object.values(laneCounts).length ? Object.values(laneCounts) : [\n                0\n            ]);\n            const lanesWithFewestVehicles = eligibleLanes.filter((lane)=>(laneCounts[lane] || 0) <= minCount);\n            // Randomly select from lanes with fewer vehicles (weighted distribution)\n            // This prioritizes lanes with fewer vehicles but still maintains some randomness\n            const randomLane = lanesWithFewestVehicles[Math.floor(Math.random() * lanesWithFewestVehicles.length)];\n            // Randomly select vehicle image (1-5)\n            const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n            // Create a new vehicle\n            const newVehicle = {\n                id: nextVehicleId,\n                vehicleIndex,\n                direction: \"down\"\n            };\n            // Update the next vehicle ID\n            setNextVehicleId((prev)=>prev + 1);\n            // Add the vehicle to the appropriate lane\n            setVehiclesPerLane((prev)=>{\n                const updatedVehicles = {\n                    ...prev\n                };\n                // Initialize the lane's vehicles array if it doesn't exist\n                if (!updatedVehicles[randomLane]) {\n                    updatedVehicles[randomLane] = [];\n                }\n                // Add the new vehicle to the lane\n                updatedVehicles[randomLane] = [\n                    ...updatedVehicles[randomLane],\n                    newVehicle\n                ];\n                return updatedVehicles;\n            });\n        // Log vehicle distribution for debugging\n        // console.log('Vehicle distribution:', \n        //   Object.entries(vehiclesPerLane).map(([lane, vehicles]) => \n        //     `Lane ${lane}: ${vehicles?.length || 0} vehicles`\n        //   ).join(', ')\n        // );\n        // Adjust spawn interval based on difficulty and special case for final lane\n        }, isAtSecondToLastLane() ? 800 : difficulty === \"daredevil\" ? 100 : difficulty === \"hard\" ? 200 : difficulty === \"medium\" ? 350 : 500);\n        return ()=>clearInterval(vehicleInterval);\n    }, [\n        gameActive,\n        currentLane,\n        difficultySettings.totalLanes,\n        difficulty,\n        nextVehicleId\n    ]);\n    // Separate useEffect to clear vehicles when game becomes active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameActive) {\n            // Clear all vehicles when game starts\n            setVehiclesPerLane({});\n            // Also clear prop vehicles when game starts/ends\n            setPropVehiclesPerLane({});\n        }\n    }, [\n        gameActive\n    ]);\n    // Spawn prop vehicles only when game is active (purely decorative)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only spawn prop vehicles when game IS active (opposite of regular vehicles)\n        if (!gameActive) return;\n        const propVehicleInterval = setInterval(()=>{\n            // Define eligible lanes based on player's current position\n            let eligibleLanes = [];\n            // 2-3 lanes ahead of player (if they exist)\n            for(let i = 2; i <= 3; i++){\n                const aheadLane = currentLane + i;\n                if (aheadLane <= difficultySettings.totalLanes) {\n                    eligibleLanes.push(aheadLane);\n                }\n            }\n            // 20% chance to spawn 1 lane before the player\n            if (Math.random() < 0.2) {\n                const beforeLane = currentLane - 1;\n                if (beforeLane > 0) {\n                    eligibleLanes.push(beforeLane);\n                }\n            }\n            // If no eligible lanes, skip this spawn cycle\n            if (eligibleLanes.length === 0) return;\n            // Randomly select a lane from eligible lanes\n            const randomLane = eligibleLanes[Math.floor(Math.random() * eligibleLanes.length)];\n            // Randomly select vehicle image (1-5)\n            const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n            // Create a new prop vehicle (using ID range 10000+)\n            const newPropVehicle = {\n                id: nextPropVehicleId,\n                vehicleIndex,\n                direction: \"down\",\n                isProp: true // Mark as prop vehicle (won't cause collisions)\n            };\n            // Update the next prop vehicle ID\n            setNextPropVehicleId((prev)=>prev + 1);\n            // Add the prop vehicle to the appropriate lane\n            setPropVehiclesPerLane((prev)=>{\n                const updatedVehicles = {\n                    ...prev\n                };\n                // Initialize the lane's vehicles array if it doesn't exist\n                if (!updatedVehicles[randomLane]) {\n                    updatedVehicles[randomLane] = [];\n                }\n                // Add the new prop vehicle to the lane\n                updatedVehicles[randomLane] = [\n                    ...updatedVehicles[randomLane],\n                    newPropVehicle\n                ];\n                return updatedVehicles;\n            });\n        // console.log(`Prop vehicle spawned on lane ${randomLane}`);\n        }, difficulty === \"daredevil\" ? 200 : difficulty === \"hard\" ? 300 : difficulty === \"medium\" ? 400 : 500);\n        return ()=>clearInterval(propVehicleInterval);\n    }, [\n        gameActive,\n        difficultySettings.totalLanes,\n        difficulty,\n        nextPropVehicleId,\n        currentLane\n    ]);\n    // Helper function to check if player is at second-to-last lane\n    const isAtSecondToLastLane = ()=>{\n        return currentLane === difficultySettings.totalLanes - 1 && gameActive;\n    };\n    // Split collision detection and vehicle cleanup into separate effects\n    // Vehicle animation completion handler (always active regardless of game state)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Listen for vehicle animation completion events\n        const handleVehicleAnimationComplete = (event)=>{\n            const customEvent = event;\n            const { laneNumber, vehicleId, isProp } = customEvent.detail;\n            if (isProp) {\n                // Remove the completed prop vehicle from the lane\n                setPropVehiclesPerLane((prev)=>{\n                    const updatedVehicles = {\n                        ...prev\n                    };\n                    const laneVehicles = updatedVehicles[laneNumber] || [];\n                    // Filter out the completed vehicle\n                    updatedVehicles[laneNumber] = laneVehicles.filter((v)=>v.id !== vehicleId);\n                    return updatedVehicles;\n                });\n            } else {\n                // Remove the completed vehicle from the lane\n                setVehiclesPerLane((prev)=>{\n                    const updatedVehicles = {\n                        ...prev\n                    };\n                    const laneVehicles = updatedVehicles[laneNumber] || [];\n                    // Filter out the completed vehicle\n                    updatedVehicles[laneNumber] = laneVehicles.filter((v)=>v.id !== vehicleId);\n                    return updatedVehicles;\n                });\n            }\n        };\n        // Add event listener for vehicle animation completion\n        document.addEventListener(\"vehicleAnimationComplete\", handleVehicleAnimationComplete);\n        // Backup cleanup for any vehicles that might not trigger the animation complete event\n        const cleanupInterval = setInterval(()=>{\n            // Clean up regular vehicles\n            setVehiclesPerLane((prev)=>{\n                const updatedVehicles = {};\n                // For each lane, keep only the 5 most recent vehicles\n                Object.keys(prev).forEach((laneKey)=>{\n                    const laneNumber = parseInt(laneKey);\n                    const laneVehicles = prev[laneNumber] || [];\n                    if (laneVehicles.length > 5) {\n                        updatedVehicles[laneNumber] = laneVehicles.slice(-5);\n                    } else {\n                        updatedVehicles[laneNumber] = laneVehicles;\n                    }\n                });\n                return updatedVehicles;\n            });\n            // Clean up prop vehicles\n            setPropVehiclesPerLane((prev)=>{\n                const updatedVehicles = {};\n                // For each lane, keep only the 5 most recent prop vehicles\n                Object.keys(prev).forEach((laneKey)=>{\n                    const laneNumber = parseInt(laneKey);\n                    const laneVehicles = prev[laneNumber] || [];\n                    if (laneVehicles.length > 5) {\n                        updatedVehicles[laneNumber] = laneVehicles.slice(-5);\n                    } else {\n                        updatedVehicles[laneNumber] = laneVehicles;\n                    }\n                });\n                return updatedVehicles;\n            });\n        }, 2000);\n        return ()=>{\n            clearInterval(cleanupInterval);\n            document.removeEventListener(\"vehicleAnimationComplete\", handleVehicleAnimationComplete);\n        };\n    }, []);\n    // Mouse event handlers for drag scrolling\n    const handleMouseDown = (e)=>{\n        if (gameActive || isGameOver) return; // Only allow drag scrolling when game is not active\n        setIsDragging(true);\n        setDragStartX(e.clientX);\n        setDragStartCameraPos(manualCameraPosition);\n    };\n    const handleMouseMove = (e)=>{\n        if (!isDragging) return;\n        const dragDistance = e.clientX - dragStartX;\n        const newPosition = Math.max(0, Math.min((difficultySettings.totalLanes - 2) * 150, dragStartCameraPos - dragDistance // Move camera opposite to drag direction\n        ));\n        setManualCameraPosition(newPosition);\n        // Update visible lane range\n        const startLane = Math.floor(newPosition / 150);\n        const endLane = startLane + 3;\n        setVisibleLaneRange({\n            start: startLane,\n            end: endLane\n        });\n    };\n    const handleMouseUp = ()=>{\n        setIsDragging(false);\n    };\n    // Add mouse leave handler to stop dragging if mouse leaves the container\n    const handleMouseLeave = ()=>{\n        setIsDragging(false);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"game-container-bg rounded-lg p-6 pb-12 relative overflow-hidden w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 game-container-bg z-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-0 w-full h-8 bg-[#0f0f1a]/50\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 560,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 w-full h-8 bg-[#0f0f1a]/50\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 561,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-0 w-full h-1 bg-[#232334]\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 564,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 w-full h-1 bg-[#232334]\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                lineNumber: 559,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative h-[500px] z-10 overflow-hidden\",\n                onMouseDown: handleMouseDown,\n                onMouseMove: handleMouseMove,\n                onMouseUp: handleMouseUp,\n                onMouseLeave: handleMouseLeave,\n                style: {\n                    cursor: !gameActive && !isGameOver ? isDragging ? \"grabbing\" : \"grab\" : \"default\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.div, {\n                        className: \"flex absolute top-0 left-0 h-full\",\n                        animate: {\n                            x: isGameOver ? -playerCameraPosition : gameActive ? -playerCameraPosition : -manualCameraPosition // Before game starts, use manual camera\n                        },\n                        transition: {\n                            type: \"spring\",\n                            stiffness: 300,\n                            damping: 30\n                        },\n                        children: [\n                            Array.from({\n                                length: difficultySettings.totalLanes + 2\n                            }, (_, i)=>{\n                                // If this is the last lane, make it the end lane\n                                const isEndLane = i === difficultySettings.totalLanes + 1;\n                                const laneNumber = isEndLane ? -1 : i;\n                                const isCurrentLane = laneNumber === currentLane;\n                                const isNextLane = laneNumber === currentLane + 1 || currentLane === difficultySettings.totalLanes && isEndLane;\n                                const multiplier = laneNumber === 0 ? 0 : laneNumber === -1 ? 0 // End lane has no multiplier\n                                 : difficultySettings.laneMultipliers[laneNumber - 1];\n                                // Get vehicles for this lane (no vehicles in end lane)\n                                const laneVehicles = isEndLane ? [] : vehiclesPerLane[laneNumber] || [];\n                                // Combine regular vehicles and prop vehicles for this lane\n                                const allLaneVehicles = [\n                                    ...laneVehicles\n                                ];\n                                // Add prop vehicles if they exist for this lane\n                                const propVehicles = propVehiclesPerLane[laneNumber] || [];\n                                allLaneVehicles.push(...propVehicles);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lane__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    laneNumber: laneNumber,\n                                    multiplier: multiplier,\n                                    isActive: gameActive ? gameActive && isNextLane : laneNumber > 0 && laneNumber <= difficultySettings.totalLanes,\n                                    isCurrentLane: isCurrentLane,\n                                    isTargetLane: !gameActive && laneSelected && laneNumber === targetLane,\n                                    onClick: ()=>handleLaneClick(laneNumber),\n                                    vehicles: allLaneVehicles,\n                                    difficulty: difficulty\n                                }, isEndLane ? \"end-lane\" : laneNumber, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                    lineNumber: 611,\n                                    columnNumber: 15\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.div, {\n                                className: \"absolute z-10 w-24 h-24 player-character\",\n                                initial: {\n                                    left: 50,\n                                    top: \"50%\"\n                                },\n                                animate: {\n                                    // Position Kino based *only* on the current lane, relative to the container\n                                    left: currentLane * 150 + 50,\n                                    top: \"50%\",\n                                    y: \"-50%\",\n                                    // No scale/rotate during gameplay to match walking animation\n                                    scale: !gameActive && currentLane !== targetLane ? [\n                                        1,\n                                        1.05,\n                                        1\n                                    ] : 1,\n                                    rotate: !gameActive && currentLane !== targetLane ? [\n                                        0,\n                                        2,\n                                        0,\n                                        -2,\n                                        0\n                                    ] : 0\n                                },\n                                transition: {\n                                    // Use linear easing for smooth walking across the lane\n                                    duration: 0.5,\n                                    ease: \"linear\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: !gameActive ? \"/assets/Kino_Idle_HD.gif\" : currentLane === targetLane ? \"/assets/Kino_Static.png\" : \"/assets/Kino_Walk_HD.gif\",\n                                    alt: \"Kino character\",\n                                    className: \"w-full h-full object-contain\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                    lineNumber: 644,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                lineNumber: 626,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 577,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 right-0 h-2 bg-white/20\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 658,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-0 right-0 h-2 bg-white/20\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 659,\n                        columnNumber: 9\n                    }, this),\n                    !gameActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 left-0 right-0 flex justify-center gap-4 z-30\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-black/30 px-4 py-2 rounded-full text-white text-sm\",\n                            children: \"Click and drag to scroll through lanes\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                            lineNumber: 666,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 665,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-16 left-0 right-0 flex justify-center gap-1 z-20\",\n                        children: Array.from({\n                            length: difficultySettings.totalLanes\n                        }, (_, i)=>{\n                            const laneNumber = i + 1;\n                            const isVisible = laneNumber >= visibleLaneRange.start && laneNumber <= visibleLaneRange.end;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-2 h-2 rounded-full transition-all \".concat(isVisible ? \"bg-primary\" : \"bg-gray-500\", \" \").concat(laneNumber === currentLane ? \"w-3 h-3\" : \"\"),\n                                title: \"Lane \".concat(laneNumber)\n                            }, \"indicator-\".concat(laneNumber), false, {\n                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                lineNumber: 679,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 673,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                lineNumber: 568,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n        lineNumber: 557,\n        columnNumber: 5\n    }, this);\n}\n_s(GameBoard, \"mG7uTWo9fUFaDMN+65osC93y0ro=\");\n_c = GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2dhbWUvVUkvZ2FtZS1ib2FyZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFNEM7QUFDTDtBQUNiO0FBV1gsU0FBU0ksVUFBVSxLQVNqQjtRQVRpQixFQUNoQ0MsV0FBVyxFQUNYQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsV0FBVyxFQUNYQyxrQkFBa0IsRUFDbEJDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxVQUFVLEVBQ0ssR0FUaUI7O0lBVWhDLHFEQUFxRDtJQUNyRCxNQUFNLENBQUNDLHNCQUFzQkMsd0JBQXdCLEdBQUdiLCtDQUFRQSxDQUFDO0lBRWpFLHNFQUFzRTtJQUN0RSxNQUFNLENBQUNjLHNCQUFzQkMsd0JBQXdCLEdBQUdmLCtDQUFRQSxDQUFDO0lBRWpFLDZDQUE2QztJQUM3QyxNQUFNLENBQUNnQixrQkFBa0JDLG9CQUFvQixHQUFHakIsK0NBQVFBLENBQUM7UUFBRWtCLE9BQU87UUFBR0MsS0FBSztJQUFFO0lBRTVFLHVCQUF1QjtJQUN2QixNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3NCLFlBQVlDLGNBQWMsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3dCLG9CQUFvQkMsc0JBQXNCLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUU3RCwwQkFBMEI7SUFDMUIsTUFBTSxDQUFDMEIsaUJBQWlCQyxtQkFBbUIsR0FBRzNCLCtDQUFRQSxDQUFvQyxDQUFDO0lBRTNGLHlFQUF5RTtJQUN6RSxNQUFNLENBQUM0QixxQkFBcUJDLHVCQUF1QixHQUFHN0IsK0NBQVFBLENBQW9DLENBQUM7SUFFbkcsd0JBQXdCO0lBQ3hCLE1BQU0sQ0FBQzhCLGVBQWVDLGlCQUFpQixHQUFHL0IsK0NBQVFBLENBQUM7SUFFbkQsMEVBQTBFO0lBQzFFLE1BQU0sQ0FBQ2dDLG1CQUFtQkMscUJBQXFCLEdBQUdqQywrQ0FBUUEsQ0FB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O2tDQUNaakQsTUFBTUMsSUFBSSxDQUFDOzRCQUFFQyxRQUFRNUQsbUJBQW1CNkMsVUFBVTt3QkFBQyxHQUFHLENBQUNnQixHQUFHQzs0QkFDekQsTUFBTWpDLGFBQWFpQyxJQUFJOzRCQUN2QixNQUFNZ0YsWUFBWWpILGNBQWNyQixpQkFBaUJFLEtBQUssSUFBSW1CLGNBQWNyQixpQkFBaUJHLEdBQUc7NEJBRTVGLHFCQUNFLDhEQUFDK0Y7Z0NBRUNDLFdBQVcsdUNBQW1GOUUsT0FBNUNpSCxZQUFZLGVBQWUsZUFBYyxLQUErQyxPQUE1Q2pILGVBQWVqQyxjQUFjLFlBQVk7Z0NBQ3ZJbUosT0FBTyxRQUFtQixPQUFYbEg7K0JBRlYsYUFBd0IsT0FBWEE7Ozs7O3dCQUt4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS1Y7R0FscUJ3QmxDO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2dhbWUvVUkvZ2FtZS1ib2FyZC50c3g/ODU0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIjtcbmltcG9ydCBMYW5lIGZyb20gXCIuL2xhbmVcIjtcbmltcG9ydCB7IEdhbWVCb2FyZFByb3BzLCBWZWhpY2xlT2JzdGFjbGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IHBsYXlMYW5lU2VsZWN0U291bmQgfSBmcm9tIFwiQC91dGlscy9zb3VuZC1lZmZlY3RzXCI7XG5cbi8vIEV4dGVuZCB0aGUgVmVoaWNsZU9ic3RhY2xlIHR5cGUgdG8gaW5jbHVkZSBwcm9wIGZsYWdcbmRlY2xhcmUgbW9kdWxlIFwiLi4vdHlwZXNcIiB7XG4gIGludGVyZmFjZSBWZWhpY2xlT2JzdGFjbGUge1xuICAgIGlzUHJvcD86IGJvb2xlYW47XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZUJvYXJkKHtcbiAgY3VycmVudExhbmUsXG4gIGRpZmZpY3VsdHksXG4gIGdhbWVBY3RpdmUsXG4gIG9uTGFuZUNsaWNrLFxuICBkaWZmaWN1bHR5U2V0dGluZ3MsXG4gIHRhcmdldExhbmUsXG4gIGxhbmVTZWxlY3RlZCxcbiAgaXNHYW1lT3ZlclxufTogR2FtZUJvYXJkUHJvcHMpIHtcbiAgLy8gQXV0by1mb2xsb3cgY2FtZXJhIHBvc2l0aW9uICh1c2VkIGR1cmluZyBnYW1lcGxheSlcbiAgY29uc3QgW3BsYXllckNhbWVyYVBvc2l0aW9uLCBzZXRQbGF5ZXJDYW1lcmFQb3NpdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgXG4gIC8vIE1hbnVhbCBjYW1lcmEgcG9zaXRpb24gKHVzZWQgZm9yIGxhbmUgc2VsZWN0aW9uIGJlZm9yZSBnYW1lIHN0YXJ0cylcbiAgY29uc3QgW21hbnVhbENhbWVyYVBvc2l0aW9uLCBzZXRNYW51YWxDYW1lcmFQb3NpdGlvbl0gPSB1c2VTdGF0ZSgwKTtcbiAgXG4gIC8vIFRyYWNrIHZpc2libGUgbGFuZSByYW5nZSBmb3IgVUkgaW5kaWNhdG9yc1xuICBjb25zdCBbdmlzaWJsZUxhbmVSYW5nZSwgc2V0VmlzaWJsZUxhbmVSYW5nZV0gPSB1c2VTdGF0ZSh7IHN0YXJ0OiAwLCBlbmQ6IDMgfSk7XG4gIFxuICAvLyBEcmFnIHNjcm9sbGluZyBzdGF0ZVxuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkcmFnU3RhcnRYLCBzZXREcmFnU3RhcnRYXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZHJhZ1N0YXJ0Q2FtZXJhUG9zLCBzZXREcmFnU3RhcnRDYW1lcmFQb3NdID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBUcmFjayB2ZWhpY2xlcyBwZXIgbGFuZVxuICBjb25zdCBbdmVoaWNsZXNQZXJMYW5lLCBzZXRWZWhpY2xlc1BlckxhbmVdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgVmVoaWNsZU9ic3RhY2xlW10+Pih7fSk7XG4gIFxuICAvLyBUcmFjayBwcm9wIHZlaGljbGVzIHBlciBsYW5lIChkZWNvcmF0aXZlIG9ubHksIGFwcGVhciBkdXJpbmcgZ2FtZXBsYXkpXG4gIGNvbnN0IFtwcm9wVmVoaWNsZXNQZXJMYW5lLCBzZXRQcm9wVmVoaWNsZXNQZXJMYW5lXSA9IHVzZVN0YXRlPFJlY29yZDxudW1iZXIsIFZlaGljbGVPYnN0YWNsZVtdPj4oe30pO1xuICBcbiAgLy8gVHJhY2sgbmV4dCB2ZWhpY2xlIElEXG4gIGNvbnN0IFtuZXh0VmVoaWNsZUlkLCBzZXROZXh0VmVoaWNsZUlkXSA9IHVzZVN0YXRlKDEpO1xuICBcbiAgLy8gVHJhY2sgbmV4dCBwcm9wIHZlaGljbGUgSUQgKHVzaW5nIGEgZGlmZmVyZW50IHJhbmdlIHRvIGF2b2lkIGNvbmZsaWN0cylcbiAgY29uc3QgW25leHRQcm9wVmVoaWNsZUlkLCBzZXROZXh0UHJvcFZlaGljbGVJZF0gPSB1c2VTdGF0ZSgxMDAwMCk7XG4gIFxuICAvLyBUcmFjayBpZiBhIHRhcmdldGVkIHZlaGljbGUgaXMgYWN0aXZlXG4gIGNvbnN0IFt0YXJnZXRlZFZlaGljbGVBY3RpdmUsIHNldFRhcmdldGVkVmVoaWNsZUFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBzcGF3biBhIHRhcmdldGVkIHZlaGljbGUgdGhhdCBhaW1zIGZvciB0aGUgcGxheWVyXG4gIGNvbnN0IHNwYXduVGFyZ2V0ZWRWZWhpY2xlID0gKGxhbmVOdW1iZXI6IG51bWJlcikgPT4ge1xuICAgIGlmICh0YXJnZXRlZFZlaGljbGVBY3RpdmUgfHwgIWdhbWVBY3RpdmUpIHJldHVybjtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgY2hhbmNlIGJhc2VkIG9uIGRpZmZpY3VsdHlcbiAgICBjb25zdCB0YXJnZXRDaGFuY2UgPSBkaWZmaWN1bHR5ID09PSBcImRhcmVkZXZpbFwiID8gMC4zNSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5ID09PSBcImhhcmRcIiA/IDAuMjUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eSA9PT0gXCJtZWRpdW1cIiA/IDAuMTUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgMC4xMDtcbiAgICBcbiAgICAvLyBSYW5kb20gY2hhbmNlIHRvIHNwYXduIGEgdGFyZ2V0ZWQgdmVoaWNsZVxuICAgIGlmIChNYXRoLnJhbmRvbSgpID4gdGFyZ2V0Q2hhbmNlKSByZXR1cm47XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1NwYXduaW5nIHRhcmdldGVkIHZlaGljbGUgaW4gbGFuZTonLCBsYW5lTnVtYmVyKTtcbiAgICBzZXRUYXJnZXRlZFZlaGljbGVBY3RpdmUodHJ1ZSk7XG4gICAgXG4gICAgLy8gUmFuZG9tbHkgc2VsZWN0IHZlaGljbGUgaW1hZ2UgKDEtNSlcbiAgICBjb25zdCB2ZWhpY2xlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHRhcmdldGVkIHZlaGljbGVcbiAgICBjb25zdCB0YXJnZXRlZFZlaGljbGU6IFZlaGljbGVPYnN0YWNsZSA9IHtcbiAgICAgIGlkOiBuZXh0VmVoaWNsZUlkICsgMTAwMCwgLy8gVXNlIGEgbGFyZ2Ugb2Zmc2V0IHRvIGF2b2lkIElEIGNvbmZsaWN0c1xuICAgICAgdmVoaWNsZUluZGV4LFxuICAgICAgZGlyZWN0aW9uOiBcImRvd25cIixcbiAgICAgIGlzVGFyZ2V0ZWQ6IHRydWUgLy8gTWFyayBhcyB0YXJnZXRlZFxuICAgIH07XG4gICAgXG4gICAgLy8gQWRkIHRoZSB0YXJnZXRlZCB2ZWhpY2xlIHRvIHRoZSBsYW5lXG4gICAgc2V0VmVoaWNsZXNQZXJMYW5lKHByZXYgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFZlaGljbGVzID0geyAuLi5wcmV2IH07XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxpemUgdGhlIGxhbmUncyB2ZWhpY2xlcyBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICBpZiAoIXVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSkge1xuICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkIHRoZSB0YXJnZXRlZCB2ZWhpY2xlIHRvIHRoZSBsYW5lXG4gICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBbLi4udXBkYXRlZFZlaGljbGVzW2xhbmVOdW1iZXJdLCB0YXJnZXRlZFZlaGljbGVdO1xuICAgICAgXG4gICAgICByZXR1cm4gdXBkYXRlZFZlaGljbGVzO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSB0aGUgbmV4dCB2ZWhpY2xlIElEXG4gICAgc2V0TmV4dFZlaGljbGVJZChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICBcbiAgICAvLyBSZXNldCB0aGUgdGFyZ2V0ZWQgdmVoaWNsZSBmbGFnIGFmdGVyIGEgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFRhcmdldGVkVmVoaWNsZUFjdGl2ZShmYWxzZSk7XG4gICAgfSwgMzAwMCk7XG4gIH07XG4gIFxuICBcbiAgLy8gSGFuZGxlIGxhbmUgY2xpY2tzIC0gbm93IGhhbmRsZXMgbGFuZSBzZWxlY3Rpb24gYmVmb3JlIGdhbWUgc3RhcnRzXG4gIGNvbnN0IGhhbmRsZUxhbmVDbGljayA9IChsYW5lTnVtYmVyOiBudW1iZXIpID0+IHtcbiAgICAvLyBJZiBnYW1lIGlzIGFjdGl2ZSwgbGFuZSBjbGlja3MgYXJlIGlnbm9yZWQgYXMgbW92ZW1lbnQgaXMgYXV0b21hdGljXG4gICAgaWYgKGdhbWVBY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQmVmb3JlIGdhbWUgc3RhcnRzLCBjbGlja2luZyBhIGxhbmUgc2VsZWN0cyBpdCBhcyB0aGUgdGFyZ2V0XG4gICAgaWYgKCFnYW1lQWN0aXZlICYmIGxhbmVOdW1iZXIgPiAwICYmIGxhbmVOdW1iZXIgPD0gZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMpIHtcbiAgICAgIG9uTGFuZUNsaWNrKGxhbmVOdW1iZXIpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIERlbW8gbW9kZSAtIHJlc2V0IHZlaGljbGVzIHdoZW4gZGlmZmljdWx0eSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0VmVoaWNsZXNQZXJMYW5lKHt9KTtcbiAgICBzZXRQcm9wVmVoaWNsZXNQZXJMYW5lKHt9KTtcbiAgICAvLyBSZXNldCBwbGF5ZXIgY2FtZXJhIHBvc2l0aW9uIHdoZW4gZGlmZmljdWx0eSBjaGFuZ2VzXG4gICAgc2V0UGxheWVyQ2FtZXJhUG9zaXRpb24oMCk7XG4gICAgLy8gUmVzZXQgbWFudWFsIGNhbWVyYSBwb3NpdGlvbiB3aGVuIGRpZmZpY3VsdHkgY2hhbmdlc1xuICAgIHNldE1hbnVhbENhbWVyYVBvc2l0aW9uKDApO1xuICAgIC8vIFJlc2V0IHZpc2libGUgbGFuZSByYW5nZVxuICAgIHNldFZpc2libGVMYW5lUmFuZ2UoeyBzdGFydDogMCwgZW5kOiAzIH0pO1xuICAgIC8vIFJlc2V0IHZlaGljbGUgSUQgY291bnRlclxuICAgIHNldE5leHRWZWhpY2xlSWQoMSk7XG4gICAgLy8gUmVzZXQgcHJvcCB2ZWhpY2xlIElEIGNvdW50ZXJcbiAgICBzZXROZXh0UHJvcFZlaGljbGVJZCgxMDAwMCk7XG4gIH0sIFtkaWZmaWN1bHR5XSk7XG4gIFxuICAvLyBSZXNldCBjYW1lcmEgcG9zaXRpb24gd2hlbiBnYW1lIGVuZHMgYW5kIHBsYXllciBjbGlja3MgXCJQbGF5IEFnYWluXCJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBXaGVuIGlzR2FtZU92ZXIgdHJhbnNpdGlvbnMgZnJvbSB0cnVlIHRvIGZhbHNlIChhZnRlciBjbGlja2luZyBQbGF5IEFnYWluKVxuICAgIGlmICghaXNHYW1lT3ZlciAmJiAhZ2FtZUFjdGl2ZSAmJiBjdXJyZW50TGFuZSA9PT0gMCkge1xuICAgICAgLy8gUmVzZXQgYm90aCBjYW1lcmEgcG9zaXRpb25zXG4gICAgICBzZXRQbGF5ZXJDYW1lcmFQb3NpdGlvbigwKTtcbiAgICAgIHNldE1hbnVhbENhbWVyYVBvc2l0aW9uKDApO1xuICAgICAgLy8gUmVzZXQgdmlzaWJsZSBsYW5lIHJhbmdlXG4gICAgICBzZXRWaXNpYmxlTGFuZVJhbmdlKHsgc3RhcnQ6IDAsIGVuZDogMyB9KTtcbiAgICB9XG4gIH0sIFtpc0dhbWVPdmVyLCBnYW1lQWN0aXZlLCBjdXJyZW50TGFuZV0pO1xuICBcbiAgLy8gRnJlZXplIGNhbWVyYSBwb3NpdGlvbiB3aGVuIGdhbWUgZW5kcyB3aXRoIGEgbG9zc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFdoZW4gdGhlIGdhbWUgZW5kcyAoaXNHYW1lT3ZlciBiZWNvbWVzIHRydWUpLCBrZWVwIHRoZSBjYW1lcmEgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICBpZiAoaXNHYW1lT3Zlcikge1xuICAgICAgLy8gTm8gbmVlZCB0byB1cGRhdGUgY2FtZXJhIHBvc2l0aW9uIC0gd2UnbGwganVzdCB1c2UgdGhlIGN1cnJlbnQgcGxheWVyQ2FtZXJhUG9zaXRpb25cbiAgICAgIC8vIGluIHRoZSBtb3Rpb24uZGl2IGFuaW1hdGUgcHJvcFxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdmlzaWJsZSBsYW5lIHJhbmdlIGJhc2VkIG9uIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gcGxheWVyQ2FtZXJhUG9zaXRpb247XG4gICAgICBjb25zdCBzdGFydExhbmUgPSBNYXRoLmZsb29yKHBvc2l0aW9uIC8gMTUwKTtcbiAgICAgIGNvbnN0IGVuZExhbmUgPSBzdGFydExhbmUgKyAzO1xuICAgICAgXG4gICAgICBzZXRWaXNpYmxlTGFuZVJhbmdlKHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0TGFuZSxcbiAgICAgICAgZW5kOiBlbmRMYW5lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtpc0dhbWVPdmVyLCBwbGF5ZXJDYW1lcmFQb3NpdGlvbl0pO1xuICBcbiAgLy8gVXBkYXRlIHBsYXllciBjYW1lcmEgcG9zaXRpb24gd2hlbiBjdXJyZW50IGxhbmUgY2hhbmdlcyAoZHVyaW5nIGdhbWVwbGF5KVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXJyZW50TGFuZSA+IDIpIHtcbiAgICAgIHNldFBsYXllckNhbWVyYVBvc2l0aW9uKChjdXJyZW50TGFuZSAtIDIpICogMTUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0UGxheWVyQ2FtZXJhUG9zaXRpb24oMCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSB2aXNpYmxlIGxhbmUgcmFuZ2UgZm9yIHRoZSBwbGF5ZXIgY2FtZXJhXG4gICAgaWYgKGdhbWVBY3RpdmUpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gY3VycmVudExhbmUgPiAyID8gKGN1cnJlbnRMYW5lIC0gMikgKiAxNTAgOiAwO1xuICAgICAgY29uc3Qgc3RhcnRMYW5lID0gTWF0aC5mbG9vcihwb3NpdGlvbiAvIDE1MCk7XG4gICAgICBjb25zdCBlbmRMYW5lID0gc3RhcnRMYW5lICsgMztcbiAgICAgIFxuICAgICAgc2V0VmlzaWJsZUxhbmVSYW5nZSh7XG4gICAgICAgIHN0YXJ0OiBzdGFydExhbmUsXG4gICAgICAgIGVuZDogZW5kTGFuZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbY3VycmVudExhbmUsIGdhbWVBY3RpdmVdKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIHNjcm9sbCBjYW1lcmEgbGVmdCAob25seSBmb3IgbWFudWFsIGNhbWVyYSlcbiAgY29uc3Qgc2Nyb2xsQ2FtZXJhTGVmdCA9ICgpID0+IHtcbiAgICAvLyBEb24ndCBhbGxvdyBzY3JvbGxpbmcgcGFzdCB0aGUgc3RhcnRcbiAgICBpZiAobWFudWFsQ2FtZXJhUG9zaXRpb24gPD0gMCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNjcm9sbCBieSBvbmUgbGFuZSAoMTUwcHgpXG4gICAgY29uc3QgbmV3UG9zaXRpb24gPSBNYXRoLm1heCgwLCBtYW51YWxDYW1lcmFQb3NpdGlvbiAtIDE1MCk7XG4gICAgc2V0TWFudWFsQ2FtZXJhUG9zaXRpb24obmV3UG9zaXRpb24pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSB2aXNpYmxlIGxhbmUgcmFuZ2UgZm9yIHRoZSBtYW51YWwgY2FtZXJhXG4gICAgY29uc3Qgc3RhcnRMYW5lID0gTWF0aC5mbG9vcihuZXdQb3NpdGlvbiAvIDE1MCk7XG4gICAgY29uc3QgZW5kTGFuZSA9IHN0YXJ0TGFuZSArIDM7XG4gICAgc2V0VmlzaWJsZUxhbmVSYW5nZSh7IHN0YXJ0OiBzdGFydExhbmUsIGVuZDogZW5kTGFuZSB9KTtcbiAgfTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIHNjcm9sbCBjYW1lcmEgcmlnaHQgKG9ubHkgZm9yIG1hbnVhbCBjYW1lcmEpXG4gIGNvbnN0IHNjcm9sbENhbWVyYVJpZ2h0ID0gKCkgPT4ge1xuICAgIC8vIERvbid0IGFsbG93IHNjcm9sbGluZyBwYXN0IHRoZSBlbmRcbiAgICBjb25zdCBtYXhTY3JvbGwgPSAoZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgLSAyKSAqIDE1MDtcbiAgICBpZiAobWFudWFsQ2FtZXJhUG9zaXRpb24gPj0gbWF4U2Nyb2xsKSByZXR1cm47XG4gICAgXG4gICAgLy8gU2Nyb2xsIGJ5IG9uZSBsYW5lICgxNTBweClcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IE1hdGgubWluKG1heFNjcm9sbCwgbWFudWFsQ2FtZXJhUG9zaXRpb24gKyAxNTApO1xuICAgIHNldE1hbnVhbENhbWVyYVBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgdmlzaWJsZSBsYW5lIHJhbmdlIGZvciB0aGUgbWFudWFsIGNhbWVyYVxuICAgIGNvbnN0IHN0YXJ0TGFuZSA9IE1hdGguZmxvb3IobmV3UG9zaXRpb24gLyAxNTApO1xuICAgIGNvbnN0IGVuZExhbmUgPSBzdGFydExhbmUgKyAzO1xuICAgIHNldFZpc2libGVMYW5lUmFuZ2UoeyBzdGFydDogc3RhcnRMYW5lLCBlbmQ6IGVuZExhbmUgfSk7XG4gIH07XG4gIFxuICAvLyBHZW5lcmF0ZSB2ZWhpY2xlcyBwZXJpb2RpY2FsbHkgKG9ubHkgaW4gZGVtbyBtb2RlIHdoZW4gZ2FtZSBpcyBub3QgYWN0aXZlKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgc3Bhd24gdmVoaWNsZXMgd2hlbiBnYW1lIGlzIE5PVCBhY3RpdmVcbiAgICBpZiAoZ2FtZUFjdGl2ZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHZlaGljbGVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIC8vIE9ubHkgZ2VuZXJhdGUgdmVoaWNsZXMgZm9yIGxhbmVzIGFoZWFkIG9mIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgIGNvbnN0IGVsaWdpYmxlTGFuZXMgPSBBcnJheS5mcm9tKFxuICAgICAgICB7IGxlbmd0aDogZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgfSwgXG4gICAgICAgIChfLCBpKSA9PiBpICsgMVxuICAgICAgKS5maWx0ZXIobGFuZSA9PiBsYW5lID4gY3VycmVudExhbmUpO1xuICAgICAgXG4gICAgICBpZiAoZWxpZ2libGVMYW5lcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgIFxuICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgZmluYWwgbGFuZVxuICAgICAgY29uc3QgaXNPbmx5RmluYWxMYW5lID0gZWxpZ2libGVMYW5lcy5sZW5ndGggPT09IDEgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWdpYmxlTGFuZXNbMF0gPT09IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMYW5lID09PSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyAtIDE7XG4gICAgICBcbiAgICAgIC8vIElmIHdlJ3JlIGF0IHRoZSBmaW5hbCBsYW5lLCB1c2Ugc3BlY2lhbCBzcGF3biBsb2dpY1xuICAgICAgaWYgKGlzT25seUZpbmFsTGFuZSkge1xuICAgICAgICAvLyBPbmx5IHNwYXduIGEgdmVoaWNsZSBpbiB0aGUgZmluYWwgbGFuZSAzMCUgb2YgdGhlIHRpbWVcbiAgICAgICAgLy8gVGhpcyBjcmVhdGVzIG5hdHVyYWwgZ2FwcyBmb3IgdGhlIHBsYXllciB0byBtb3ZlIHRocm91Z2hcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjMpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBhbHJlYWR5IHRvbyBtYW55IHZlaGljbGVzIGluIHRoZSBmaW5hbCBsYW5lXG4gICAgICAgIGNvbnN0IGZpbmFsTGFuZVZlaGljbGVzID0gdmVoaWNsZXNQZXJMYW5lW2RpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzXSB8fCBbXTtcbiAgICAgICAgaWYgKGZpbmFsTGFuZVZlaGljbGVzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZpbmFsIGxhbmUgaGFzIGVub3VnaCB2ZWhpY2xlcywgc2tpcHBpbmcgc3Bhd24nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFByb2NlZWQgd2l0aCBzcGF3bmluZyBpbiB0aGUgZmluYWwgbGFuZVxuICAgICAgICBjb25zdCB2ZWhpY2xlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgdmVoaWNsZSBmb3IgdGhlIGZpbmFsIGxhbmVcbiAgICAgICAgY29uc3QgbmV3VmVoaWNsZTogVmVoaWNsZU9ic3RhY2xlID0ge1xuICAgICAgICAgIGlkOiBuZXh0VmVoaWNsZUlkLFxuICAgICAgICAgIHZlaGljbGVJbmRleCxcbiAgICAgICAgICBkaXJlY3Rpb246IFwiZG93blwiXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIG5leHQgdmVoaWNsZSBJRFxuICAgICAgICBzZXROZXh0VmVoaWNsZUlkKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSB2ZWhpY2xlIHRvIHRoZSBmaW5hbCBsYW5lXG4gICAgICAgIHNldFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkVmVoaWNsZXMgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICBjb25zdCBmaW5hbExhbmUgPSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBsYW5lJ3MgdmVoaWNsZXMgYXJyYXkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgIGlmICghdXBkYXRlZFZlaGljbGVzW2ZpbmFsTGFuZV0pIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tmaW5hbExhbmVdID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCB0aGUgbmV3IHZlaGljbGUgdG8gdGhlIGxhbmVcbiAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbZmluYWxMYW5lXSA9IFsuLi51cGRhdGVkVmVoaWNsZXNbZmluYWxMYW5lXSwgbmV3VmVoaWNsZV07XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnU3Bhd25lZCB2ZWhpY2xlIGluIGZpbmFsIGxhbmUnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBOb3JtYWwgbGFuZSBzcGF3bmluZyBsb2dpYyBmb3Igbm9uLWZpbmFsIGxhbmVzXG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgdmVoaWNsZSBjb3VudHMgcGVyIGxhbmVcbiAgICAgIGNvbnN0IGxhbmVDb3VudHM6IFJlY29yZDxudW1iZXIsIG51bWJlcj4gPSB7fTtcbiAgICAgIGVsaWdpYmxlTGFuZXMuZm9yRWFjaChsYW5lID0+IHtcbiAgICAgICAgbGFuZUNvdW50c1tsYW5lXSA9IHZlaGljbGVzUGVyTGFuZVtsYW5lXT8ubGVuZ3RoIHx8IDA7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gRmluZCBsYW5lcyB3aXRoIHRoZSBmZXdlc3QgdmVoaWNsZXNcbiAgICAgIGNvbnN0IG1pbkNvdW50ID0gTWF0aC5taW4oLi4uT2JqZWN0LnZhbHVlcyhsYW5lQ291bnRzKS5sZW5ndGggPyBPYmplY3QudmFsdWVzKGxhbmVDb3VudHMpIDogWzBdKTtcbiAgICAgIGNvbnN0IGxhbmVzV2l0aEZld2VzdFZlaGljbGVzID0gZWxpZ2libGVMYW5lcy5maWx0ZXIobGFuZSA9PiAobGFuZUNvdW50c1tsYW5lXSB8fCAwKSA8PSBtaW5Db3VudCk7XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbWx5IHNlbGVjdCBmcm9tIGxhbmVzIHdpdGggZmV3ZXIgdmVoaWNsZXMgKHdlaWdodGVkIGRpc3RyaWJ1dGlvbilcbiAgICAgIC8vIFRoaXMgcHJpb3JpdGl6ZXMgbGFuZXMgd2l0aCBmZXdlciB2ZWhpY2xlcyBidXQgc3RpbGwgbWFpbnRhaW5zIHNvbWUgcmFuZG9tbmVzc1xuICAgICAgY29uc3QgcmFuZG9tTGFuZSA9IGxhbmVzV2l0aEZld2VzdFZlaGljbGVzW1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsYW5lc1dpdGhGZXdlc3RWZWhpY2xlcy5sZW5ndGgpXG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBSYW5kb21seSBzZWxlY3QgdmVoaWNsZSBpbWFnZSAoMS01KVxuICAgICAgY29uc3QgdmVoaWNsZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgdmVoaWNsZVxuICAgICAgY29uc3QgbmV3VmVoaWNsZTogVmVoaWNsZU9ic3RhY2xlID0ge1xuICAgICAgICBpZDogbmV4dFZlaGljbGVJZCxcbiAgICAgICAgdmVoaWNsZUluZGV4LFxuICAgICAgICBkaXJlY3Rpb246IFwiZG93blwiXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIG5leHQgdmVoaWNsZSBJRFxuICAgICAgc2V0TmV4dFZlaGljbGVJZChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHRoZSB2ZWhpY2xlIHRvIHRoZSBhcHByb3ByaWF0ZSBsYW5lXG4gICAgICBzZXRWZWhpY2xlc1BlckxhbmUocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRWZWhpY2xlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbGFuZSdzIHZlaGljbGVzIGFycmF5IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgaWYgKCF1cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0pIHtcbiAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgdmVoaWNsZSB0byB0aGUgbGFuZVxuICAgICAgICB1cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0gPSBbLi4udXBkYXRlZFZlaGljbGVzW3JhbmRvbUxhbmVdLCBuZXdWZWhpY2xlXTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkVmVoaWNsZXM7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTG9nIHZlaGljbGUgZGlzdHJpYnV0aW9uIGZvciBkZWJ1Z2dpbmdcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdWZWhpY2xlIGRpc3RyaWJ1dGlvbjonLCBcbiAgICAgIC8vICAgT2JqZWN0LmVudHJpZXModmVoaWNsZXNQZXJMYW5lKS5tYXAoKFtsYW5lLCB2ZWhpY2xlc10pID0+IFxuICAgICAgLy8gICAgIGBMYW5lICR7bGFuZX06ICR7dmVoaWNsZXM/Lmxlbmd0aCB8fCAwfSB2ZWhpY2xlc2BcbiAgICAgIC8vICAgKS5qb2luKCcsICcpXG4gICAgICAvLyApO1xuICAgICAgXG4gICAgLy8gQWRqdXN0IHNwYXduIGludGVydmFsIGJhc2VkIG9uIGRpZmZpY3VsdHkgYW5kIHNwZWNpYWwgY2FzZSBmb3IgZmluYWwgbGFuZVxuICAgIH0sIGlzQXRTZWNvbmRUb0xhc3RMYW5lKCkgPyA4MDAgOiAvLyBTbG93ZXIgc3Bhd25pbmcgd2hlbiBhdCBzZWNvbmQtdG8tbGFzdCBsYW5lXG4gICAgICAgZGlmZmljdWx0eSA9PT0gXCJkYXJlZGV2aWxcIiA/IDEwMCA6IFxuICAgICAgIGRpZmZpY3VsdHkgPT09IFwiaGFyZFwiID8gMjAwIDogXG4gICAgICAgZGlmZmljdWx0eSA9PT0gXCJtZWRpdW1cIiA/IDM1MCA6IFxuICAgICAgIDUwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwodmVoaWNsZUludGVydmFsKTtcbiAgfSwgW2dhbWVBY3RpdmUsIGN1cnJlbnRMYW5lLCBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcywgZGlmZmljdWx0eSwgbmV4dFZlaGljbGVJZF0pO1xuICBcbiAgLy8gU2VwYXJhdGUgdXNlRWZmZWN0IHRvIGNsZWFyIHZlaGljbGVzIHdoZW4gZ2FtZSBiZWNvbWVzIGFjdGl2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnYW1lQWN0aXZlKSB7XG4gICAgICAvLyBDbGVhciBhbGwgdmVoaWNsZXMgd2hlbiBnYW1lIHN0YXJ0c1xuICAgICAgc2V0VmVoaWNsZXNQZXJMYW5lKHt9KTtcbiAgICAgIC8vIEFsc28gY2xlYXIgcHJvcCB2ZWhpY2xlcyB3aGVuIGdhbWUgc3RhcnRzL2VuZHNcbiAgICAgIHNldFByb3BWZWhpY2xlc1BlckxhbmUoe30pO1xuICAgIH1cbiAgfSwgW2dhbWVBY3RpdmVdKTtcbiAgXG4gIC8vIFNwYXduIHByb3AgdmVoaWNsZXMgb25seSB3aGVuIGdhbWUgaXMgYWN0aXZlIChwdXJlbHkgZGVjb3JhdGl2ZSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHNwYXduIHByb3AgdmVoaWNsZXMgd2hlbiBnYW1lIElTIGFjdGl2ZSAob3Bwb3NpdGUgb2YgcmVndWxhciB2ZWhpY2xlcylcbiAgICBpZiAoIWdhbWVBY3RpdmUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBwcm9wVmVoaWNsZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgLy8gRGVmaW5lIGVsaWdpYmxlIGxhbmVzIGJhc2VkIG9uIHBsYXllcidzIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgIGxldCBlbGlnaWJsZUxhbmVzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyAyLTMgbGFuZXMgYWhlYWQgb2YgcGxheWVyIChpZiB0aGV5IGV4aXN0KVxuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gMzsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFoZWFkTGFuZSA9IGN1cnJlbnRMYW5lICsgaTtcbiAgICAgICAgaWYgKGFoZWFkTGFuZSA8PSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcykge1xuICAgICAgICAgIGVsaWdpYmxlTGFuZXMucHVzaChhaGVhZExhbmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIDIwJSBjaGFuY2UgdG8gc3Bhd24gMSBsYW5lIGJlZm9yZSB0aGUgcGxheWVyXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMikge1xuICAgICAgICBjb25zdCBiZWZvcmVMYW5lID0gY3VycmVudExhbmUgLSAxO1xuICAgICAgICBpZiAoYmVmb3JlTGFuZSA+IDApIHsgLy8gTWFrZSBzdXJlIGl0J3MgYSB2YWxpZCBsYW5lXG4gICAgICAgICAgZWxpZ2libGVMYW5lcy5wdXNoKGJlZm9yZUxhbmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIG5vIGVsaWdpYmxlIGxhbmVzLCBza2lwIHRoaXMgc3Bhd24gY3ljbGVcbiAgICAgIGlmIChlbGlnaWJsZUxhbmVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBSYW5kb21seSBzZWxlY3QgYSBsYW5lIGZyb20gZWxpZ2libGUgbGFuZXNcbiAgICAgIGNvbnN0IHJhbmRvbUxhbmUgPSBlbGlnaWJsZUxhbmVzW1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBlbGlnaWJsZUxhbmVzLmxlbmd0aClcbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbWx5IHNlbGVjdCB2ZWhpY2xlIGltYWdlICgxLTUpXG4gICAgICBjb25zdCB2ZWhpY2xlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBwcm9wIHZlaGljbGUgKHVzaW5nIElEIHJhbmdlIDEwMDAwKylcbiAgICAgIGNvbnN0IG5ld1Byb3BWZWhpY2xlOiBWZWhpY2xlT2JzdGFjbGUgPSB7XG4gICAgICAgIGlkOiBuZXh0UHJvcFZlaGljbGVJZCxcbiAgICAgICAgdmVoaWNsZUluZGV4LFxuICAgICAgICBkaXJlY3Rpb246IFwiZG93blwiLFxuICAgICAgICBpc1Byb3A6IHRydWUgLy8gTWFyayBhcyBwcm9wIHZlaGljbGUgKHdvbid0IGNhdXNlIGNvbGxpc2lvbnMpXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIG5leHQgcHJvcCB2ZWhpY2xlIElEXG4gICAgICBzZXROZXh0UHJvcFZlaGljbGVJZChwcmV2ID0+IHByZXYgKyAxKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHRoZSBwcm9wIHZlaGljbGUgdG8gdGhlIGFwcHJvcHJpYXRlIGxhbmVcbiAgICAgIHNldFByb3BWZWhpY2xlc1BlckxhbmUocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRWZWhpY2xlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbGFuZSdzIHZlaGljbGVzIGFycmF5IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgaWYgKCF1cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0pIHtcbiAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgcHJvcCB2ZWhpY2xlIHRvIHRoZSBsYW5lXG4gICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSA9IFsuLi51cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0sIG5ld1Byb3BWZWhpY2xlXTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkVmVoaWNsZXM7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gY29uc29sZS5sb2coYFByb3AgdmVoaWNsZSBzcGF3bmVkIG9uIGxhbmUgJHtyYW5kb21MYW5lfWApO1xuICAgICAgXG4gICAgfSwgZGlmZmljdWx0eSA9PT0gXCJkYXJlZGV2aWxcIiA/IDIwMCA6IFxuICAgICAgIGRpZmZpY3VsdHkgPT09IFwiaGFyZFwiID8gMzAwIDogXG4gICAgICAgZGlmZmljdWx0eSA9PT0gXCJtZWRpdW1cIiA/IDQwMCA6IFxuICAgICAgIDUwMCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwocHJvcFZlaGljbGVJbnRlcnZhbCk7XG4gIH0sIFtnYW1lQWN0aXZlLCBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcywgZGlmZmljdWx0eSwgbmV4dFByb3BWZWhpY2xlSWQsIGN1cnJlbnRMYW5lXSk7XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgcGxheWVyIGlzIGF0IHNlY29uZC10by1sYXN0IGxhbmVcbiAgY29uc3QgaXNBdFNlY29uZFRvTGFzdExhbmUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGN1cnJlbnRMYW5lID09PSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyAtIDEgJiYgZ2FtZUFjdGl2ZTtcbiAgfTtcbiAgXG4gIC8vIFNwbGl0IGNvbGxpc2lvbiBkZXRlY3Rpb24gYW5kIHZlaGljbGUgY2xlYW51cCBpbnRvIHNlcGFyYXRlIGVmZmVjdHNcbiAgXG4gIC8vIFZlaGljbGUgYW5pbWF0aW9uIGNvbXBsZXRpb24gaGFuZGxlciAoYWx3YXlzIGFjdGl2ZSByZWdhcmRsZXNzIG9mIGdhbWUgc3RhdGUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTGlzdGVuIGZvciB2ZWhpY2xlIGFuaW1hdGlvbiBjb21wbGV0aW9uIGV2ZW50c1xuICAgIGNvbnN0IGhhbmRsZVZlaGljbGVBbmltYXRpb25Db21wbGV0ZSA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gZXZlbnQgYXMgQ3VzdG9tRXZlbnQ7XG4gICAgICBjb25zdCB7IGxhbmVOdW1iZXIsIHZlaGljbGVJZCwgaXNQcm9wIH0gPSBjdXN0b21FdmVudC5kZXRhaWw7XG4gICAgICBcbiAgICAgIGlmIChpc1Byb3ApIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjb21wbGV0ZWQgcHJvcCB2ZWhpY2xlIGZyb20gdGhlIGxhbmVcbiAgICAgICAgc2V0UHJvcFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkVmVoaWNsZXMgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICBjb25zdCBsYW5lVmVoaWNsZXMgPSB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gfHwgW107XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmlsdGVyIG91dCB0aGUgY29tcGxldGVkIHZlaGljbGVcbiAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBsYW5lVmVoaWNsZXMuZmlsdGVyKHYgPT4gdi5pZCAhPT0gdmVoaWNsZUlkKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZFZlaGljbGVzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY29tcGxldGVkIHZlaGljbGUgZnJvbSB0aGUgbGFuZVxuICAgICAgICBzZXRWZWhpY2xlc1BlckxhbmUocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFZlaGljbGVzID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgY29uc3QgbGFuZVZlaGljbGVzID0gdXBkYXRlZFZlaGljbGVzW2xhbmVOdW1iZXJdIHx8IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbHRlciBvdXQgdGhlIGNvbXBsZXRlZCB2ZWhpY2xlXG4gICAgICAgICAgdXBkYXRlZFZlaGljbGVzW2xhbmVOdW1iZXJdID0gbGFuZVZlaGljbGVzLmZpbHRlcih2ID0+IHYuaWQgIT09IHZlaGljbGVJZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgZm9yIHZlaGljbGUgYW5pbWF0aW9uIGNvbXBsZXRpb25cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2ZWhpY2xlQW5pbWF0aW9uQ29tcGxldGUnLCBoYW5kbGVWZWhpY2xlQW5pbWF0aW9uQ29tcGxldGUpO1xuICAgIFxuICAgIC8vIEJhY2t1cCBjbGVhbnVwIGZvciBhbnkgdmVoaWNsZXMgdGhhdCBtaWdodCBub3QgdHJpZ2dlciB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlIGV2ZW50XG4gICAgY29uc3QgY2xlYW51cEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgLy8gQ2xlYW4gdXAgcmVndWxhciB2ZWhpY2xlc1xuICAgICAgc2V0VmVoaWNsZXNQZXJMYW5lKHByZXYgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkVmVoaWNsZXM6IFJlY29yZDxudW1iZXIsIFZlaGljbGVPYnN0YWNsZVtdPiA9IHt9O1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yIGVhY2ggbGFuZSwga2VlcCBvbmx5IHRoZSA1IG1vc3QgcmVjZW50IHZlaGljbGVzXG4gICAgICAgIE9iamVjdC5rZXlzKHByZXYpLmZvckVhY2gobGFuZUtleSA9PiB7XG4gICAgICAgICAgY29uc3QgbGFuZU51bWJlciA9IHBhcnNlSW50KGxhbmVLZXkpO1xuICAgICAgICAgIGNvbnN0IGxhbmVWZWhpY2xlcyA9IHByZXZbbGFuZU51bWJlcl0gfHwgW107XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGxhbmVWZWhpY2xlcy5sZW5ndGggPiA1KSB7XG4gICAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBsYW5lVmVoaWNsZXMuc2xpY2UoLTUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBsYW5lVmVoaWNsZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkVmVoaWNsZXM7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgcHJvcCB2ZWhpY2xlc1xuICAgICAgc2V0UHJvcFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFZlaGljbGVzOiBSZWNvcmQ8bnVtYmVyLCBWZWhpY2xlT2JzdGFjbGVbXT4gPSB7fTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBlYWNoIGxhbmUsIGtlZXAgb25seSB0aGUgNSBtb3N0IHJlY2VudCBwcm9wIHZlaGljbGVzXG4gICAgICAgIE9iamVjdC5rZXlzKHByZXYpLmZvckVhY2gobGFuZUtleSA9PiB7XG4gICAgICAgICAgY29uc3QgbGFuZU51bWJlciA9IHBhcnNlSW50KGxhbmVLZXkpO1xuICAgICAgICAgIGNvbnN0IGxhbmVWZWhpY2xlcyA9IHByZXZbbGFuZU51bWJlcl0gfHwgW107XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGxhbmVWZWhpY2xlcy5sZW5ndGggPiA1KSB7XG4gICAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBsYW5lVmVoaWNsZXMuc2xpY2UoLTUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBsYW5lVmVoaWNsZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkVmVoaWNsZXM7XG4gICAgICB9KTtcbiAgICB9LCAyMDAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbChjbGVhbnVwSW50ZXJ2YWwpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmVoaWNsZUFuaW1hdGlvbkNvbXBsZXRlJywgaGFuZGxlVmVoaWNsZUFuaW1hdGlvbkNvbXBsZXRlKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIFxuICBcbiAgLy8gTW91c2UgZXZlbnQgaGFuZGxlcnMgZm9yIGRyYWcgc2Nyb2xsaW5nXG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKGdhbWVBY3RpdmUgfHwgaXNHYW1lT3ZlcikgcmV0dXJuOyAvLyBPbmx5IGFsbG93IGRyYWcgc2Nyb2xsaW5nIHdoZW4gZ2FtZSBpcyBub3QgYWN0aXZlXG4gICAgXG4gICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcbiAgICBzZXREcmFnU3RhcnRYKGUuY2xpZW50WCk7XG4gICAgc2V0RHJhZ1N0YXJ0Q2FtZXJhUG9zKG1hbnVhbENhbWVyYVBvc2l0aW9uKTtcbiAgfTtcbiAgXG4gIGNvbnN0IGhhbmRsZU1vdXNlTW92ZSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKCFpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZHJhZ0Rpc3RhbmNlID0gZS5jbGllbnRYIC0gZHJhZ1N0YXJ0WDtcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IE1hdGgubWF4KFxuICAgICAgMCwgXG4gICAgICBNYXRoLm1pbihcbiAgICAgICAgKGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzIC0gMikgKiAxNTAsIC8vIE1heCBzY3JvbGwgcG9zaXRpb25cbiAgICAgICAgZHJhZ1N0YXJ0Q2FtZXJhUG9zIC0gZHJhZ0Rpc3RhbmNlIC8vIE1vdmUgY2FtZXJhIG9wcG9zaXRlIHRvIGRyYWcgZGlyZWN0aW9uXG4gICAgICApXG4gICAgKTtcbiAgICBcbiAgICBzZXRNYW51YWxDYW1lcmFQb3NpdGlvbihuZXdQb3NpdGlvbik7XG4gICAgXG4gICAgLy8gVXBkYXRlIHZpc2libGUgbGFuZSByYW5nZVxuICAgIGNvbnN0IHN0YXJ0TGFuZSA9IE1hdGguZmxvb3IobmV3UG9zaXRpb24gLyAxNTApO1xuICAgIGNvbnN0IGVuZExhbmUgPSBzdGFydExhbmUgKyAzO1xuICAgIHNldFZpc2libGVMYW5lUmFuZ2UoeyBzdGFydDogc3RhcnRMYW5lLCBlbmQ6IGVuZExhbmUgfSk7XG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVNb3VzZVVwID0gKCkgPT4ge1xuICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICB9O1xuICBcbiAgLy8gQWRkIG1vdXNlIGxlYXZlIGhhbmRsZXIgdG8gc3RvcCBkcmFnZ2luZyBpZiBtb3VzZSBsZWF2ZXMgdGhlIGNvbnRhaW5lclxuICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICB9O1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWUtY29udGFpbmVyLWJnIHJvdW5kZWQtbGcgcC02IHBiLTEyIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiB3LWZ1bGxcIj5cbiAgICAgIHsvKiBCYWNrZ3JvdW5kIGVsZW1lbnRzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGdhbWUtY29udGFpbmVyLWJnIHotMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMCB3LWZ1bGwgaC04IGJnLVsjMGYwZjFhXS81MFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIGxlZnQtMCB3LWZ1bGwgaC04IGJnLVsjMGYwZjFhXS81MFwiPjwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIEhvcml6b250YWwgbGluZXMgYXQgdG9wIGFuZCBib3R0b20gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLTEgYmctWyMyMzIzMzRdXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHctZnVsbCBoLTEgYmctWyMyMzIzMzRdXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC1bNTAwcHhdIHotMTAgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZU1vdXNlRG93bn1cbiAgICAgICAgb25Nb3VzZU1vdmU9e2hhbmRsZU1vdXNlTW92ZX1cbiAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVNb3VzZVVwfVxuICAgICAgICBvbk1vdXNlTGVhdmU9e2hhbmRsZU1vdXNlTGVhdmV9XG4gICAgICAgIHN0eWxlPXt7IGN1cnNvcjogIWdhbWVBY3RpdmUgJiYgIWlzR2FtZU92ZXIgPyAoaXNEcmFnZ2luZyA/ICdncmFiYmluZycgOiAnZ3JhYicpIDogJ2RlZmF1bHQnIH19XG4gICAgICA+XG4gICAgICAgIHsvKiBDYW1lcmEgY29udGFpbmVyIHRoYXQgbW92ZXMgYmFzZWQgb24gZ2FtZSBzdGF0ZSAqL31cbiAgICAgICAgPG1vdGlvbi5kaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgaC1mdWxsXCJcbiAgICAgICAgICBhbmltYXRlPXt7IFxuICAgICAgICAgICAgeDogaXNHYW1lT3ZlciA/IC1wbGF5ZXJDYW1lcmFQb3NpdGlvbiA6IC8vIFdoZW4gZ2FtZSBpcyBvdmVyLCBrZWVwIGNhbWVyYSBhdCBsYXN0IHBsYXllciBwb3NpdGlvblxuICAgICAgICAgICAgICAgZ2FtZUFjdGl2ZSA/IC1wbGF5ZXJDYW1lcmFQb3NpdGlvbiA6IC8vIER1cmluZyBnYW1lcGxheSwgZm9sbG93IHBsYXllclxuICAgICAgICAgICAgICAgLW1hbnVhbENhbWVyYVBvc2l0aW9uIC8vIEJlZm9yZSBnYW1lIHN0YXJ0cywgdXNlIG1hbnVhbCBjYW1lcmFcbiAgICAgICAgICB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiAzMDAsIGRhbXBpbmc6IDMwIH19XG4gICAgICAgID5cbiAgICAgICAgICB7LyogR2VuZXJhdGUgbGFuZXMgYmFzZWQgb24gZGlmZmljdWx0eSBzZXR0aW5ncyAqL31cbiAgICAgICAgICB7LyogQWRkIGVuZCBsYW5lIGF0IHRoZSBlbmQgKi99XG4gICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzICsgMiB9LCAoXywgaSkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCBsYW5lLCBtYWtlIGl0IHRoZSBlbmQgbGFuZVxuICAgICAgICAgICAgY29uc3QgaXNFbmRMYW5lID0gaSA9PT0gZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgKyAxO1xuICAgICAgICAgICAgY29uc3QgbGFuZU51bWJlciA9IGlzRW5kTGFuZSA/IC0xIDogaTtcbiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudExhbmUgPSBsYW5lTnVtYmVyID09PSBjdXJyZW50TGFuZTtcbiAgICAgICAgICAgIGNvbnN0IGlzTmV4dExhbmUgPSBsYW5lTnVtYmVyID09PSBjdXJyZW50TGFuZSArIDEgfHwgKGN1cnJlbnRMYW5lID09PSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyAmJiBpc0VuZExhbmUpO1xuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGxhbmVOdW1iZXIgPT09IDAgXG4gICAgICAgICAgICAgID8gMCBcbiAgICAgICAgICAgICAgOiBsYW5lTnVtYmVyID09PSAtMVxuICAgICAgICAgICAgICA/IDAgLy8gRW5kIGxhbmUgaGFzIG5vIG11bHRpcGxpZXJcbiAgICAgICAgICAgICAgOiBkaWZmaWN1bHR5U2V0dGluZ3MubGFuZU11bHRpcGxpZXJzW2xhbmVOdW1iZXIgLSAxXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gR2V0IHZlaGljbGVzIGZvciB0aGlzIGxhbmUgKG5vIHZlaGljbGVzIGluIGVuZCBsYW5lKVxuICAgICAgICAgICAgY29uc3QgbGFuZVZlaGljbGVzID0gaXNFbmRMYW5lID8gW10gOiB2ZWhpY2xlc1BlckxhbmVbbGFuZU51bWJlcl0gfHwgW107XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENvbWJpbmUgcmVndWxhciB2ZWhpY2xlcyBhbmQgcHJvcCB2ZWhpY2xlcyBmb3IgdGhpcyBsYW5lXG4gICAgICAgICAgICBjb25zdCBhbGxMYW5lVmVoaWNsZXMgPSBbLi4ubGFuZVZlaGljbGVzXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHByb3AgdmVoaWNsZXMgaWYgdGhleSBleGlzdCBmb3IgdGhpcyBsYW5lXG4gICAgICAgICAgICBjb25zdCBwcm9wVmVoaWNsZXMgPSBwcm9wVmVoaWNsZXNQZXJMYW5lW2xhbmVOdW1iZXJdIHx8IFtdO1xuICAgICAgICAgICAgYWxsTGFuZVZlaGljbGVzLnB1c2goLi4ucHJvcFZlaGljbGVzKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPExhbmVcbiAgICAgICAgICAgICAgICBrZXk9e2lzRW5kTGFuZSA/ICdlbmQtbGFuZScgOiBsYW5lTnVtYmVyfVxuICAgICAgICAgICAgICAgIGxhbmVOdW1iZXI9e2xhbmVOdW1iZXJ9XG4gICAgICAgICAgICAgICAgbXVsdGlwbGllcj17bXVsdGlwbGllcn1cbiAgICAgICAgICAgICAgICBpc0FjdGl2ZT17Z2FtZUFjdGl2ZSA/IChnYW1lQWN0aXZlICYmIGlzTmV4dExhbmUpIDogKGxhbmVOdW1iZXIgPiAwICYmIGxhbmVOdW1iZXIgPD0gZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMpfVxuICAgICAgICAgICAgICAgIGlzQ3VycmVudExhbmU9e2lzQ3VycmVudExhbmV9XG4gICAgICAgICAgICAgICAgaXNUYXJnZXRMYW5lPXshZ2FtZUFjdGl2ZSAmJiBsYW5lU2VsZWN0ZWQgJiYgbGFuZU51bWJlciA9PT0gdGFyZ2V0TGFuZX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVMYW5lQ2xpY2sobGFuZU51bWJlcil9XG4gICAgICAgICAgICAgICAgdmVoaWNsZXM9e2FsbExhbmVWZWhpY2xlc31cbiAgICAgICAgICAgICAgICBkaWZmaWN1bHR5PXtkaWZmaWN1bHR5fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cblxuICAgICAgICAgIHsvKiBLSU5PIGNoYXJhY3RlciBub3cgSU5TSURFIHRoZSBzY3JvbGxpbmcgY29udGFpbmVyICovfVxuICAgICAgICAgIDxtb3Rpb24uZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgei0xMCB3LTI0IGgtMjQgcGxheWVyLWNoYXJhY3RlclwiXG4gICAgICAgICAgICBpbml0aWFsPXt7IGxlZnQ6IDUwLCB0b3A6IFwiNTAlXCIgfX0gLy8gSW5pdGlhbCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgY29udGFpbmVyIHN0YXJ0XG4gICAgICAgICAgICBhbmltYXRlPXt7IFxuICAgICAgICAgICAgICAvLyBQb3NpdGlvbiBLaW5vIGJhc2VkICpvbmx5KiBvbiB0aGUgY3VycmVudCBsYW5lLCByZWxhdGl2ZSB0byB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgIGxlZnQ6IGN1cnJlbnRMYW5lICogMTUwICsgNTAsIFxuICAgICAgICAgICAgICB0b3A6IFwiNTAlXCIsXG4gICAgICAgICAgICAgIHk6IFwiLTUwJVwiLFxuICAgICAgICAgICAgICAvLyBObyBzY2FsZS9yb3RhdGUgZHVyaW5nIGdhbWVwbGF5IHRvIG1hdGNoIHdhbGtpbmcgYW5pbWF0aW9uXG4gICAgICAgICAgICAgIHNjYWxlOiAhZ2FtZUFjdGl2ZSAmJiBjdXJyZW50TGFuZSAhPT0gdGFyZ2V0TGFuZSA/IFsxLCAxLjA1LCAxXSA6IDEsXG4gICAgICAgICAgICAgIHJvdGF0ZTogIWdhbWVBY3RpdmUgJiYgY3VycmVudExhbmUgIT09IHRhcmdldExhbmUgPyBbMCwgMiwgMCwgLTIsIDBdIDogMFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgICAgLy8gVXNlIGxpbmVhciBlYXNpbmcgZm9yIHNtb290aCB3YWxraW5nIGFjcm9zcyB0aGUgbGFuZVxuICAgICAgICAgICAgICBkdXJhdGlvbjogMC41LCBcbiAgICAgICAgICAgICAgZWFzZTogXCJsaW5lYXJcIlxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICBzcmM9e1xuICAgICAgICAgICAgICAgICFnYW1lQWN0aXZlID8gJy9hc3NldHMvS2lub19JZGxlX0hELmdpZicgOlxuICAgICAgICAgICAgICAgIGN1cnJlbnRMYW5lID09PSB0YXJnZXRMYW5lID8gJy9hc3NldHMvS2lub19TdGF0aWMucG5nJyA6IFxuICAgICAgICAgICAgICAgICcvYXNzZXRzL0tpbm9fV2Fsa19IRC5naWYnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYWx0PVwiS2lubyBjaGFyYWN0ZXJcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgey8qIFVJIGVsZW1lbnRzIGxpa2UgY2FtZXJhIGNvbnRyb2xzIHJlbWFpbiBvdXRzaWRlIHRoZSBzY3JvbGxpbmcgY29udGFpbmVyICovfVxuICAgICAgICB7LyogUm9hZCBtYXJraW5ncyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBoLTIgYmctd2hpdGUvMjBcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBoLTIgYmctd2hpdGUvMjBcIj48L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBWZWhpY2xlcyBhcmUgbm93IHJlbmRlcmVkIGRpcmVjdGx5IHdpdGhpbiBlYWNoIGxhbmUgKi99XG4gICAgICAgIFxuICAgICAgICB7LyogTWFudWFsIGNhbWVyYSBjb250cm9scyAtIG9ubHkgc2hvd24gd2hlbiBnYW1lIGlzIG5vdCBhY3RpdmUgKi99XG4gICAgICAgIHshZ2FtZUFjdGl2ZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNCBsZWZ0LTAgcmlnaHQtMCBmbGV4IGp1c3RpZnktY2VudGVyIGdhcC00IHotMzBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmxhY2svMzAgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0ZXh0LXdoaXRlIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgQ2xpY2sgYW5kIGRyYWcgdG8gc2Nyb2xsIHRocm91Z2ggbGFuZXNcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIExhbmUgdmlzaWJpbGl0eSBpbmRpY2F0b3JzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0xNiBsZWZ0LTAgcmlnaHQtMCBmbGV4IGp1c3RpZnktY2VudGVyIGdhcC0xIHotMjBcIj5cbiAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgfSwgKF8sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxhbmVOdW1iZXIgPSBpICsgMTtcbiAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IGxhbmVOdW1iZXIgPj0gdmlzaWJsZUxhbmVSYW5nZS5zdGFydCAmJiBsYW5lTnVtYmVyIDw9IHZpc2libGVMYW5lUmFuZ2UuZW5kO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIGtleT17YGluZGljYXRvci0ke2xhbmVOdW1iZXJ9YH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTIgaC0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCAke2lzVmlzaWJsZSA/ICdiZy1wcmltYXJ5JyA6ICdiZy1ncmF5LTUwMCd9ICR7bGFuZU51bWJlciA9PT0gY3VycmVudExhbmUgPyAndy0zIGgtMycgOiAnJ31gfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtgTGFuZSAke2xhbmVOdW1iZXJ9YH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJtb3Rpb24iLCJMYW5lIiwiR2FtZUJvYXJkIiwiY3VycmVudExhbmUiLCJkaWZmaWN1bHR5IiwiZ2FtZUFjdGl2ZSIsIm9uTGFuZUNsaWNrIiwiZGlmZmljdWx0eVNldHRpbmdzIiwidGFyZ2V0TGFuZSIsImxhbmVTZWxlY3RlZCIsImlzR2FtZU92ZXIiLCJwbGF5ZXJDYW1lcmFQb3NpdGlvbiIsInNldFBsYXllckNhbWVyYVBvc2l0aW9uIiwibWFudWFsQ2FtZXJhUG9zaXRpb24iLCJzZXRNYW51YWxDYW1lcmFQb3NpdGlvbiIsInZpc2libGVMYW5lUmFuZ2UiLCJzZXRWaXNpYmxlTGFuZVJhbmdlIiwic3RhcnQiLCJlbmQiLCJpc0RyYWdnaW5nIiwic2V0SXNEcmFnZ2luZyIsImRyYWdTdGFydFgiLCJzZXREcmFnU3RhcnRYIiwiZHJhZ1N0YXJ0Q2FtZXJhUG9zIiwic2V0RHJhZ1N0YXJ0Q2FtZXJhUG9zIiwidmVoaWNsZXNQZXJMYW5lIiwic2V0VmVoaWNsZXNQZXJMYW5lIiwicHJvcFZlaGljbGVzUGVyTGFuZSIsInNldFByb3BWZWhpY2xlc1BlckxhbmUiLCJuZXh0VmVoaWNsZUlkIiwic2V0TmV4dFZlaGljbGVJZCIsIm5leHRQcm9wVmVoaWNsZUlkIiwic2V0TmV4dFByb3BWZWhpY2xlSWQiLCJ0YXJnZXRlZFZlaGljbGVBY3RpdmUiLCJzZXRUYXJnZXRlZFZlaGljbGVBY3RpdmUiLCJzcGF3blRhcmdldGVkVmVoaWNsZSIsImxhbmVOdW1iZXIiLCJ0YXJnZXRDaGFuY2UiLCJNYXRoIiwicmFuZG9tIiwiY29uc29sZSIsImxvZyIsInZlaGljbGVJbmRleCIsImZsb29yIiwidGFyZ2V0ZWRWZWhpY2xlIiwiaWQiLCJkaXJlY3Rpb24iLCJpc1RhcmdldGVkIiwicHJldiIsInVwZGF0ZWRWZWhpY2xlcyIsInNldFRpbWVvdXQiLCJoYW5kbGVMYW5lQ2xpY2siLCJ0b3RhbExhbmVzIiwicG9zaXRpb24iLCJzdGFydExhbmUiLCJlbmRMYW5lIiwic2Nyb2xsQ2FtZXJhTGVmdCIsIm5ld1Bvc2l0aW9uIiwibWF4Iiwic2Nyb2xsQ2FtZXJhUmlnaHQiLCJtYXhTY3JvbGwiLCJtaW4iLCJ2ZWhpY2xlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImVsaWdpYmxlTGFuZXMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsImZpbHRlciIsImxhbmUiLCJpc09ubHlGaW5hbExhbmUiLCJmaW5hbExhbmVWZWhpY2xlcyIsIm5ld1ZlaGljbGUiLCJmaW5hbExhbmUiLCJsYW5lQ291bnRzIiwiZm9yRWFjaCIsIm1pbkNvdW50IiwiT2JqZWN0IiwidmFsdWVzIiwibGFuZXNXaXRoRmV3ZXN0VmVoaWNsZXMiLCJyYW5kb21MYW5lIiwiaXNBdFNlY29uZFRvTGFzdExhbmUiLCJjbGVhckludGVydmFsIiwicHJvcFZlaGljbGVJbnRlcnZhbCIsImFoZWFkTGFuZSIsInB1c2giLCJiZWZvcmVMYW5lIiwibmV3UHJvcFZlaGljbGUiLCJpc1Byb3AiLCJoYW5kbGVWZWhpY2xlQW5pbWF0aW9uQ29tcGxldGUiLCJldmVudCIsImN1c3RvbUV2ZW50IiwidmVoaWNsZUlkIiwiZGV0YWlsIiwibGFuZVZlaGljbGVzIiwidiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFudXBJbnRlcnZhbCIsImtleXMiLCJsYW5lS2V5IiwicGFyc2VJbnQiLCJzbGljZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVNb3VzZURvd24iLCJlIiwiY2xpZW50WCIsImhhbmRsZU1vdXNlTW92ZSIsImRyYWdEaXN0YW5jZSIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVNb3VzZUxlYXZlIiwiZGl2IiwiY2xhc3NOYW1lIiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsIm9uTW91c2VMZWF2ZSIsInN0eWxlIiwiY3Vyc29yIiwiYW5pbWF0ZSIsIngiLCJ0cmFuc2l0aW9uIiwidHlwZSIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJpc0VuZExhbmUiLCJpc0N1cnJlbnRMYW5lIiwiaXNOZXh0TGFuZSIsIm11bHRpcGxpZXIiLCJsYW5lTXVsdGlwbGllcnMiLCJhbGxMYW5lVmVoaWNsZXMiLCJwcm9wVmVoaWNsZXMiLCJpc0FjdGl2ZSIsImlzVGFyZ2V0TGFuZSIsIm9uQ2xpY2siLCJ2ZWhpY2xlcyIsImluaXRpYWwiLCJsZWZ0IiwidG9wIiwieSIsInNjYWxlIiwicm90YXRlIiwiZHVyYXRpb24iLCJlYXNlIiwiaW1nIiwic3JjIiwiYWx0IiwiaXNWaXNpYmxlIiwidGl0bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/game/UI/game-board.tsx\n"));

/***/ })

});