"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/game/UI/game-board.tsx":
/*!***********************************************!*\
  !*** ./src/components/game/UI/game-board.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GameBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/dom/motion.mjs\");\n/* harmony import */ var _lane__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lane */ \"(app-pages-browser)/./src/components/game/UI/lane.tsx\");\n/* harmony import */ var _utils_sound_effects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/sound-effects */ \"(app-pages-browser)/./src/utils/sound-effects.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction GameBoard(param) {\n    let { currentLane, difficulty, gameActive, onLaneClick, difficultySettings, targetLane, laneSelected, isGameOver } = param;\n    _s();\n    // Auto-follow camera position (used during gameplay)\n    const [playerCameraPosition, setPlayerCameraPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Manual camera position (used for lane selection before game starts)\n    const [manualCameraPosition, setManualCameraPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Track visible lane range for UI indicators\n    const [visibleLaneRange, setVisibleLaneRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        start: 0,\n        end: 3\n    });\n    // Drag scrolling state\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [dragStartX, setDragStartX] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [dragStartCameraPos, setDragStartCameraPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Track vehicles per lane\n    const [vehiclesPerLane, setVehiclesPerLane] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Track prop vehicles per lane (decorative only, appear during gameplay)\n    const [propVehiclesPerLane, setPropVehiclesPerLane] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Track next vehicle ID\n    const [nextVehicleId, setNextVehicleId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    // Track next prop vehicle ID (using a different range to avoid conflicts)\n    const [nextPropVehicleId, setNextPropVehicleId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(10000);\n    // Track if a targeted vehicle is active\n    const [targetedVehicleActive, setTargetedVehicleActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function to spawn a targeted vehicle that aims for the player\n    const spawnTargetedVehicle = (laneNumber)=>{\n        if (targetedVehicleActive || !gameActive) return;\n        // Calculate chance based on difficulty\n        const targetChance = difficulty === \"daredevil\" ? 0.35 : difficulty === \"hard\" ? 0.25 : difficulty === \"medium\" ? 0.15 : 0.10;\n        // Random chance to spawn a targeted vehicle\n        if (Math.random() > targetChance) return;\n        console.log(\"Spawning targeted vehicle in lane:\", laneNumber);\n        setTargetedVehicleActive(true);\n        // Randomly select vehicle image (1-5)\n        const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n        // Create a new targeted vehicle\n        const targetedVehicle = {\n            id: nextVehicleId + 1000,\n            vehicleIndex,\n            direction: \"down\",\n            isTargeted: true // Mark as targeted\n        };\n        // Add the targeted vehicle to the lane\n        setVehiclesPerLane((prev)=>{\n            const updatedVehicles = {\n                ...prev\n            };\n            // Initialize the lane's vehicles array if it doesn't exist\n            if (!updatedVehicles[laneNumber]) {\n                updatedVehicles[laneNumber] = [];\n            }\n            // Add the targeted vehicle to the lane\n            updatedVehicles[laneNumber] = [\n                ...updatedVehicles[laneNumber],\n                targetedVehicle\n            ];\n            return updatedVehicles;\n        });\n        // Update the next vehicle ID\n        setNextVehicleId((prev)=>prev + 1);\n        // Reset the targeted vehicle flag after a delay\n        setTimeout(()=>{\n            setTargetedVehicleActive(false);\n        }, 3000);\n    };\n    // Handle lane clicks - now handles lane selection before game starts\n    const handleLaneClick = (laneNumber)=>{\n        // If game is active, lane clicks are ignored as movement is automatic\n        if (gameActive) {\n            return;\n        }\n        // Before game starts, clicking a lane selects it as the target\n        if (!gameActive && laneNumber > 0 && laneNumber <= difficultySettings.totalLanes) {\n            // Play the lane selection sound\n            (0,_utils_sound_effects__WEBPACK_IMPORTED_MODULE_3__.playLaneSelectSound)(0.6);\n            // Call the lane click handler from props\n            onLaneClick(laneNumber);\n        }\n    };\n    // Demo mode - reset vehicles when difficulty changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setVehiclesPerLane({});\n        setPropVehiclesPerLane({});\n        // Reset player camera position when difficulty changes\n        setPlayerCameraPosition(0);\n        // Reset manual camera position when difficulty changes\n        setManualCameraPosition(0);\n        // Reset visible lane range\n        setVisibleLaneRange({\n            start: 0,\n            end: 3\n        });\n        // Reset vehicle ID counter\n        setNextVehicleId(1);\n        // Reset prop vehicle ID counter\n        setNextPropVehicleId(10000);\n    }, [\n        difficulty\n    ]);\n    // Reset camera position when game ends and player clicks \"Play Again\"\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // When isGameOver transitions from true to false (after clicking Play Again)\n        if (!isGameOver && !gameActive && currentLane === 0) {\n            // Reset both camera positions\n            setPlayerCameraPosition(0);\n            setManualCameraPosition(0);\n            // Reset visible lane range\n            setVisibleLaneRange({\n                start: 0,\n                end: 3\n            });\n        }\n    }, [\n        isGameOver,\n        gameActive,\n        currentLane\n    ]);\n    // Freeze camera position when game ends with a loss\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // When the game ends (isGameOver becomes true), keep the camera at the current position\n        if (isGameOver) {\n            // No need to update camera position - we'll just use the current playerCameraPosition\n            // in the motion.div animate prop\n            // Update visible lane range based on current position\n            const position = playerCameraPosition;\n            const startLane = Math.floor(position / 150);\n            const endLane = startLane + 3;\n            setVisibleLaneRange({\n                start: startLane,\n                end: endLane\n            });\n        }\n    }, [\n        isGameOver,\n        playerCameraPosition\n    ]);\n    // Update player camera position when current lane changes (during gameplay)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentLane > 2) {\n            setPlayerCameraPosition((currentLane - 2) * 150);\n        } else {\n            setPlayerCameraPosition(0);\n        }\n        // Update visible lane range for the player camera\n        if (gameActive) {\n            const position = currentLane > 2 ? (currentLane - 2) * 150 : 0;\n            const startLane = Math.floor(position / 150);\n            const endLane = startLane + 3;\n            setVisibleLaneRange({\n                start: startLane,\n                end: endLane\n            });\n        }\n    }, [\n        currentLane,\n        gameActive\n    ]);\n    // Function to scroll camera left (only for manual camera)\n    const scrollCameraLeft = ()=>{\n        // Don't allow scrolling past the start\n        if (manualCameraPosition <= 0) return;\n        // Scroll by one lane (150px)\n        const newPosition = Math.max(0, manualCameraPosition - 150);\n        setManualCameraPosition(newPosition);\n        // Update visible lane range for the manual camera\n        const startLane = Math.floor(newPosition / 150);\n        const endLane = startLane + 3;\n        setVisibleLaneRange({\n            start: startLane,\n            end: endLane\n        });\n    };\n    // Function to scroll camera right (only for manual camera)\n    const scrollCameraRight = ()=>{\n        // Don't allow scrolling past the end\n        const maxScroll = (difficultySettings.totalLanes - 2) * 150;\n        if (manualCameraPosition >= maxScroll) return;\n        // Scroll by one lane (150px)\n        const newPosition = Math.min(maxScroll, manualCameraPosition + 150);\n        setManualCameraPosition(newPosition);\n        // Update visible lane range for the manual camera\n        const startLane = Math.floor(newPosition / 150);\n        const endLane = startLane + 3;\n        setVisibleLaneRange({\n            start: startLane,\n            end: endLane\n        });\n    };\n    // Generate vehicles periodically (only in demo mode when game is not active)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only spawn vehicles when game is NOT active\n        if (gameActive) return;\n        const vehicleInterval = setInterval(()=>{\n            // Only generate vehicles for lanes ahead of current position\n            const eligibleLanes = Array.from({\n                length: difficultySettings.totalLanes\n            }, (_, i)=>i + 1).filter((lane)=>lane > currentLane);\n            if (eligibleLanes.length === 0) return;\n            // Special handling for final lane\n            const isOnlyFinalLane = eligibleLanes.length === 1 && eligibleLanes[0] === difficultySettings.totalLanes && currentLane === difficultySettings.totalLanes - 1;\n            // If we're at the final lane, use special spawn logic\n            if (isOnlyFinalLane) {\n                // Only spawn a vehicle in the final lane 30% of the time\n                // This creates natural gaps for the player to move through\n                if (Math.random() > 0.3) return;\n                // Check if there are already too many vehicles in the final lane\n                const finalLaneVehicles = vehiclesPerLane[difficultySettings.totalLanes] || [];\n                if (finalLaneVehicles.length >= 2) {\n                    console.log(\"Final lane has enough vehicles, skipping spawn\");\n                    return;\n                }\n                // Proceed with spawning in the final lane\n                const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n                // Create a new vehicle for the final lane\n                const newVehicle = {\n                    id: nextVehicleId,\n                    vehicleIndex,\n                    direction: \"down\"\n                };\n                // Update the next vehicle ID\n                setNextVehicleId((prev)=>prev + 1);\n                // Add the vehicle to the final lane\n                setVehiclesPerLane((prev)=>{\n                    const updatedVehicles = {\n                        ...prev\n                    };\n                    const finalLane = difficultySettings.totalLanes;\n                    // Initialize the lane's vehicles array if it doesn't exist\n                    if (!updatedVehicles[finalLane]) {\n                        updatedVehicles[finalLane] = [];\n                    }\n                    // Add the new vehicle to the lane\n                    updatedVehicles[finalLane] = [\n                        ...updatedVehicles[finalLane],\n                        newVehicle\n                    ];\n                    return updatedVehicles;\n                });\n                console.log(\"Spawned vehicle in final lane\");\n                return;\n            }\n            // Normal lane spawning logic for non-final lanes\n            // Get the current vehicle counts per lane\n            const laneCounts = {};\n            eligibleLanes.forEach((lane)=>{\n                var _vehiclesPerLane_lane;\n                laneCounts[lane] = ((_vehiclesPerLane_lane = vehiclesPerLane[lane]) === null || _vehiclesPerLane_lane === void 0 ? void 0 : _vehiclesPerLane_lane.length) || 0;\n            });\n            // Find lanes with the fewest vehicles\n            const minCount = Math.min(...Object.values(laneCounts).length ? Object.values(laneCounts) : [\n                0\n            ]);\n            const lanesWithFewestVehicles = eligibleLanes.filter((lane)=>(laneCounts[lane] || 0) <= minCount);\n            // Randomly select from lanes with fewer vehicles (weighted distribution)\n            // This prioritizes lanes with fewer vehicles but still maintains some randomness\n            const randomLane = lanesWithFewestVehicles[Math.floor(Math.random() * lanesWithFewestVehicles.length)];\n            // Randomly select vehicle image (1-5)\n            const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n            // Create a new vehicle\n            const newVehicle = {\n                id: nextVehicleId,\n                vehicleIndex,\n                direction: \"down\"\n            };\n            // Update the next vehicle ID\n            setNextVehicleId((prev)=>prev + 1);\n            // Add the vehicle to the appropriate lane\n            setVehiclesPerLane((prev)=>{\n                const updatedVehicles = {\n                    ...prev\n                };\n                // Initialize the lane's vehicles array if it doesn't exist\n                if (!updatedVehicles[randomLane]) {\n                    updatedVehicles[randomLane] = [];\n                }\n                // Add the new vehicle to the lane\n                updatedVehicles[randomLane] = [\n                    ...updatedVehicles[randomLane],\n                    newVehicle\n                ];\n                return updatedVehicles;\n            });\n        // Log vehicle distribution for debugging\n        // console.log('Vehicle distribution:', \n        //   Object.entries(vehiclesPerLane).map(([lane, vehicles]) => \n        //     `Lane ${lane}: ${vehicles?.length || 0} vehicles`\n        //   ).join(', ')\n        // );\n        // Adjust spawn interval based on difficulty and special case for final lane\n        }, isAtSecondToLastLane() ? 800 : difficulty === \"daredevil\" ? 100 : difficulty === \"hard\" ? 200 : difficulty === \"medium\" ? 350 : 500);\n        return ()=>clearInterval(vehicleInterval);\n    }, [\n        gameActive,\n        currentLane,\n        difficultySettings.totalLanes,\n        difficulty,\n        nextVehicleId\n    ]);\n    // Separate useEffect to clear vehicles when game becomes active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameActive) {\n            // Clear all vehicles when game starts\n            setVehiclesPerLane({});\n            // Also clear prop vehicles when game starts/ends\n            setPropVehiclesPerLane({});\n        }\n    }, [\n        gameActive\n    ]);\n    // Spawn prop vehicles only when game is active (purely decorative)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only spawn prop vehicles when game IS active (opposite of regular vehicles)\n        if (!gameActive) return;\n        const propVehicleInterval = setInterval(()=>{\n            // Define eligible lanes based on player's current position\n            let eligibleLanes = [];\n            // 2-3 lanes ahead of player (if they exist)\n            for(let i = 2; i <= 3; i++){\n                const aheadLane = currentLane + i;\n                if (aheadLane <= difficultySettings.totalLanes) {\n                    eligibleLanes.push(aheadLane);\n                }\n            }\n            // 20% chance to spawn 1 lane before the player\n            if (Math.random() < 0.2) {\n                const beforeLane = currentLane - 1;\n                if (beforeLane > 0) {\n                    eligibleLanes.push(beforeLane);\n                }\n            }\n            // If no eligible lanes, skip this spawn cycle\n            if (eligibleLanes.length === 0) return;\n            // Randomly select a lane from eligible lanes\n            const randomLane = eligibleLanes[Math.floor(Math.random() * eligibleLanes.length)];\n            // Randomly select vehicle image (1-5)\n            const vehicleIndex = Math.floor(Math.random() * 5) + 1;\n            // Create a new prop vehicle (using ID range 10000+)\n            const newPropVehicle = {\n                id: nextPropVehicleId,\n                vehicleIndex,\n                direction: \"down\",\n                isProp: true // Mark as prop vehicle (won't cause collisions)\n            };\n            // Update the next prop vehicle ID\n            setNextPropVehicleId((prev)=>prev + 1);\n            // Add the prop vehicle to the appropriate lane\n            setPropVehiclesPerLane((prev)=>{\n                const updatedVehicles = {\n                    ...prev\n                };\n                // Initialize the lane's vehicles array if it doesn't exist\n                if (!updatedVehicles[randomLane]) {\n                    updatedVehicles[randomLane] = [];\n                }\n                // Add the new prop vehicle to the lane\n                updatedVehicles[randomLane] = [\n                    ...updatedVehicles[randomLane],\n                    newPropVehicle\n                ];\n                return updatedVehicles;\n            });\n        // console.log(`Prop vehicle spawned on lane ${randomLane}`);\n        }, difficulty === \"daredevil\" ? 200 : difficulty === \"hard\" ? 300 : difficulty === \"medium\" ? 400 : 500);\n        return ()=>clearInterval(propVehicleInterval);\n    }, [\n        gameActive,\n        difficultySettings.totalLanes,\n        difficulty,\n        nextPropVehicleId,\n        currentLane\n    ]);\n    // Helper function to check if player is at second-to-last lane\n    const isAtSecondToLastLane = ()=>{\n        return currentLane === difficultySettings.totalLanes - 1 && gameActive;\n    };\n    // Split collision detection and vehicle cleanup into separate effects\n    // Vehicle animation completion handler (always active regardless of game state)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Listen for vehicle animation completion events\n        const handleVehicleAnimationComplete = (event)=>{\n            const customEvent = event;\n            const { laneNumber, vehicleId, isProp } = customEvent.detail;\n            if (isProp) {\n                // Remove the completed prop vehicle from the lane\n                setPropVehiclesPerLane((prev)=>{\n                    const updatedVehicles = {\n                        ...prev\n                    };\n                    const laneVehicles = updatedVehicles[laneNumber] || [];\n                    // Filter out the completed vehicle\n                    updatedVehicles[laneNumber] = laneVehicles.filter((v)=>v.id !== vehicleId);\n                    return updatedVehicles;\n                });\n            } else {\n                // Remove the completed vehicle from the lane\n                setVehiclesPerLane((prev)=>{\n                    const updatedVehicles = {\n                        ...prev\n                    };\n                    const laneVehicles = updatedVehicles[laneNumber] || [];\n                    // Filter out the completed vehicle\n                    updatedVehicles[laneNumber] = laneVehicles.filter((v)=>v.id !== vehicleId);\n                    return updatedVehicles;\n                });\n            }\n        };\n        // Add event listener for vehicle animation completion\n        document.addEventListener(\"vehicleAnimationComplete\", handleVehicleAnimationComplete);\n        // Backup cleanup for any vehicles that might not trigger the animation complete event\n        const cleanupInterval = setInterval(()=>{\n            // Clean up regular vehicles\n            setVehiclesPerLane((prev)=>{\n                const updatedVehicles = {};\n                // For each lane, keep only the 5 most recent vehicles\n                Object.keys(prev).forEach((laneKey)=>{\n                    const laneNumber = parseInt(laneKey);\n                    const laneVehicles = prev[laneNumber] || [];\n                    if (laneVehicles.length > 5) {\n                        updatedVehicles[laneNumber] = laneVehicles.slice(-5);\n                    } else {\n                        updatedVehicles[laneNumber] = laneVehicles;\n                    }\n                });\n                return updatedVehicles;\n            });\n            // Clean up prop vehicles\n            setPropVehiclesPerLane((prev)=>{\n                const updatedVehicles = {};\n                // For each lane, keep only the 5 most recent prop vehicles\n                Object.keys(prev).forEach((laneKey)=>{\n                    const laneNumber = parseInt(laneKey);\n                    const laneVehicles = prev[laneNumber] || [];\n                    if (laneVehicles.length > 5) {\n                        updatedVehicles[laneNumber] = laneVehicles.slice(-5);\n                    } else {\n                        updatedVehicles[laneNumber] = laneVehicles;\n                    }\n                });\n                return updatedVehicles;\n            });\n        }, 2000);\n        return ()=>{\n            clearInterval(cleanupInterval);\n            document.removeEventListener(\"vehicleAnimationComplete\", handleVehicleAnimationComplete);\n        };\n    }, []);\n    // Mouse event handlers for drag scrolling\n    const handleMouseDown = (e)=>{\n        if (gameActive || isGameOver) return; // Only allow drag scrolling when game is not active\n        setIsDragging(true);\n        setDragStartX(e.clientX);\n        setDragStartCameraPos(manualCameraPosition);\n    };\n    const handleMouseMove = (e)=>{\n        if (!isDragging) return;\n        const dragDistance = e.clientX - dragStartX;\n        const newPosition = Math.max(0, Math.min((difficultySettings.totalLanes - 2) * 150, dragStartCameraPos - dragDistance // Move camera opposite to drag direction\n        ));\n        setManualCameraPosition(newPosition);\n        // Update visible lane range\n        const startLane = Math.floor(newPosition / 150);\n        const endLane = startLane + 3;\n        setVisibleLaneRange({\n            start: startLane,\n            end: endLane\n        });\n    };\n    const handleMouseUp = ()=>{\n        setIsDragging(false);\n    };\n    // Add mouse leave handler to stop dragging if mouse leaves the container\n    const handleMouseLeave = ()=>{\n        setIsDragging(false);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"game-container-bg rounded-lg p-6 pb-12 relative overflow-hidden w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 game-container-bg z-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-0 w-full h-8 bg-[#0f0f1a]/50\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 564,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 w-full h-8 bg-[#0f0f1a]/50\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-0 w-full h-1 bg-[#232334]\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 568,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 w-full h-1 bg-[#232334]\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 569,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                lineNumber: 563,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative h-[500px] z-10 overflow-hidden\",\n                onMouseDown: handleMouseDown,\n                onMouseMove: handleMouseMove,\n                onMouseUp: handleMouseUp,\n                onMouseLeave: handleMouseLeave,\n                style: {\n                    cursor: !gameActive && !isGameOver ? isDragging ? \"grabbing\" : \"grab\" : \"default\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                        className: \"flex absolute top-0 left-0 h-full\",\n                        animate: {\n                            x: isGameOver ? -playerCameraPosition : gameActive ? -playerCameraPosition : -manualCameraPosition // Before game starts, use manual camera\n                        },\n                        transition: {\n                            type: \"spring\",\n                            stiffness: 300,\n                            damping: 30\n                        },\n                        children: [\n                            Array.from({\n                                length: difficultySettings.totalLanes + 2\n                            }, (_, i)=>{\n                                // If this is the last lane, make it the end lane\n                                const isEndLane = i === difficultySettings.totalLanes + 1;\n                                const laneNumber = isEndLane ? -1 : i;\n                                const isCurrentLane = laneNumber === currentLane;\n                                const isNextLane = laneNumber === currentLane + 1 || currentLane === difficultySettings.totalLanes && isEndLane;\n                                const multiplier = laneNumber === 0 ? 0 : laneNumber === -1 ? 0 // End lane has no multiplier\n                                 : difficultySettings.laneMultipliers[laneNumber - 1];\n                                // Get vehicles for this lane (no vehicles in end lane)\n                                const laneVehicles = isEndLane ? [] : vehiclesPerLane[laneNumber] || [];\n                                // Combine regular vehicles and prop vehicles for this lane\n                                const allLaneVehicles = [\n                                    ...laneVehicles\n                                ];\n                                // Add prop vehicles if they exist for this lane\n                                const propVehicles = propVehiclesPerLane[laneNumber] || [];\n                                allLaneVehicles.push(...propVehicles);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lane__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    laneNumber: laneNumber,\n                                    multiplier: multiplier,\n                                    isActive: gameActive ? gameActive && isNextLane : laneNumber > 0 && laneNumber <= difficultySettings.totalLanes,\n                                    isCurrentLane: isCurrentLane,\n                                    isTargetLane: !gameActive && laneSelected && laneNumber === targetLane,\n                                    onClick: ()=>handleLaneClick(laneNumber),\n                                    vehicles: allLaneVehicles,\n                                    difficulty: difficulty\n                                }, isEndLane ? \"end-lane\" : laneNumber, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                    lineNumber: 615,\n                                    columnNumber: 15\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {\n                                className: \"absolute z-10 w-24 h-24 player-character\",\n                                initial: {\n                                    left: 50,\n                                    top: \"50%\"\n                                },\n                                animate: {\n                                    // Position Kino based *only* on the current lane, relative to the container\n                                    left: currentLane * 150 + 50,\n                                    top: \"50%\",\n                                    y: \"-50%\",\n                                    // No scale/rotate during gameplay to match walking animation\n                                    scale: !gameActive && currentLane !== targetLane ? [\n                                        1,\n                                        1.05,\n                                        1\n                                    ] : 1,\n                                    rotate: !gameActive && currentLane !== targetLane ? [\n                                        0,\n                                        2,\n                                        0,\n                                        -2,\n                                        0\n                                    ] : 0\n                                },\n                                transition: {\n                                    // Use linear easing for smooth walking across the lane\n                                    duration: 0.5,\n                                    ease: \"linear\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: !gameActive ? \"/assets/Kino_Idle_HD.gif\" : currentLane === targetLane ? \"/assets/Kino_Static.png\" : \"/assets/Kino_Walk_HD.gif\",\n                                    alt: \"Kino character\",\n                                    className: \"w-full h-full object-contain\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                    lineNumber: 648,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                lineNumber: 630,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 581,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-0 left-0 right-0 h-2 bg-white/20\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 662,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-0 left-0 right-0 h-2 bg-white/20\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 663,\n                        columnNumber: 9\n                    }, this),\n                    !gameActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 left-0 right-0 flex justify-center gap-4 z-30\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-black/30 px-4 py-2 rounded-full text-white text-sm\",\n                            children: \"Click and drag to scroll through lanes\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                            lineNumber: 670,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 669,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-16 left-0 right-0 flex justify-center gap-1 z-20\",\n                        children: Array.from({\n                            length: difficultySettings.totalLanes\n                        }, (_, i)=>{\n                            const laneNumber = i + 1;\n                            const isVisible = laneNumber >= visibleLaneRange.start && laneNumber <= visibleLaneRange.end;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-2 h-2 rounded-full transition-all \".concat(isVisible ? \"bg-primary\" : \"bg-gray-500\", \" \").concat(laneNumber === currentLane ? \"w-3 h-3\" : \"\"),\n                                title: \"Lane \".concat(laneNumber)\n                            }, \"indicator-\".concat(laneNumber), false, {\n                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                                lineNumber: 683,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                        lineNumber: 677,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n                lineNumber: 572,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\UI\\\\game-board.tsx\",\n        lineNumber: 561,\n        columnNumber: 5\n    }, this);\n}\n_s(GameBoard, \"mG7uTWo9fUFaDMN+65osC93y0ro=\");\n_c = GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2dhbWUvVUkvZ2FtZS1ib2FyZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ0w7QUFDYjtBQUVrQztBQVM3QyxTQUFTSyxVQUFVLEtBU2pCO1FBVGlCLEVBQ2hDQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLGtCQUFrQixFQUNsQkMsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLFVBQVUsRUFDSyxHQVRpQjs7SUFVaEMscURBQXFEO0lBQ3JELE1BQU0sQ0FBQ0Msc0JBQXNCQyx3QkFBd0IsR0FBR2QsK0NBQVFBLENBQUM7SUFFakUsc0VBQXNFO0lBQ3RFLE1BQU0sQ0FBQ2Usc0JBQXNCQyx3QkFBd0IsR0FBR2hCLCtDQUFRQSxDQUFDO0lBRWpFLDZDQUE2QztJQUM3QyxNQUFNLENBQUNpQixrQkFBa0JDLG9CQUFvQixHQUFHbEIsK0NBQVFBLENBQUM7UUFBRW1CLE9BQU87UUFBR0MsS0FBSztJQUFFO0lBRTVFLHVCQUF1QjtJQUN2QixNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3VCLFlBQVlDLGNBQWMsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ3lCLG9CQUFvQkMsc0JBQXNCLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUU3RCwwQkFBMEI7SUFDMUIsTUFBTSxDQUFDMkIsaUJBQWlCQyxtQkFBbUIsR0FBRzVCLCtDQUFRQSxDQUFvQyxDQUFDO0lBRTNGLHlFQUF5RTtJQUN6RSxNQUFNLENBQUM2QixxQkFBcUJDLHVCQUF1QixHQUFHOUIsK0NBQVFBLENBQW9DLENBQUM7SUFFbkcsd0JBQXdCO0lBQ3hCLE1BQU0sQ0FBQytCLGVBQWVDLGlCQUFpQixHQUFHaEMsK0NBQVFBLENBQUM7SUFFbkQsMEVBQTBFO0lBQzFFLE1BQU0sQ0FBQ2lDLG1CQUFtQkMscUJBQXFCLEdBQUdsQywr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OzRCQUFJQyxXQUFVO3NDQUF3RDs7Ozs7Ozs7Ozs7a0NBTzNFLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FDWmpELE1BQU1DLElBQUksQ0FBQzs0QkFBRUMsUUFBUTVELG1CQUFtQjZDLFVBQVU7d0JBQUMsR0FBRyxDQUFDZ0IsR0FBR0M7NEJBQ3pELE1BQU1qQyxhQUFhaUMsSUFBSTs0QkFDdkIsTUFBTWdGLFlBQVlqSCxjQUFjckIsaUJBQWlCRSxLQUFLLElBQUltQixjQUFjckIsaUJBQWlCRyxHQUFHOzRCQUU1RixxQkFDRSw4REFBQytGO2dDQUVDQyxXQUFXLHVDQUFtRjlFLE9BQTVDaUgsWUFBWSxlQUFlLGVBQWMsS0FBK0MsT0FBNUNqSCxlQUFlakMsY0FBYyxZQUFZO2dDQUN2SW1KLE9BQU8sUUFBbUIsT0FBWGxIOytCQUZWLGFBQXdCLE9BQVhBOzs7Ozt3QkFLeEI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtWO0dBdHFCd0JsQztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9nYW1lL1VJL2dhbWUtYm9hcmQudHN4Pzg1NDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gXCJmcmFtZXItbW90aW9uXCI7XG5pbXBvcnQgTGFuZSBmcm9tIFwiLi9sYW5lXCI7XG5pbXBvcnQgeyBHYW1lQm9hcmRQcm9wcywgVmVoaWNsZU9ic3RhY2xlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBwbGF5TGFuZVNlbGVjdFNvdW5kIH0gZnJvbSBcIkAvdXRpbHMvc291bmQtZWZmZWN0c1wiO1xuXG4vLyBFeHRlbmQgdGhlIFZlaGljbGVPYnN0YWNsZSB0eXBlIHRvIGluY2x1ZGUgcHJvcCBmbGFnXG5kZWNsYXJlIG1vZHVsZSBcIi4uL3R5cGVzXCIge1xuICBpbnRlcmZhY2UgVmVoaWNsZU9ic3RhY2xlIHtcbiAgICBpc1Byb3A/OiBib29sZWFuO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVCb2FyZCh7XG4gIGN1cnJlbnRMYW5lLFxuICBkaWZmaWN1bHR5LFxuICBnYW1lQWN0aXZlLFxuICBvbkxhbmVDbGljayxcbiAgZGlmZmljdWx0eVNldHRpbmdzLFxuICB0YXJnZXRMYW5lLFxuICBsYW5lU2VsZWN0ZWQsXG4gIGlzR2FtZU92ZXJcbn06IEdhbWVCb2FyZFByb3BzKSB7XG4gIC8vIEF1dG8tZm9sbG93IGNhbWVyYSBwb3NpdGlvbiAodXNlZCBkdXJpbmcgZ2FtZXBsYXkpXG4gIGNvbnN0IFtwbGF5ZXJDYW1lcmFQb3NpdGlvbiwgc2V0UGxheWVyQ2FtZXJhUG9zaXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBNYW51YWwgY2FtZXJhIHBvc2l0aW9uICh1c2VkIGZvciBsYW5lIHNlbGVjdGlvbiBiZWZvcmUgZ2FtZSBzdGFydHMpXG4gIGNvbnN0IFttYW51YWxDYW1lcmFQb3NpdGlvbiwgc2V0TWFudWFsQ2FtZXJhUG9zaXRpb25dID0gdXNlU3RhdGUoMCk7XG4gIFxuICAvLyBUcmFjayB2aXNpYmxlIGxhbmUgcmFuZ2UgZm9yIFVJIGluZGljYXRvcnNcbiAgY29uc3QgW3Zpc2libGVMYW5lUmFuZ2UsIHNldFZpc2libGVMYW5lUmFuZ2VdID0gdXNlU3RhdGUoeyBzdGFydDogMCwgZW5kOiAzIH0pO1xuICBcbiAgLy8gRHJhZyBzY3JvbGxpbmcgc3RhdGVcbiAgY29uc3QgW2lzRHJhZ2dpbmcsIHNldElzRHJhZ2dpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZHJhZ1N0YXJ0WCwgc2V0RHJhZ1N0YXJ0WF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2RyYWdTdGFydENhbWVyYVBvcywgc2V0RHJhZ1N0YXJ0Q2FtZXJhUG9zXSA9IHVzZVN0YXRlKDApO1xuICBcbiAgLy8gVHJhY2sgdmVoaWNsZXMgcGVyIGxhbmVcbiAgY29uc3QgW3ZlaGljbGVzUGVyTGFuZSwgc2V0VmVoaWNsZXNQZXJMYW5lXSA9IHVzZVN0YXRlPFJlY29yZDxudW1iZXIsIFZlaGljbGVPYnN0YWNsZVtdPj4oe30pO1xuICBcbiAgLy8gVHJhY2sgcHJvcCB2ZWhpY2xlcyBwZXIgbGFuZSAoZGVjb3JhdGl2ZSBvbmx5LCBhcHBlYXIgZHVyaW5nIGdhbWVwbGF5KVxuICBjb25zdCBbcHJvcFZlaGljbGVzUGVyTGFuZSwgc2V0UHJvcFZlaGljbGVzUGVyTGFuZV0gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBWZWhpY2xlT2JzdGFjbGVbXT4+KHt9KTtcbiAgXG4gIC8vIFRyYWNrIG5leHQgdmVoaWNsZSBJRFxuICBjb25zdCBbbmV4dFZlaGljbGVJZCwgc2V0TmV4dFZlaGljbGVJZF0gPSB1c2VTdGF0ZSgxKTtcbiAgXG4gIC8vIFRyYWNrIG5leHQgcHJvcCB2ZWhpY2xlIElEICh1c2luZyBhIGRpZmZlcmVudCByYW5nZSB0byBhdm9pZCBjb25mbGljdHMpXG4gIGNvbnN0IFtuZXh0UHJvcFZlaGljbGVJZCwgc2V0TmV4dFByb3BWZWhpY2xlSWRdID0gdXNlU3RhdGUoMTAwMDApO1xuICBcbiAgLy8gVHJhY2sgaWYgYSB0YXJnZXRlZCB2ZWhpY2xlIGlzIGFjdGl2ZVxuICBjb25zdCBbdGFyZ2V0ZWRWZWhpY2xlQWN0aXZlLCBzZXRUYXJnZXRlZFZlaGljbGVBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gc3Bhd24gYSB0YXJnZXRlZCB2ZWhpY2xlIHRoYXQgYWltcyBmb3IgdGhlIHBsYXllclxuICBjb25zdCBzcGF3blRhcmdldGVkVmVoaWNsZSA9IChsYW5lTnVtYmVyOiBudW1iZXIpID0+IHtcbiAgICBpZiAodGFyZ2V0ZWRWZWhpY2xlQWN0aXZlIHx8ICFnYW1lQWN0aXZlKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGNoYW5jZSBiYXNlZCBvbiBkaWZmaWN1bHR5XG4gICAgY29uc3QgdGFyZ2V0Q2hhbmNlID0gZGlmZmljdWx0eSA9PT0gXCJkYXJlZGV2aWxcIiA/IDAuMzUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZmljdWx0eSA9PT0gXCJoYXJkXCIgPyAwLjI1IDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHkgPT09IFwibWVkaXVtXCIgPyAwLjE1IDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDAuMTA7XG4gICAgXG4gICAgLy8gUmFuZG9tIGNoYW5jZSB0byBzcGF3biBhIHRhcmdldGVkIHZlaGljbGVcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IHRhcmdldENoYW5jZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTcGF3bmluZyB0YXJnZXRlZCB2ZWhpY2xlIGluIGxhbmU6JywgbGFuZU51bWJlcik7XG4gICAgc2V0VGFyZ2V0ZWRWZWhpY2xlQWN0aXZlKHRydWUpO1xuICAgIFxuICAgIC8vIFJhbmRvbWx5IHNlbGVjdCB2ZWhpY2xlIGltYWdlICgxLTUpXG4gICAgY29uc3QgdmVoaWNsZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSkgKyAxO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIG5ldyB0YXJnZXRlZCB2ZWhpY2xlXG4gICAgY29uc3QgdGFyZ2V0ZWRWZWhpY2xlOiBWZWhpY2xlT2JzdGFjbGUgPSB7XG4gICAgICBpZDogbmV4dFZlaGljbGVJZCArIDEwMDAsIC8vIFVzZSBhIGxhcmdlIG9mZnNldCB0byBhdm9pZCBJRCBjb25mbGljdHNcbiAgICAgIHZlaGljbGVJbmRleCxcbiAgICAgIGRpcmVjdGlvbjogXCJkb3duXCIsXG4gICAgICBpc1RhcmdldGVkOiB0cnVlIC8vIE1hcmsgYXMgdGFyZ2V0ZWRcbiAgICB9O1xuICAgIFxuICAgIC8vIEFkZCB0aGUgdGFyZ2V0ZWQgdmVoaWNsZSB0byB0aGUgbGFuZVxuICAgIHNldFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRWZWhpY2xlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIHRoZSBsYW5lJ3MgdmVoaWNsZXMgYXJyYXkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgaWYgKCF1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0pIHtcbiAgICAgICAgdXBkYXRlZFZlaGljbGVzW2xhbmVOdW1iZXJdID0gW107XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCB0aGUgdGFyZ2V0ZWQgdmVoaWNsZSB0byB0aGUgbGFuZVxuICAgICAgdXBkYXRlZFZlaGljbGVzW2xhbmVOdW1iZXJdID0gWy4uLnVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSwgdGFyZ2V0ZWRWZWhpY2xlXTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICB9KTtcbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIG5leHQgdmVoaWNsZSBJRFxuICAgIHNldE5leHRWZWhpY2xlSWQocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgXG4gICAgLy8gUmVzZXQgdGhlIHRhcmdldGVkIHZlaGljbGUgZmxhZyBhZnRlciBhIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRUYXJnZXRlZFZlaGljbGVBY3RpdmUoZmFsc2UpO1xuICAgIH0sIDMwMDApO1xuICB9O1xuICBcbiAgXG4gIC8vIEhhbmRsZSBsYW5lIGNsaWNrcyAtIG5vdyBoYW5kbGVzIGxhbmUgc2VsZWN0aW9uIGJlZm9yZSBnYW1lIHN0YXJ0c1xuICBjb25zdCBoYW5kbGVMYW5lQ2xpY2sgPSAobGFuZU51bWJlcjogbnVtYmVyKSA9PiB7XG4gICAgLy8gSWYgZ2FtZSBpcyBhY3RpdmUsIGxhbmUgY2xpY2tzIGFyZSBpZ25vcmVkIGFzIG1vdmVtZW50IGlzIGF1dG9tYXRpY1xuICAgIGlmIChnYW1lQWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIEJlZm9yZSBnYW1lIHN0YXJ0cywgY2xpY2tpbmcgYSBsYW5lIHNlbGVjdHMgaXQgYXMgdGhlIHRhcmdldFxuICAgIGlmICghZ2FtZUFjdGl2ZSAmJiBsYW5lTnVtYmVyID4gMCAmJiBsYW5lTnVtYmVyIDw9IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzKSB7XG4gICAgICAvLyBQbGF5IHRoZSBsYW5lIHNlbGVjdGlvbiBzb3VuZFxuICAgICAgcGxheUxhbmVTZWxlY3RTb3VuZCgwLjYpO1xuICAgICAgXG4gICAgICAvLyBDYWxsIHRoZSBsYW5lIGNsaWNrIGhhbmRsZXIgZnJvbSBwcm9wc1xuICAgICAgb25MYW5lQ2xpY2sobGFuZU51bWJlcik7XG4gICAgfVxuICB9O1xuICBcbiAgLy8gRGVtbyBtb2RlIC0gcmVzZXQgdmVoaWNsZXMgd2hlbiBkaWZmaWN1bHR5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRWZWhpY2xlc1BlckxhbmUoe30pO1xuICAgIHNldFByb3BWZWhpY2xlc1BlckxhbmUoe30pO1xuICAgIC8vIFJlc2V0IHBsYXllciBjYW1lcmEgcG9zaXRpb24gd2hlbiBkaWZmaWN1bHR5IGNoYW5nZXNcbiAgICBzZXRQbGF5ZXJDYW1lcmFQb3NpdGlvbigwKTtcbiAgICAvLyBSZXNldCBtYW51YWwgY2FtZXJhIHBvc2l0aW9uIHdoZW4gZGlmZmljdWx0eSBjaGFuZ2VzXG4gICAgc2V0TWFudWFsQ2FtZXJhUG9zaXRpb24oMCk7XG4gICAgLy8gUmVzZXQgdmlzaWJsZSBsYW5lIHJhbmdlXG4gICAgc2V0VmlzaWJsZUxhbmVSYW5nZSh7IHN0YXJ0OiAwLCBlbmQ6IDMgfSk7XG4gICAgLy8gUmVzZXQgdmVoaWNsZSBJRCBjb3VudGVyXG4gICAgc2V0TmV4dFZlaGljbGVJZCgxKTtcbiAgICAvLyBSZXNldCBwcm9wIHZlaGljbGUgSUQgY291bnRlclxuICAgIHNldE5leHRQcm9wVmVoaWNsZUlkKDEwMDAwKTtcbiAgfSwgW2RpZmZpY3VsdHldKTtcbiAgXG4gIC8vIFJlc2V0IGNhbWVyYSBwb3NpdGlvbiB3aGVuIGdhbWUgZW5kcyBhbmQgcGxheWVyIGNsaWNrcyBcIlBsYXkgQWdhaW5cIlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFdoZW4gaXNHYW1lT3ZlciB0cmFuc2l0aW9ucyBmcm9tIHRydWUgdG8gZmFsc2UgKGFmdGVyIGNsaWNraW5nIFBsYXkgQWdhaW4pXG4gICAgaWYgKCFpc0dhbWVPdmVyICYmICFnYW1lQWN0aXZlICYmIGN1cnJlbnRMYW5lID09PSAwKSB7XG4gICAgICAvLyBSZXNldCBib3RoIGNhbWVyYSBwb3NpdGlvbnNcbiAgICAgIHNldFBsYXllckNhbWVyYVBvc2l0aW9uKDApO1xuICAgICAgc2V0TWFudWFsQ2FtZXJhUG9zaXRpb24oMCk7XG4gICAgICAvLyBSZXNldCB2aXNpYmxlIGxhbmUgcmFuZ2VcbiAgICAgIHNldFZpc2libGVMYW5lUmFuZ2UoeyBzdGFydDogMCwgZW5kOiAzIH0pO1xuICAgIH1cbiAgfSwgW2lzR2FtZU92ZXIsIGdhbWVBY3RpdmUsIGN1cnJlbnRMYW5lXSk7XG4gIFxuICAvLyBGcmVlemUgY2FtZXJhIHBvc2l0aW9uIHdoZW4gZ2FtZSBlbmRzIHdpdGggYSBsb3NzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gV2hlbiB0aGUgZ2FtZSBlbmRzIChpc0dhbWVPdmVyIGJlY29tZXMgdHJ1ZSksIGtlZXAgdGhlIGNhbWVyYSBhdCB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgIGlmIChpc0dhbWVPdmVyKSB7XG4gICAgICAvLyBObyBuZWVkIHRvIHVwZGF0ZSBjYW1lcmEgcG9zaXRpb24gLSB3ZSdsbCBqdXN0IHVzZSB0aGUgY3VycmVudCBwbGF5ZXJDYW1lcmFQb3NpdGlvblxuICAgICAgLy8gaW4gdGhlIG1vdGlvbi5kaXYgYW5pbWF0ZSBwcm9wXG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB2aXNpYmxlIGxhbmUgcmFuZ2UgYmFzZWQgb24gY3VycmVudCBwb3NpdGlvblxuICAgICAgY29uc3QgcG9zaXRpb24gPSBwbGF5ZXJDYW1lcmFQb3NpdGlvbjtcbiAgICAgIGNvbnN0IHN0YXJ0TGFuZSA9IE1hdGguZmxvb3IocG9zaXRpb24gLyAxNTApO1xuICAgICAgY29uc3QgZW5kTGFuZSA9IHN0YXJ0TGFuZSArIDM7XG4gICAgICBcbiAgICAgIHNldFZpc2libGVMYW5lUmFuZ2Uoe1xuICAgICAgICBzdGFydDogc3RhcnRMYW5lLFxuICAgICAgICBlbmQ6IGVuZExhbmVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2lzR2FtZU92ZXIsIHBsYXllckNhbWVyYVBvc2l0aW9uXSk7XG4gIFxuICAvLyBVcGRhdGUgcGxheWVyIGNhbWVyYSBwb3NpdGlvbiB3aGVuIGN1cnJlbnQgbGFuZSBjaGFuZ2VzIChkdXJpbmcgZ2FtZXBsYXkpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRMYW5lID4gMikge1xuICAgICAgc2V0UGxheWVyQ2FtZXJhUG9zaXRpb24oKGN1cnJlbnRMYW5lIC0gMikgKiAxNTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRQbGF5ZXJDYW1lcmFQb3NpdGlvbigwKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIHZpc2libGUgbGFuZSByYW5nZSBmb3IgdGhlIHBsYXllciBjYW1lcmFcbiAgICBpZiAoZ2FtZUFjdGl2ZSkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBjdXJyZW50TGFuZSA+IDIgPyAoY3VycmVudExhbmUgLSAyKSAqIDE1MCA6IDA7XG4gICAgICBjb25zdCBzdGFydExhbmUgPSBNYXRoLmZsb29yKHBvc2l0aW9uIC8gMTUwKTtcbiAgICAgIGNvbnN0IGVuZExhbmUgPSBzdGFydExhbmUgKyAzO1xuICAgICAgXG4gICAgICBzZXRWaXNpYmxlTGFuZVJhbmdlKHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0TGFuZSxcbiAgICAgICAgZW5kOiBlbmRMYW5lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtjdXJyZW50TGFuZSwgZ2FtZUFjdGl2ZV0pO1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gc2Nyb2xsIGNhbWVyYSBsZWZ0IChvbmx5IGZvciBtYW51YWwgY2FtZXJhKVxuICBjb25zdCBzY3JvbGxDYW1lcmFMZWZ0ID0gKCkgPT4ge1xuICAgIC8vIERvbid0IGFsbG93IHNjcm9sbGluZyBwYXN0IHRoZSBzdGFydFxuICAgIGlmIChtYW51YWxDYW1lcmFQb3NpdGlvbiA8PSAwKSByZXR1cm47XG4gICAgXG4gICAgLy8gU2Nyb2xsIGJ5IG9uZSBsYW5lICgxNTBweClcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IE1hdGgubWF4KDAsIG1hbnVhbENhbWVyYVBvc2l0aW9uIC0gMTUwKTtcbiAgICBzZXRNYW51YWxDYW1lcmFQb3NpdGlvbihuZXdQb3NpdGlvbik7XG4gICAgXG4gICAgLy8gVXBkYXRlIHZpc2libGUgbGFuZSByYW5nZSBmb3IgdGhlIG1hbnVhbCBjYW1lcmFcbiAgICBjb25zdCBzdGFydExhbmUgPSBNYXRoLmZsb29yKG5ld1Bvc2l0aW9uIC8gMTUwKTtcbiAgICBjb25zdCBlbmRMYW5lID0gc3RhcnRMYW5lICsgMztcbiAgICBzZXRWaXNpYmxlTGFuZVJhbmdlKHsgc3RhcnQ6IHN0YXJ0TGFuZSwgZW5kOiBlbmRMYW5lIH0pO1xuICB9O1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gc2Nyb2xsIGNhbWVyYSByaWdodCAob25seSBmb3IgbWFudWFsIGNhbWVyYSlcbiAgY29uc3Qgc2Nyb2xsQ2FtZXJhUmlnaHQgPSAoKSA9PiB7XG4gICAgLy8gRG9uJ3QgYWxsb3cgc2Nyb2xsaW5nIHBhc3QgdGhlIGVuZFxuICAgIGNvbnN0IG1heFNjcm9sbCA9IChkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyAtIDIpICogMTUwO1xuICAgIGlmIChtYW51YWxDYW1lcmFQb3NpdGlvbiA+PSBtYXhTY3JvbGwpIHJldHVybjtcbiAgICBcbiAgICAvLyBTY3JvbGwgYnkgb25lIGxhbmUgKDE1MHB4KVxuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gTWF0aC5taW4obWF4U2Nyb2xsLCBtYW51YWxDYW1lcmFQb3NpdGlvbiArIDE1MCk7XG4gICAgc2V0TWFudWFsQ2FtZXJhUG9zaXRpb24obmV3UG9zaXRpb24pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSB2aXNpYmxlIGxhbmUgcmFuZ2UgZm9yIHRoZSBtYW51YWwgY2FtZXJhXG4gICAgY29uc3Qgc3RhcnRMYW5lID0gTWF0aC5mbG9vcihuZXdQb3NpdGlvbiAvIDE1MCk7XG4gICAgY29uc3QgZW5kTGFuZSA9IHN0YXJ0TGFuZSArIDM7XG4gICAgc2V0VmlzaWJsZUxhbmVSYW5nZSh7IHN0YXJ0OiBzdGFydExhbmUsIGVuZDogZW5kTGFuZSB9KTtcbiAgfTtcbiAgXG4gIC8vIEdlbmVyYXRlIHZlaGljbGVzIHBlcmlvZGljYWxseSAob25seSBpbiBkZW1vIG1vZGUgd2hlbiBnYW1lIGlzIG5vdCBhY3RpdmUpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT25seSBzcGF3biB2ZWhpY2xlcyB3aGVuIGdhbWUgaXMgTk9UIGFjdGl2ZVxuICAgIGlmIChnYW1lQWN0aXZlKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdmVoaWNsZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgLy8gT25seSBnZW5lcmF0ZSB2ZWhpY2xlcyBmb3IgbGFuZXMgYWhlYWQgb2YgY3VycmVudCBwb3NpdGlvblxuICAgICAgY29uc3QgZWxpZ2libGVMYW5lcyA9IEFycmF5LmZyb20oXG4gICAgICAgIHsgbGVuZ3RoOiBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyB9LCBcbiAgICAgICAgKF8sIGkpID0+IGkgKyAxXG4gICAgICApLmZpbHRlcihsYW5lID0+IGxhbmUgPiBjdXJyZW50TGFuZSk7XG4gICAgICBcbiAgICAgIGlmIChlbGlnaWJsZUxhbmVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBmaW5hbCBsYW5lXG4gICAgICBjb25zdCBpc09ubHlGaW5hbExhbmUgPSBlbGlnaWJsZUxhbmVzLmxlbmd0aCA9PT0gMSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZ2libGVMYW5lc1swXSA9PT0gZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudExhbmUgPT09IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzIC0gMTtcbiAgICAgIFxuICAgICAgLy8gSWYgd2UncmUgYXQgdGhlIGZpbmFsIGxhbmUsIHVzZSBzcGVjaWFsIHNwYXduIGxvZ2ljXG4gICAgICBpZiAoaXNPbmx5RmluYWxMYW5lKSB7XG4gICAgICAgIC8vIE9ubHkgc3Bhd24gYSB2ZWhpY2xlIGluIHRoZSBmaW5hbCBsYW5lIDMwJSBvZiB0aGUgdGltZVxuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgbmF0dXJhbCBnYXBzIGZvciB0aGUgcGxheWVyIHRvIG1vdmUgdGhyb3VnaFxuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuMykgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIGFscmVhZHkgdG9vIG1hbnkgdmVoaWNsZXMgaW4gdGhlIGZpbmFsIGxhbmVcbiAgICAgICAgY29uc3QgZmluYWxMYW5lVmVoaWNsZXMgPSB2ZWhpY2xlc1BlckxhbmVbZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXNdIHx8IFtdO1xuICAgICAgICBpZiAoZmluYWxMYW5lVmVoaWNsZXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRmluYWwgbGFuZSBoYXMgZW5vdWdoIHZlaGljbGVzLCBza2lwcGluZyBzcGF3bicpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUHJvY2VlZCB3aXRoIHNwYXduaW5nIGluIHRoZSBmaW5hbCBsYW5lXG4gICAgICAgIGNvbnN0IHZlaGljbGVJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyB2ZWhpY2xlIGZvciB0aGUgZmluYWwgbGFuZVxuICAgICAgICBjb25zdCBuZXdWZWhpY2xlOiBWZWhpY2xlT2JzdGFjbGUgPSB7XG4gICAgICAgICAgaWQ6IG5leHRWZWhpY2xlSWQsXG4gICAgICAgICAgdmVoaWNsZUluZGV4LFxuICAgICAgICAgIGRpcmVjdGlvbjogXCJkb3duXCJcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbmV4dCB2ZWhpY2xlIElEXG4gICAgICAgIHNldE5leHRWZWhpY2xlSWQocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgdGhlIHZlaGljbGUgdG8gdGhlIGZpbmFsIGxhbmVcbiAgICAgICAgc2V0VmVoaWNsZXNQZXJMYW5lKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRWZWhpY2xlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgIGNvbnN0IGZpbmFsTGFuZSA9IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGxhbmUncyB2ZWhpY2xlcyBhcnJheSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgICAgaWYgKCF1cGRhdGVkVmVoaWNsZXNbZmluYWxMYW5lXSkge1xuICAgICAgICAgICAgdXBkYXRlZFZlaGljbGVzW2ZpbmFsTGFuZV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIHRoZSBuZXcgdmVoaWNsZSB0byB0aGUgbGFuZVxuICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tmaW5hbExhbmVdID0gWy4uLnVwZGF0ZWRWZWhpY2xlc1tmaW5hbExhbmVdLCBuZXdWZWhpY2xlXTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZFZlaGljbGVzO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdTcGF3bmVkIHZlaGljbGUgaW4gZmluYWwgbGFuZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE5vcm1hbCBsYW5lIHNwYXduaW5nIGxvZ2ljIGZvciBub24tZmluYWwgbGFuZXNcbiAgICAgIC8vIEdldCB0aGUgY3VycmVudCB2ZWhpY2xlIGNvdW50cyBwZXIgbGFuZVxuICAgICAgY29uc3QgbGFuZUNvdW50czogUmVjb3JkPG51bWJlciwgbnVtYmVyPiA9IHt9O1xuICAgICAgZWxpZ2libGVMYW5lcy5mb3JFYWNoKGxhbmUgPT4ge1xuICAgICAgICBsYW5lQ291bnRzW2xhbmVdID0gdmVoaWNsZXNQZXJMYW5lW2xhbmVdPy5sZW5ndGggfHwgMDtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBGaW5kIGxhbmVzIHdpdGggdGhlIGZld2VzdCB2ZWhpY2xlc1xuICAgICAgY29uc3QgbWluQ291bnQgPSBNYXRoLm1pbiguLi5PYmplY3QudmFsdWVzKGxhbmVDb3VudHMpLmxlbmd0aCA/IE9iamVjdC52YWx1ZXMobGFuZUNvdW50cykgOiBbMF0pO1xuICAgICAgY29uc3QgbGFuZXNXaXRoRmV3ZXN0VmVoaWNsZXMgPSBlbGlnaWJsZUxhbmVzLmZpbHRlcihsYW5lID0+IChsYW5lQ291bnRzW2xhbmVdIHx8IDApIDw9IG1pbkNvdW50KTtcbiAgICAgIFxuICAgICAgLy8gUmFuZG9tbHkgc2VsZWN0IGZyb20gbGFuZXMgd2l0aCBmZXdlciB2ZWhpY2xlcyAod2VpZ2h0ZWQgZGlzdHJpYnV0aW9uKVxuICAgICAgLy8gVGhpcyBwcmlvcml0aXplcyBsYW5lcyB3aXRoIGZld2VyIHZlaGljbGVzIGJ1dCBzdGlsbCBtYWludGFpbnMgc29tZSByYW5kb21uZXNzXG4gICAgICBjb25zdCByYW5kb21MYW5lID0gbGFuZXNXaXRoRmV3ZXN0VmVoaWNsZXNbXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxhbmVzV2l0aEZld2VzdFZlaGljbGVzLmxlbmd0aClcbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbWx5IHNlbGVjdCB2ZWhpY2xlIGltYWdlICgxLTUpXG4gICAgICBjb25zdCB2ZWhpY2xlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSArIDE7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyB2ZWhpY2xlXG4gICAgICBjb25zdCBuZXdWZWhpY2xlOiBWZWhpY2xlT2JzdGFjbGUgPSB7XG4gICAgICAgIGlkOiBuZXh0VmVoaWNsZUlkLFxuICAgICAgICB2ZWhpY2xlSW5kZXgsXG4gICAgICAgIGRpcmVjdGlvbjogXCJkb3duXCJcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgbmV4dCB2ZWhpY2xlIElEXG4gICAgICBzZXROZXh0VmVoaWNsZUlkKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgXG4gICAgICAvLyBBZGQgdGhlIHZlaGljbGUgdG8gdGhlIGFwcHJvcHJpYXRlIGxhbmVcbiAgICAgIHNldFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFZlaGljbGVzID0geyAuLi5wcmV2IH07XG4gICAgICAgIFxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBsYW5lJ3MgdmVoaWNsZXMgYXJyYXkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAoIXVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSkge1xuICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgdGhlIG5ldyB2ZWhpY2xlIHRvIHRoZSBsYW5lXG4gICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSA9IFsuLi51cGRhdGVkVmVoaWNsZXNbcmFuZG9tTGFuZV0sIG5ld1ZlaGljbGVdO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBMb2cgdmVoaWNsZSBkaXN0cmlidXRpb24gZm9yIGRlYnVnZ2luZ1xuICAgICAgLy8gY29uc29sZS5sb2coJ1ZlaGljbGUgZGlzdHJpYnV0aW9uOicsIFxuICAgICAgLy8gICBPYmplY3QuZW50cmllcyh2ZWhpY2xlc1BlckxhbmUpLm1hcCgoW2xhbmUsIHZlaGljbGVzXSkgPT4gXG4gICAgICAvLyAgICAgYExhbmUgJHtsYW5lfTogJHt2ZWhpY2xlcz8ubGVuZ3RoIHx8IDB9IHZlaGljbGVzYFxuICAgICAgLy8gICApLmpvaW4oJywgJylcbiAgICAgIC8vICk7XG4gICAgICBcbiAgICAvLyBBZGp1c3Qgc3Bhd24gaW50ZXJ2YWwgYmFzZWQgb24gZGlmZmljdWx0eSBhbmQgc3BlY2lhbCBjYXNlIGZvciBmaW5hbCBsYW5lXG4gICAgfSwgaXNBdFNlY29uZFRvTGFzdExhbmUoKSA/IDgwMCA6IC8vIFNsb3dlciBzcGF3bmluZyB3aGVuIGF0IHNlY29uZC10by1sYXN0IGxhbmVcbiAgICAgICBkaWZmaWN1bHR5ID09PSBcImRhcmVkZXZpbFwiID8gMTAwIDogXG4gICAgICAgZGlmZmljdWx0eSA9PT0gXCJoYXJkXCIgPyAyMDAgOiBcbiAgICAgICBkaWZmaWN1bHR5ID09PSBcIm1lZGl1bVwiID8gMzUwIDogXG4gICAgICAgNTAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbCh2ZWhpY2xlSW50ZXJ2YWwpO1xuICB9LCBbZ2FtZUFjdGl2ZSwgY3VycmVudExhbmUsIGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzLCBkaWZmaWN1bHR5LCBuZXh0VmVoaWNsZUlkXSk7XG4gIFxuICAvLyBTZXBhcmF0ZSB1c2VFZmZlY3QgdG8gY2xlYXIgdmVoaWNsZXMgd2hlbiBnYW1lIGJlY29tZXMgYWN0aXZlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdhbWVBY3RpdmUpIHtcbiAgICAgIC8vIENsZWFyIGFsbCB2ZWhpY2xlcyB3aGVuIGdhbWUgc3RhcnRzXG4gICAgICBzZXRWZWhpY2xlc1BlckxhbmUoe30pO1xuICAgICAgLy8gQWxzbyBjbGVhciBwcm9wIHZlaGljbGVzIHdoZW4gZ2FtZSBzdGFydHMvZW5kc1xuICAgICAgc2V0UHJvcFZlaGljbGVzUGVyTGFuZSh7fSk7XG4gICAgfVxuICB9LCBbZ2FtZUFjdGl2ZV0pO1xuICBcbiAgLy8gU3Bhd24gcHJvcCB2ZWhpY2xlcyBvbmx5IHdoZW4gZ2FtZSBpcyBhY3RpdmUgKHB1cmVseSBkZWNvcmF0aXZlKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgc3Bhd24gcHJvcCB2ZWhpY2xlcyB3aGVuIGdhbWUgSVMgYWN0aXZlIChvcHBvc2l0ZSBvZiByZWd1bGFyIHZlaGljbGVzKVxuICAgIGlmICghZ2FtZUFjdGl2ZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHByb3BWZWhpY2xlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAvLyBEZWZpbmUgZWxpZ2libGUgbGFuZXMgYmFzZWQgb24gcGxheWVyJ3MgY3VycmVudCBwb3NpdGlvblxuICAgICAgbGV0IGVsaWdpYmxlTGFuZXM6IG51bWJlcltdID0gW107XG4gICAgICBcbiAgICAgIC8vIDItMyBsYW5lcyBhaGVhZCBvZiBwbGF5ZXIgKGlmIHRoZXkgZXhpc3QpXG4gICAgICBmb3IgKGxldCBpID0gMjsgaSA8PSAzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYWhlYWRMYW5lID0gY3VycmVudExhbmUgKyBpO1xuICAgICAgICBpZiAoYWhlYWRMYW5lIDw9IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzKSB7XG4gICAgICAgICAgZWxpZ2libGVMYW5lcy5wdXNoKGFoZWFkTGFuZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gMjAlIGNoYW5jZSB0byBzcGF3biAxIGxhbmUgYmVmb3JlIHRoZSBwbGF5ZXJcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC4yKSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZUxhbmUgPSBjdXJyZW50TGFuZSAtIDE7XG4gICAgICAgIGlmIChiZWZvcmVMYW5lID4gMCkgeyAvLyBNYWtlIHN1cmUgaXQncyBhIHZhbGlkIGxhbmVcbiAgICAgICAgICBlbGlnaWJsZUxhbmVzLnB1c2goYmVmb3JlTGFuZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgbm8gZWxpZ2libGUgbGFuZXMsIHNraXAgdGhpcyBzcGF3biBjeWNsZVxuICAgICAgaWYgKGVsaWdpYmxlTGFuZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIFJhbmRvbWx5IHNlbGVjdCBhIGxhbmUgZnJvbSBlbGlnaWJsZSBsYW5lc1xuICAgICAgY29uc3QgcmFuZG9tTGFuZSA9IGVsaWdpYmxlTGFuZXNbXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVsaWdpYmxlTGFuZXMubGVuZ3RoKVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgLy8gUmFuZG9tbHkgc2VsZWN0IHZlaGljbGUgaW1hZ2UgKDEtNSlcbiAgICAgIGNvbnN0IHZlaGljbGVJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpICsgMTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHByb3AgdmVoaWNsZSAodXNpbmcgSUQgcmFuZ2UgMTAwMDArKVxuICAgICAgY29uc3QgbmV3UHJvcFZlaGljbGU6IFZlaGljbGVPYnN0YWNsZSA9IHtcbiAgICAgICAgaWQ6IG5leHRQcm9wVmVoaWNsZUlkLFxuICAgICAgICB2ZWhpY2xlSW5kZXgsXG4gICAgICAgIGRpcmVjdGlvbjogXCJkb3duXCIsXG4gICAgICAgIGlzUHJvcDogdHJ1ZSAvLyBNYXJrIGFzIHByb3AgdmVoaWNsZSAod29uJ3QgY2F1c2UgY29sbGlzaW9ucylcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgbmV4dCBwcm9wIHZlaGljbGUgSURcbiAgICAgIHNldE5leHRQcm9wVmVoaWNsZUlkKHByZXYgPT4gcHJldiArIDEpO1xuICAgICAgXG4gICAgICAvLyBBZGQgdGhlIHByb3AgdmVoaWNsZSB0byB0aGUgYXBwcm9wcmlhdGUgbGFuZVxuICAgICAgc2V0UHJvcFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZFZlaGljbGVzID0geyAuLi5wcmV2IH07XG4gICAgICAgIFxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBsYW5lJ3MgdmVoaWNsZXMgYXJyYXkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAoIXVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSkge1xuICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgdGhlIG5ldyBwcm9wIHZlaGljbGUgdG8gdGhlIGxhbmVcbiAgICAgICAgdXBkYXRlZFZlaGljbGVzW3JhbmRvbUxhbmVdID0gWy4uLnVwZGF0ZWRWZWhpY2xlc1tyYW5kb21MYW5lXSwgbmV3UHJvcFZlaGljbGVdO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBjb25zb2xlLmxvZyhgUHJvcCB2ZWhpY2xlIHNwYXduZWQgb24gbGFuZSAke3JhbmRvbUxhbmV9YCk7XG4gICAgICBcbiAgICB9LCBkaWZmaWN1bHR5ID09PSBcImRhcmVkZXZpbFwiID8gMjAwIDogXG4gICAgICAgZGlmZmljdWx0eSA9PT0gXCJoYXJkXCIgPyAzMDAgOiBcbiAgICAgICBkaWZmaWN1bHR5ID09PSBcIm1lZGl1bVwiID8gNDAwIDogXG4gICAgICAgNTAwKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChwcm9wVmVoaWNsZUludGVydmFsKTtcbiAgfSwgW2dhbWVBY3RpdmUsIGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzLCBkaWZmaWN1bHR5LCBuZXh0UHJvcFZlaGljbGVJZCwgY3VycmVudExhbmVdKTtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBwbGF5ZXIgaXMgYXQgc2Vjb25kLXRvLWxhc3QgbGFuZVxuICBjb25zdCBpc0F0U2Vjb25kVG9MYXN0TGFuZSA9ICgpID0+IHtcbiAgICByZXR1cm4gY3VycmVudExhbmUgPT09IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzIC0gMSAmJiBnYW1lQWN0aXZlO1xuICB9O1xuICBcbiAgLy8gU3BsaXQgY29sbGlzaW9uIGRldGVjdGlvbiBhbmQgdmVoaWNsZSBjbGVhbnVwIGludG8gc2VwYXJhdGUgZWZmZWN0c1xuICBcbiAgLy8gVmVoaWNsZSBhbmltYXRpb24gY29tcGxldGlvbiBoYW5kbGVyIChhbHdheXMgYWN0aXZlIHJlZ2FyZGxlc3Mgb2YgZ2FtZSBzdGF0ZSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBMaXN0ZW4gZm9yIHZlaGljbGUgYW5pbWF0aW9uIGNvbXBsZXRpb24gZXZlbnRzXG4gICAgY29uc3QgaGFuZGxlVmVoaWNsZUFuaW1hdGlvbkNvbXBsZXRlID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldmVudCBhcyBDdXN0b21FdmVudDtcbiAgICAgIGNvbnN0IHsgbGFuZU51bWJlciwgdmVoaWNsZUlkLCBpc1Byb3AgfSA9IGN1c3RvbUV2ZW50LmRldGFpbDtcbiAgICAgIFxuICAgICAgaWYgKGlzUHJvcCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbXBsZXRlZCBwcm9wIHZlaGljbGUgZnJvbSB0aGUgbGFuZVxuICAgICAgICBzZXRQcm9wVmVoaWNsZXNQZXJMYW5lKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRWZWhpY2xlcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgIGNvbnN0IGxhbmVWZWhpY2xlcyA9IHVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBjb21wbGV0ZWQgdmVoaWNsZVxuICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSA9IGxhbmVWZWhpY2xlcy5maWx0ZXIodiA9PiB2LmlkICE9PSB2ZWhpY2xlSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB1cGRhdGVkVmVoaWNsZXM7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBjb21wbGV0ZWQgdmVoaWNsZSBmcm9tIHRoZSBsYW5lXG4gICAgICAgIHNldFZlaGljbGVzUGVyTGFuZShwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkVmVoaWNsZXMgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICBjb25zdCBsYW5lVmVoaWNsZXMgPSB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gfHwgW107XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmlsdGVyIG91dCB0aGUgY29tcGxldGVkIHZlaGljbGVcbiAgICAgICAgICB1cGRhdGVkVmVoaWNsZXNbbGFuZU51bWJlcl0gPSBsYW5lVmVoaWNsZXMuZmlsdGVyKHYgPT4gdi5pZCAhPT0gdmVoaWNsZUlkKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZFZlaGljbGVzO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3IgdmVoaWNsZSBhbmltYXRpb24gY29tcGxldGlvblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3ZlaGljbGVBbmltYXRpb25Db21wbGV0ZScsIGhhbmRsZVZlaGljbGVBbmltYXRpb25Db21wbGV0ZSk7XG4gICAgXG4gICAgLy8gQmFja3VwIGNsZWFudXAgZm9yIGFueSB2ZWhpY2xlcyB0aGF0IG1pZ2h0IG5vdCB0cmlnZ2VyIHRoZSBhbmltYXRpb24gY29tcGxldGUgZXZlbnRcbiAgICBjb25zdCBjbGVhbnVwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAvLyBDbGVhbiB1cCByZWd1bGFyIHZlaGljbGVzXG4gICAgICBzZXRWZWhpY2xlc1BlckxhbmUocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRWZWhpY2xlczogUmVjb3JkPG51bWJlciwgVmVoaWNsZU9ic3RhY2xlW10+ID0ge307XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgZWFjaCBsYW5lLCBrZWVwIG9ubHkgdGhlIDUgbW9zdCByZWNlbnQgdmVoaWNsZXNcbiAgICAgICAgT2JqZWN0LmtleXMocHJldikuZm9yRWFjaChsYW5lS2V5ID0+IHtcbiAgICAgICAgICBjb25zdCBsYW5lTnVtYmVyID0gcGFyc2VJbnQobGFuZUtleSk7XG4gICAgICAgICAgY29uc3QgbGFuZVZlaGljbGVzID0gcHJldltsYW5lTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobGFuZVZlaGljbGVzLmxlbmd0aCA+IDUpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSA9IGxhbmVWZWhpY2xlcy5zbGljZSgtNSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSA9IGxhbmVWZWhpY2xlcztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBwcm9wIHZlaGljbGVzXG4gICAgICBzZXRQcm9wVmVoaWNsZXNQZXJMYW5lKHByZXYgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkVmVoaWNsZXM6IFJlY29yZDxudW1iZXIsIFZlaGljbGVPYnN0YWNsZVtdPiA9IHt9O1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yIGVhY2ggbGFuZSwga2VlcCBvbmx5IHRoZSA1IG1vc3QgcmVjZW50IHByb3AgdmVoaWNsZXNcbiAgICAgICAgT2JqZWN0LmtleXMocHJldikuZm9yRWFjaChsYW5lS2V5ID0+IHtcbiAgICAgICAgICBjb25zdCBsYW5lTnVtYmVyID0gcGFyc2VJbnQobGFuZUtleSk7XG4gICAgICAgICAgY29uc3QgbGFuZVZlaGljbGVzID0gcHJldltsYW5lTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobGFuZVZlaGljbGVzLmxlbmd0aCA+IDUpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSA9IGxhbmVWZWhpY2xlcy5zbGljZSgtNSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRWZWhpY2xlc1tsYW5lTnVtYmVyXSA9IGxhbmVWZWhpY2xlcztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRWZWhpY2xlcztcbiAgICAgIH0pO1xuICAgIH0sIDIwMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGNsZWFudXBJbnRlcnZhbCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2ZWhpY2xlQW5pbWF0aW9uQ29tcGxldGUnLCBoYW5kbGVWZWhpY2xlQW5pbWF0aW9uQ29tcGxldGUpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgXG4gIFxuICAvLyBNb3VzZSBldmVudCBoYW5kbGVycyBmb3IgZHJhZyBzY3JvbGxpbmdcbiAgY29uc3QgaGFuZGxlTW91c2VEb3duID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoZ2FtZUFjdGl2ZSB8fCBpc0dhbWVPdmVyKSByZXR1cm47IC8vIE9ubHkgYWxsb3cgZHJhZyBzY3JvbGxpbmcgd2hlbiBnYW1lIGlzIG5vdCBhY3RpdmVcbiAgICBcbiAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgIHNldERyYWdTdGFydFgoZS5jbGllbnRYKTtcbiAgICBzZXREcmFnU3RhcnRDYW1lcmFQb3MobWFudWFsQ2FtZXJhUG9zaXRpb24pO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBkcmFnRGlzdGFuY2UgPSBlLmNsaWVudFggLSBkcmFnU3RhcnRYO1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gTWF0aC5tYXgoXG4gICAgICAwLCBcbiAgICAgIE1hdGgubWluKFxuICAgICAgICAoZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgLSAyKSAqIDE1MCwgLy8gTWF4IHNjcm9sbCBwb3NpdGlvblxuICAgICAgICBkcmFnU3RhcnRDYW1lcmFQb3MgLSBkcmFnRGlzdGFuY2UgLy8gTW92ZSBjYW1lcmEgb3Bwb3NpdGUgdG8gZHJhZyBkaXJlY3Rpb25cbiAgICAgIClcbiAgICApO1xuICAgIFxuICAgIHNldE1hbnVhbENhbWVyYVBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgdmlzaWJsZSBsYW5lIHJhbmdlXG4gICAgY29uc3Qgc3RhcnRMYW5lID0gTWF0aC5mbG9vcihuZXdQb3NpdGlvbiAvIDE1MCk7XG4gICAgY29uc3QgZW5kTGFuZSA9IHN0YXJ0TGFuZSArIDM7XG4gICAgc2V0VmlzaWJsZUxhbmVSYW5nZSh7IHN0YXJ0OiBzdGFydExhbmUsIGVuZDogZW5kTGFuZSB9KTtcbiAgfTtcbiAgXG4gIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gIH07XG4gIFxuICAvLyBBZGQgbW91c2UgbGVhdmUgaGFuZGxlciB0byBzdG9wIGRyYWdnaW5nIGlmIG1vdXNlIGxlYXZlcyB0aGUgY29udGFpbmVyXG4gIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gIH07XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZS1jb250YWluZXItYmcgcm91bmRlZC1sZyBwLTYgcGItMTIgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHctZnVsbFwiPlxuICAgICAgey8qIEJhY2tncm91bmQgZWxlbWVudHMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZ2FtZS1jb250YWluZXItYmcgei0wXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLTggYmctWyMwZjBmMWFdLzUwXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHctZnVsbCBoLTggYmctWyMwZjBmMWFdLzUwXCI+PC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogSG9yaXpvbnRhbCBsaW5lcyBhdCB0b3AgYW5kIGJvdHRvbSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgdy1mdWxsIGgtMSBiZy1bIzIzMjMzNF1cIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgdy1mdWxsIGgtMSBiZy1bIzIzMjMzNF1cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLVs1MDBweF0gei0xMCBvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlTW91c2VEb3dufVxuICAgICAgICBvbk1vdXNlTW92ZT17aGFuZGxlTW91c2VNb3ZlfVxuICAgICAgICBvbk1vdXNlVXA9e2hhbmRsZU1vdXNlVXB9XG4gICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTW91c2VMZWF2ZX1cbiAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAhZ2FtZUFjdGl2ZSAmJiAhaXNHYW1lT3ZlciA/IChpc0RyYWdnaW5nID8gJ2dyYWJiaW5nJyA6ICdncmFiJykgOiAnZGVmYXVsdCcgfX1cbiAgICAgID5cbiAgICAgICAgey8qIENhbWVyYSBjb250YWluZXIgdGhhdCBtb3ZlcyBiYXNlZCBvbiBnYW1lIHN0YXRlICovfVxuICAgICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGFic29sdXRlIHRvcC0wIGxlZnQtMCBoLWZ1bGxcIlxuICAgICAgICAgIGFuaW1hdGU9e3sgXG4gICAgICAgICAgICB4OiBpc0dhbWVPdmVyID8gLXBsYXllckNhbWVyYVBvc2l0aW9uIDogLy8gV2hlbiBnYW1lIGlzIG92ZXIsIGtlZXAgY2FtZXJhIGF0IGxhc3QgcGxheWVyIHBvc2l0aW9uXG4gICAgICAgICAgICAgICBnYW1lQWN0aXZlID8gLXBsYXllckNhbWVyYVBvc2l0aW9uIDogLy8gRHVyaW5nIGdhbWVwbGF5LCBmb2xsb3cgcGxheWVyXG4gICAgICAgICAgICAgICAtbWFudWFsQ2FtZXJhUG9zaXRpb24gLy8gQmVmb3JlIGdhbWUgc3RhcnRzLCB1c2UgbWFudWFsIGNhbWVyYVxuICAgICAgICAgIH19XG4gICAgICAgICAgdHJhbnNpdGlvbj17eyB0eXBlOiBcInNwcmluZ1wiLCBzdGlmZm5lc3M6IDMwMCwgZGFtcGluZzogMzAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHsvKiBHZW5lcmF0ZSBsYW5lcyBiYXNlZCBvbiBkaWZmaWN1bHR5IHNldHRpbmdzICovfVxuICAgICAgICAgIHsvKiBBZGQgZW5kIGxhbmUgYXQgdGhlIGVuZCAqL31cbiAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogZGlmZmljdWx0eVNldHRpbmdzLnRvdGFsTGFuZXMgKyAyIH0sIChfLCBpKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IGxhbmUsIG1ha2UgaXQgdGhlIGVuZCBsYW5lXG4gICAgICAgICAgICBjb25zdCBpc0VuZExhbmUgPSBpID09PSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyArIDE7XG4gICAgICAgICAgICBjb25zdCBsYW5lTnVtYmVyID0gaXNFbmRMYW5lID8gLTEgOiBpO1xuICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50TGFuZSA9IGxhbmVOdW1iZXIgPT09IGN1cnJlbnRMYW5lO1xuICAgICAgICAgICAgY29uc3QgaXNOZXh0TGFuZSA9IGxhbmVOdW1iZXIgPT09IGN1cnJlbnRMYW5lICsgMSB8fCAoY3VycmVudExhbmUgPT09IGRpZmZpY3VsdHlTZXR0aW5ncy50b3RhbExhbmVzICYmIGlzRW5kTGFuZSk7XG4gICAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gbGFuZU51bWJlciA9PT0gMCBcbiAgICAgICAgICAgICAgPyAwIFxuICAgICAgICAgICAgICA6IGxhbmVOdW1iZXIgPT09IC0xXG4gICAgICAgICAgICAgID8gMCAvLyBFbmQgbGFuZSBoYXMgbm8gbXVsdGlwbGllclxuICAgICAgICAgICAgICA6IGRpZmZpY3VsdHlTZXR0aW5ncy5sYW5lTXVsdGlwbGllcnNbbGFuZU51bWJlciAtIDFdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBHZXQgdmVoaWNsZXMgZm9yIHRoaXMgbGFuZSAobm8gdmVoaWNsZXMgaW4gZW5kIGxhbmUpXG4gICAgICAgICAgICBjb25zdCBsYW5lVmVoaWNsZXMgPSBpc0VuZExhbmUgPyBbXSA6IHZlaGljbGVzUGVyTGFuZVtsYW5lTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29tYmluZSByZWd1bGFyIHZlaGljbGVzIGFuZCBwcm9wIHZlaGljbGVzIGZvciB0aGlzIGxhbmVcbiAgICAgICAgICAgIGNvbnN0IGFsbExhbmVWZWhpY2xlcyA9IFsuLi5sYW5lVmVoaWNsZXNdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgcHJvcCB2ZWhpY2xlcyBpZiB0aGV5IGV4aXN0IGZvciB0aGlzIGxhbmVcbiAgICAgICAgICAgIGNvbnN0IHByb3BWZWhpY2xlcyA9IHByb3BWZWhpY2xlc1BlckxhbmVbbGFuZU51bWJlcl0gfHwgW107XG4gICAgICAgICAgICBhbGxMYW5lVmVoaWNsZXMucHVzaCguLi5wcm9wVmVoaWNsZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGFuZVxuICAgICAgICAgICAgICAgIGtleT17aXNFbmRMYW5lID8gJ2VuZC1sYW5lJyA6IGxhbmVOdW1iZXJ9XG4gICAgICAgICAgICAgICAgbGFuZU51bWJlcj17bGFuZU51bWJlcn1cbiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyPXttdWx0aXBsaWVyfVxuICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtnYW1lQWN0aXZlID8gKGdhbWVBY3RpdmUgJiYgaXNOZXh0TGFuZSkgOiAobGFuZU51bWJlciA+IDAgJiYgbGFuZU51bWJlciA8PSBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyl9XG4gICAgICAgICAgICAgICAgaXNDdXJyZW50TGFuZT17aXNDdXJyZW50TGFuZX1cbiAgICAgICAgICAgICAgICBpc1RhcmdldExhbmU9eyFnYW1lQWN0aXZlICYmIGxhbmVTZWxlY3RlZCAmJiBsYW5lTnVtYmVyID09PSB0YXJnZXRMYW5lfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUxhbmVDbGljayhsYW5lTnVtYmVyKX1cbiAgICAgICAgICAgICAgICB2ZWhpY2xlcz17YWxsTGFuZVZlaGljbGVzfVxuICAgICAgICAgICAgICAgIGRpZmZpY3VsdHk9e2RpZmZpY3VsdHl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgICAgey8qIEtJTk8gY2hhcmFjdGVyIG5vdyBJTlNJREUgdGhlIHNjcm9sbGluZyBjb250YWluZXIgKi99XG4gICAgICAgICAgPG1vdGlvbi5kaXYgXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB6LTEwIHctMjQgaC0yNCBwbGF5ZXItY2hhcmFjdGVyXCJcbiAgICAgICAgICAgIGluaXRpYWw9e3sgbGVmdDogNTAsIHRvcDogXCI1MCVcIiB9fSAvLyBJbml0aWFsIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBjb250YWluZXIgc3RhcnRcbiAgICAgICAgICAgIGFuaW1hdGU9e3sgXG4gICAgICAgICAgICAgIC8vIFBvc2l0aW9uIEtpbm8gYmFzZWQgKm9ubHkqIG9uIHRoZSBjdXJyZW50IGxhbmUsIHJlbGF0aXZlIHRvIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgICAgbGVmdDogY3VycmVudExhbmUgKiAxNTAgKyA1MCwgXG4gICAgICAgICAgICAgIHRvcDogXCI1MCVcIixcbiAgICAgICAgICAgICAgeTogXCItNTAlXCIsXG4gICAgICAgICAgICAgIC8vIE5vIHNjYWxlL3JvdGF0ZSBkdXJpbmcgZ2FtZXBsYXkgdG8gbWF0Y2ggd2Fsa2luZyBhbmltYXRpb25cbiAgICAgICAgICAgICAgc2NhbGU6ICFnYW1lQWN0aXZlICYmIGN1cnJlbnRMYW5lICE9PSB0YXJnZXRMYW5lID8gWzEsIDEuMDUsIDFdIDogMSxcbiAgICAgICAgICAgICAgcm90YXRlOiAhZ2FtZUFjdGl2ZSAmJiBjdXJyZW50TGFuZSAhPT0gdGFyZ2V0TGFuZSA/IFswLCAyLCAwLCAtMiwgMF0gOiAwXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdHJhbnNpdGlvbj17e1xuICAgICAgICAgICAgICAvLyBVc2UgbGluZWFyIGVhc2luZyBmb3Igc21vb3RoIHdhbGtpbmcgYWNyb3NzIHRoZSBsYW5lXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAwLjUsIFxuICAgICAgICAgICAgICBlYXNlOiBcImxpbmVhclwiXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgIHNyYz17XG4gICAgICAgICAgICAgICAgIWdhbWVBY3RpdmUgPyAnL2Fzc2V0cy9LaW5vX0lkbGVfSEQuZ2lmJyA6XG4gICAgICAgICAgICAgICAgY3VycmVudExhbmUgPT09IHRhcmdldExhbmUgPyAnL2Fzc2V0cy9LaW5vX1N0YXRpYy5wbmcnIDogXG4gICAgICAgICAgICAgICAgJy9hc3NldHMvS2lub19XYWxrX0hELmdpZidcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhbHQ9XCJLaW5vIGNoYXJhY3RlclwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvbnRhaW5cIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICB7LyogVUkgZWxlbWVudHMgbGlrZSBjYW1lcmEgY29udHJvbHMgcmVtYWluIG91dHNpZGUgdGhlIHNjcm9sbGluZyBjb250YWluZXIgKi99XG4gICAgICAgIHsvKiBSb2FkIG1hcmtpbmdzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIGxlZnQtMCByaWdodC0wIGgtMiBiZy13aGl0ZS8yMFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMCByaWdodC0wIGgtMiBiZy13aGl0ZS8yMFwiPjwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIFZlaGljbGVzIGFyZSBub3cgcmVuZGVyZWQgZGlyZWN0bHkgd2l0aGluIGVhY2ggbGFuZSAqL31cbiAgICAgICAgXG4gICAgICAgIHsvKiBNYW51YWwgY2FtZXJhIGNvbnRyb2xzIC0gb25seSBzaG93biB3aGVuIGdhbWUgaXMgbm90IGFjdGl2ZSAqL31cbiAgICAgICAgeyFnYW1lQWN0aXZlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IGxlZnQtMCByaWdodC0wIGZsZXgganVzdGlmeS1jZW50ZXIgZ2FwLTQgei0zMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibGFjay8zMCBweC00IHB5LTIgcm91bmRlZC1mdWxsIHRleHQtd2hpdGUgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICBDbGljayBhbmQgZHJhZyB0byBzY3JvbGwgdGhyb3VnaCBsYW5lc1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogTGFuZSB2aXNpYmlsaXR5IGluZGljYXRvcnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTE2IGxlZnQtMCByaWdodC0wIGZsZXgganVzdGlmeS1jZW50ZXIgZ2FwLTEgei0yMFwiPlxuICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiBkaWZmaWN1bHR5U2V0dGluZ3MudG90YWxMYW5lcyB9LCAoXywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGFuZU51bWJlciA9IGkgKyAxO1xuICAgICAgICAgICAgY29uc3QgaXNWaXNpYmxlID0gbGFuZU51bWJlciA+PSB2aXNpYmxlTGFuZVJhbmdlLnN0YXJ0ICYmIGxhbmVOdW1iZXIgPD0gdmlzaWJsZUxhbmVSYW5nZS5lbmQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAga2V5PXtgaW5kaWNhdG9yLSR7bGFuZU51bWJlcn1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMiBoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsICR7aXNWaXNpYmxlID8gJ2JnLXByaW1hcnknIDogJ2JnLWdyYXktNTAwJ30gJHtsYW5lTnVtYmVyID09PSBjdXJyZW50TGFuZSA/ICd3LTMgaC0zJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgdGl0bGU9e2BMYW5lICR7bGFuZU51bWJlcn1gfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIm1vdGlvbiIsIkxhbmUiLCJwbGF5TGFuZVNlbGVjdFNvdW5kIiwiR2FtZUJvYXJkIiwiY3VycmVudExhbmUiLCJkaWZmaWN1bHR5IiwiZ2FtZUFjdGl2ZSIsIm9uTGFuZUNsaWNrIiwiZGlmZmljdWx0eVNldHRpbmdzIiwidGFyZ2V0TGFuZSIsImxhbmVTZWxlY3RlZCIsImlzR2FtZU92ZXIiLCJwbGF5ZXJDYW1lcmFQb3NpdGlvbiIsInNldFBsYXllckNhbWVyYVBvc2l0aW9uIiwibWFudWFsQ2FtZXJhUG9zaXRpb24iLCJzZXRNYW51YWxDYW1lcmFQb3NpdGlvbiIsInZpc2libGVMYW5lUmFuZ2UiLCJzZXRWaXNpYmxlTGFuZVJhbmdlIiwic3RhcnQiLCJlbmQiLCJpc0RyYWdnaW5nIiwic2V0SXNEcmFnZ2luZyIsImRyYWdTdGFydFgiLCJzZXREcmFnU3RhcnRYIiwiZHJhZ1N0YXJ0Q2FtZXJhUG9zIiwic2V0RHJhZ1N0YXJ0Q2FtZXJhUG9zIiwidmVoaWNsZXNQZXJMYW5lIiwic2V0VmVoaWNsZXNQZXJMYW5lIiwicHJvcFZlaGljbGVzUGVyTGFuZSIsInNldFByb3BWZWhpY2xlc1BlckxhbmUiLCJuZXh0VmVoaWNsZUlkIiwic2V0TmV4dFZlaGljbGVJZCIsIm5leHRQcm9wVmVoaWNsZUlkIiwic2V0TmV4dFByb3BWZWhpY2xlSWQiLCJ0YXJnZXRlZFZlaGljbGVBY3RpdmUiLCJzZXRUYXJnZXRlZFZlaGljbGVBY3RpdmUiLCJzcGF3blRhcmdldGVkVmVoaWNsZSIsImxhbmVOdW1iZXIiLCJ0YXJnZXRDaGFuY2UiLCJNYXRoIiwicmFuZG9tIiwiY29uc29sZSIsImxvZyIsInZlaGljbGVJbmRleCIsImZsb29yIiwidGFyZ2V0ZWRWZWhpY2xlIiwiaWQiLCJkaXJlY3Rpb24iLCJpc1RhcmdldGVkIiwicHJldiIsInVwZGF0ZWRWZWhpY2xlcyIsInNldFRpbWVvdXQiLCJoYW5kbGVMYW5lQ2xpY2siLCJ0b3RhbExhbmVzIiwicG9zaXRpb24iLCJzdGFydExhbmUiLCJlbmRMYW5lIiwic2Nyb2xsQ2FtZXJhTGVmdCIsIm5ld1Bvc2l0aW9uIiwibWF4Iiwic2Nyb2xsQ2FtZXJhUmlnaHQiLCJtYXhTY3JvbGwiLCJtaW4iLCJ2ZWhpY2xlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImVsaWdpYmxlTGFuZXMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsImZpbHRlciIsImxhbmUiLCJpc09ubHlGaW5hbExhbmUiLCJmaW5hbExhbmVWZWhpY2xlcyIsIm5ld1ZlaGljbGUiLCJmaW5hbExhbmUiLCJsYW5lQ291bnRzIiwiZm9yRWFjaCIsIm1pbkNvdW50IiwiT2JqZWN0IiwidmFsdWVzIiwibGFuZXNXaXRoRmV3ZXN0VmVoaWNsZXMiLCJyYW5kb21MYW5lIiwiaXNBdFNlY29uZFRvTGFzdExhbmUiLCJjbGVhckludGVydmFsIiwicHJvcFZlaGljbGVJbnRlcnZhbCIsImFoZWFkTGFuZSIsInB1c2giLCJiZWZvcmVMYW5lIiwibmV3UHJvcFZlaGljbGUiLCJpc1Byb3AiLCJoYW5kbGVWZWhpY2xlQW5pbWF0aW9uQ29tcGxldGUiLCJldmVudCIsImN1c3RvbUV2ZW50IiwidmVoaWNsZUlkIiwiZGV0YWlsIiwibGFuZVZlaGljbGVzIiwidiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFudXBJbnRlcnZhbCIsImtleXMiLCJsYW5lS2V5IiwicGFyc2VJbnQiLCJzbGljZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVNb3VzZURvd24iLCJlIiwiY2xpZW50WCIsImhhbmRsZU1vdXNlTW92ZSIsImRyYWdEaXN0YW5jZSIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVNb3VzZUxlYXZlIiwiZGl2IiwiY2xhc3NOYW1lIiwib25Nb3VzZURvd24iLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsIm9uTW91c2VMZWF2ZSIsInN0eWxlIiwiY3Vyc29yIiwiYW5pbWF0ZSIsIngiLCJ0cmFuc2l0aW9uIiwidHlwZSIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJpc0VuZExhbmUiLCJpc0N1cnJlbnRMYW5lIiwiaXNOZXh0TGFuZSIsIm11bHRpcGxpZXIiLCJsYW5lTXVsdGlwbGllcnMiLCJhbGxMYW5lVmVoaWNsZXMiLCJwcm9wVmVoaWNsZXMiLCJpc0FjdGl2ZSIsImlzVGFyZ2V0TGFuZSIsIm9uQ2xpY2siLCJ2ZWhpY2xlcyIsImluaXRpYWwiLCJsZWZ0IiwidG9wIiwieSIsInNjYWxlIiwicm90YXRlIiwiZHVyYXRpb24iLCJlYXNlIiwiaW1nIiwic3JjIiwiYWx0IiwiaXNWaXNpYmxlIiwidGl0bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/game/UI/game-board.tsx\n"));

/***/ })

});