"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/game/BlockchainGameContainer.tsx":
/*!*********************************************************!*\
  !*** ./src/components/game/BlockchainGameContainer.tsx ***!
  \*********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BlockchainGameContainer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameDifficulty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameDifficulty */ \"(app-pages-browser)/./src/components/game/GameDifficulty.ts\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/node_modules/@ethersproject/contracts/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/node_modules/@ethersproject/units/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ethers */ \"(app-pages-browser)/./node_modules/ethers/node_modules/@ethersproject/providers/lib.esm/web3-provider.js\");\n/* harmony import */ var _constants_contracts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/constants/contracts */ \"(app-pages-browser)/./src/constants/contracts.ts\");\n/* harmony import */ var _UI_game_board__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UI/game-board */ \"(app-pages-browser)/./src/components/game/UI/game-board.tsx\");\n/* harmony import */ var _UI_game_controls__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UI/game-controls */ \"(app-pages-browser)/./src/components/game/UI/game-controls.tsx\");\n/* harmony import */ var _UI_game_header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UI/game-header */ \"(app-pages-browser)/./src/components/game/UI/game-header.tsx\");\n/* harmony import */ var _UI_game_over_message__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./UI/game-over-message */ \"(app-pages-browser)/./src/components/game/UI/game-over-message.tsx\");\n/* harmony import */ var _BaseGameLogic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BaseGameLogic */ \"(app-pages-browser)/./src/components/game/BaseGameLogic.tsx\");\n/* harmony import */ var _contracts_abis_game_abi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../contracts/abis/game-abi */ \"(app-pages-browser)/./src/contracts/abis/game-abi.ts\");\n/* harmony import */ var _contracts_abis_token_abi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../contracts/abis/token-abi */ \"(app-pages-browser)/./src/contracts/abis/token-abi.ts\");\n/* harmony import */ var _app_navbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/app/navbar */ \"(app-pages-browser)/./src/app/navbar.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction BlockchainGameContainer() {\n    _s();\n    // We'll use direct MetaMask connection instead of wagmi\n    // State to track if we're connecting\n    const [isConnecting, setIsConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [metaMaskAccount, setMetaMaskAccount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [metaMaskProvider, setMetaMaskProvider] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [metaMaskBalance, setMetaMaskBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"0\");\n    // Use the shared base game logic\n    const { gameState, setGameState, winTriggeredRef, autoWalkTimerRef, collisionCheckInProgressRef, fatalLane, setFatalLane, fatalLaneRef, resetGame, selectLane, handleBetChange, handleDifficultyChange, endGameWithLoss, getDifficultySettings } = (0,_BaseGameLogic__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n    // State to store the last game result from blockchain\n    const [lastGameResult, setLastGameResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // State to track if we're loading the game result\n    const [isLoadingResult, setIsLoadingResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Update balance from MetaMask\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (metaMaskAccount && metaMaskBalance) {\n            setGameState((prev)=>({\n                    ...prev,\n                    balance: parseFloat(metaMaskBalance)\n                }));\n        }\n    }, [\n        metaMaskAccount,\n        metaMaskBalance,\n        setGameState\n    ]);\n    // Clean up auto-walk timer when component unmounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (autoWalkTimerRef.current) {\n                clearInterval(autoWalkTimerRef.current);\n                autoWalkTimerRef.current = null;\n            }\n        };\n    }, [\n        autoWalkTimerRef\n    ]);\n    // Handle successful MetaMask connection\n    const handleMetaMaskConnect = async (account, provider)=>{\n        setMetaMaskAccount(account);\n        setMetaMaskProvider(provider);\n        try {\n            // Get token balance\n            const tokenContract = new ethers__WEBPACK_IMPORTED_MODULE_12__.Contract(_constants_contracts__WEBPACK_IMPORTED_MODULE_3__.TOKEN_ADDRESS, _contracts_abis_token_abi__WEBPACK_IMPORTED_MODULE_10__.tokenAbi, provider);\n            const balance = await tokenContract.balanceOf(account);\n            const formattedBalance = ethers__WEBPACK_IMPORTED_MODULE_13__.formatEther(balance);\n            setMetaMaskBalance(formattedBalance);\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Connected to MetaMask successfully!\",\n                    balance: parseFloat(formattedBalance)\n                }));\n        } catch (error) {\n            console.error(\"Error getting token balance:\", error);\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Connected to MetaMask, but failed to get token balance.\"\n                }));\n        }\n    };\n    // Handle MetaMask connection error\n    const handleMetaMaskError = (error)=>{\n        console.error(\"MetaMask connection error:\", error);\n        setGameState((prev)=>({\n                ...prev,\n                message: \"Failed to connect to MetaMask: \".concat(error.message)\n            }));\n    };\n    // Function to fetch the last game result from the blockchain\n    const fetchLastGameResult = async ()=>{\n        if (!window.ethereum) {\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"MetaMask not installed\"\n                }));\n            return null;\n        }\n        // Use MetaMask account or try to get directly\n        let playerAddress = metaMaskAccount;\n        console.log(\"Using player address:\", playerAddress);\n        if (!playerAddress) {\n            try {\n                // Try to get accounts directly from ethereum provider\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_14__.Web3Provider(window.ethereum);\n                const accounts = await provider.listAccounts();\n                playerAddress = accounts[0];\n                console.log(\"Got address from provider:\", playerAddress);\n                if (!playerAddress) {\n                    setGameState((prev)=>({\n                            ...prev,\n                            message: \"Please connect your wallet first\"\n                        }));\n                    return null;\n                }\n            } catch (error) {\n                console.error(\"Error getting accounts:\", error);\n                setGameState((prev)=>({\n                        ...prev,\n                        message: \"Please connect your wallet first\"\n                    }));\n                return null;\n            }\n        }\n        try {\n            setIsLoadingResult(true);\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Fetching last game result from blockchain...\"\n                }));\n            // Create provider and contract instances\n            const provider = new ethers__WEBPACK_IMPORTED_MODULE_14__.Web3Provider(window.ethereum);\n            const gameContract = new ethers__WEBPACK_IMPORTED_MODULE_12__.Contract(_constants_contracts__WEBPACK_IMPORTED_MODULE_3__.GAME_ADDRESS, _contracts_abis_game_abi__WEBPACK_IMPORTED_MODULE_9__.gameAbi, provider);\n            console.log(\"Game contract address:\", _constants_contracts__WEBPACK_IMPORTED_MODULE_3__.GAME_ADDRESS);\n            console.log(\"Calling getLastGameResult for address:\", playerAddress);\n            // Use only getLastGameResult function\n            let result;\n            try {\n                // Get the game result using the tuple-based function\n                const tupleResult = await gameContract.getLastGameResult(playerAddress);\n                console.log(\"getLastGameResult tuple result:\", tupleResult);\n                // Convert tuple result to the expected format\n                result = {\n                    difficulty: Number(tupleResult[0]),\n                    success: tupleResult[1],\n                    lanesBet: Number(tupleResult[2]),\n                    lanesCrossed: Number(tupleResult[3]),\n                    payout: tupleResult[4].toString(),\n                    baseSeed: tupleResult[5].toString(),\n                    result: tupleResult[6] // Seventh element should be result string\n                };\n                console.log(\"Converted tuple result:\", result);\n            } catch (error) {\n                console.error(\"getLastGameResult failed:\", error);\n                // Try a static call as fallback\n                try {\n                    console.log(\"Trying static call as fallback...\");\n                    const signer = provider.getSigner();\n                    const contractWithSigner = gameContract.connect(signer);\n                    const staticTupleResult = await contractWithSigner.callStatic.getLastGameResult(playerAddress);\n                    console.log(\"Static call tuple result:\", staticTupleResult);\n                    // Convert tuple result from static call\n                    result = {\n                        difficulty: Number(staticTupleResult[0]),\n                        success: staticTupleResult[1],\n                        lanesBet: Number(staticTupleResult[2]),\n                        lanesCrossed: Number(staticTupleResult[3]),\n                        payout: staticTupleResult[4].toString(),\n                        baseSeed: staticTupleResult[5].toString(),\n                        result: staticTupleResult[6]\n                    };\n                } catch (staticCallError) {\n                    console.error(\"Static call also failed:\", staticCallError);\n                    throw error; // Re-throw the original error if the fallback also fails\n                }\n            }\n            // If we got here, we have a result\n            if (!result) {\n                throw new Error(\"No result returned from blockchain\");\n            }\n            // Format the result\n            const formattedResult = {\n                difficulty: Number(result.difficulty),\n                success: result.success,\n                lanesBet: Number(result.lanesBet),\n                lanesCrossed: Number(result.lanesCrossed),\n                payout: ethers__WEBPACK_IMPORTED_MODULE_13__.formatEther(result.payout),\n                baseSeed: result.baseSeed.toString(),\n                result: result.result\n            };\n            console.log(\"Formatted game result:\", formattedResult);\n            setLastGameResult(formattedResult);\n            // Map difficulty number to string for display\n            const difficultyNames = [\n                \"Easy\",\n                \"Medium\",\n                \"Hard\",\n                \"Daredevil\"\n            ];\n            const difficultyName = difficultyNames[formattedResult.difficulty] || \"Unknown\";\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Last game result: \".concat(formattedResult.success ? \"Win\" : \"Loss\", \", Difficulty: \").concat(difficultyName, \", Lanes crossed: \").concat(formattedResult.lanesCrossed)\n                }));\n            return formattedResult;\n        } catch (error) {\n            console.error(\"Error fetching last game result:\", error);\n            // More detailed error message\n            let errorMsg = \"Error fetching last game result. \";\n            if (error instanceof Error) {\n                if (error.message.includes(\"call revert exception\")) {\n                    errorMsg += \"The contract call was reverted. This might happen if you haven't played a game yet with this wallet.\";\n                } else if (error.message.includes(\"Failed to initialize request\")) {\n                    errorMsg += \"RPC connection error. This is a known issue with the Abstract AGW library.\";\n                } else {\n                    errorMsg += error.message;\n                }\n            }\n            setGameState((prev)=>({\n                    ...prev,\n                    message: errorMsg\n                }));\n            return null;\n        } finally{\n            setIsLoadingResult(false);\n        }\n    };\n    // Function to play the game animation based on the blockchain result\n    const playGameAnimation = (result)=>{\n        // Reset game state first\n        resetGame();\n        // Set the difficulty from the blockchain result\n        const difficultyMap = [\n            \"easy\",\n            \"medium\",\n            \"hard\",\n            \"daredevil\" // 3 = DAREDEVIL\n        ];\n        // Ensure result exists and has a valid difficulty property\n        // If difficulty is undefined or out of range, use the current difficulty from game state\n        const difficulty = result && result.difficulty !== undefined && difficultyMap[result.difficulty] ? difficultyMap[result.difficulty] : gameState.currentDifficulty;\n        // Set the target lane from the blockchain result\n        const targetLane = result ? result.lanesBet : gameState.targetLane;\n        // Update game state with blockchain data\n        setGameState((prev)=>({\n                ...prev,\n                currentDifficulty: difficulty,\n                targetLane: targetLane,\n                laneSelected: true,\n                gameActive: true,\n                multiplier: getDifficultySettings(difficulty).startMultiplier,\n                message: \"Replaying last blockchain game...\"\n            }));\n        // Clear any existing timer\n        if (autoWalkTimerRef.current) {\n            clearInterval(autoWalkTimerRef.current);\n        }\n        // Reset collision check flag\n        collisionCheckInProgressRef.current = false;\n        // The max lane to reach is the lanes crossed from the blockchain result\n        const maxLaneToReach = result ? result.lanesCrossed : gameState.currentLane;\n        // Set up a timer to automatically move the player forward\n        autoWalkTimerRef.current = setInterval(()=>{\n            // Skip this interval if a collision check is already in progress or game is over\n            if (collisionCheckInProgressRef.current || gameState.isGameOver) {\n                return;\n            }\n            setGameState((prev)=>{\n                // If game is not active or already at target lane, stop walking\n                if (!prev.gameActive || prev.isGameOver) {\n                    if (autoWalkTimerRef.current) {\n                        clearInterval(autoWalkTimerRef.current);\n                        autoWalkTimerRef.current = null;\n                    }\n                    return prev;\n                }\n                // If we've reached the max lane to reach, end the game appropriately\n                if (prev.currentLane === maxLaneToReach) {\n                    if (autoWalkTimerRef.current) {\n                        clearInterval(autoWalkTimerRef.current);\n                        autoWalkTimerRef.current = null;\n                    }\n                    if (result && result.success) {\n                        // We'll update the game state to show win\n                        setTimeout(()=>{\n                            setGameState((prevState)=>({\n                                    ...prevState,\n                                    gameActive: false,\n                                    isGameOver: true,\n                                    isWin: true,\n                                    winAmount: parseFloat(result.payout),\n                                    message: \"You won \".concat(Math.floor(parseFloat(result.payout)).toLocaleString(), \" GPH!\")\n                                }));\n                        }, 500);\n                    } else {\n                        // End game with accident based on blockchain result\n                        setTimeout(()=>{\n                            endGameWithLoss(\"Game over: \".concat(result && result.result, \" (Blockchain result)\"), \"vehicle\");\n                        }, 500);\n                    }\n                    return prev;\n                }\n                // Move to the next lane if we haven't reached the max lane yet\n                const nextLane = prev.currentLane + 1;\n                // Don't go beyond the max lane to reach\n                if (nextLane > maxLaneToReach) {\n                    return prev;\n                }\n                // Update passed lanes\n                const newPassedLanes = [\n                    ...prev.passedLanes\n                ];\n                if (!newPassedLanes.includes(nextLane)) {\n                    newPassedLanes.push(nextLane);\n                }\n                // Update multiplier based on new lane\n                const settings = getDifficultySettings(prev.currentDifficulty);\n                const newMultiplier = settings.laneMultipliers[nextLane - 1] || settings.laneMultipliers[settings.laneMultipliers.length - 1];\n                // Pause on current lane to show animations\n                const checkLaneSequence = async ()=>{\n                    // Set flag to indicate a collision check is in progress\n                    collisionCheckInProgressRef.current = true;\n                    try {\n                        // First pause on the current lane (0.5 seconds)\n                        await new Promise((resolve)=>setTimeout(resolve, 500));\n                        // Skip if game is already over\n                        if (gameState.isGameOver) {\n                            return;\n                        }\n                        // Update the game state to move to the next lane\n                        setGameState((prev)=>({\n                                ...prev,\n                                currentLane: nextLane,\n                                multiplier: newMultiplier\n                            }));\n                    } finally{\n                        // Reset flag when done, regardless of outcome\n                        collisionCheckInProgressRef.current = false;\n                    }\n                };\n                // Start the lane sequence\n                checkLaneSequence();\n                return {\n                    ...prev,\n                    passedLanes: newPassedLanes\n                };\n            });\n        }, 500); // Move every 0.5 seconds to match walking animation\n    };\n    // Function to start a new game on the blockchain\n    const startGame = async ()=>{\n        if ( false || !window.ethereum) {\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"MetaMask not installed\"\n                }));\n            return;\n        }\n        // Check if we have a MetaMask connection\n        if (!metaMaskAccount || !metaMaskProvider) {\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Please connect your wallet using the Connect button\"\n                }));\n            return;\n        }\n        // Use the MetaMask account\n        const playerAddress = metaMaskAccount;\n        // Require lane selection before starting\n        if (gameState.targetLane <= 0) {\n            alert(\"Please select a lane to bet on\");\n            return;\n        }\n        try {\n            // Show loading message to the user\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Submitting transaction to blockchain...\"\n                }));\n            // Convert bet amount to token units (18 decimals)\n            const betAmountInTokenUnits = ethers__WEBPACK_IMPORTED_MODULE_13__.parseEther(gameState.betAmount.toString());\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Approving tokens...\"\n                }));\n            // Approve tokens for the game\n            try {\n                // Create a provider using window.ethereum\n                // Now properly typed with our declaration file\n                if (!window.ethereum) {\n                    throw new Error(\"MetaMask not installed\");\n                }\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_14__.Web3Provider(window.ethereum);\n                const signer = provider.getSigner();\n                const tokenContract = new ethers__WEBPACK_IMPORTED_MODULE_12__.Contract(_constants_contracts__WEBPACK_IMPORTED_MODULE_3__.TOKEN_ADDRESS, _contracts_abis_token_abi__WEBPACK_IMPORTED_MODULE_10__.tokenAbi, signer);\n                setGameState((prev)=>({\n                        ...prev,\n                        message: \"Approving tokens...\"\n                    }));\n                // Always approve the exact amount needed for this game\n                const approvalTx = await tokenContract.approve(_constants_contracts__WEBPACK_IMPORTED_MODULE_3__.GAME_ADDRESS, betAmountInTokenUnits);\n                // Add a delay after approval to ensure it's confirmed before proceeding\n                setGameState((prev)=>({\n                        ...prev,\n                        message: \"Waiting for approval confirmation...\"\n                    }));\n                // Wait for approval transaction to be mined\n                await approvalTx.wait();\n                console.log(\"Token approval successful for amount:\", ethers__WEBPACK_IMPORTED_MODULE_13__.formatEther(betAmountInTokenUnits));\n            } catch (approvalError) {\n                const errorMessage = approvalError instanceof Error ? approvalError.message : String(approvalError);\n                setGameState((prev)=>({\n                        ...prev,\n                        message: \"Token approval failed: \".concat(errorMessage)\n                    }));\n                throw new Error(\"Token approval failed: \".concat(errorMessage));\n            }\n            // Update message to user\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Starting game on blockchain...\"\n                }));\n            // Validate parameters before sending transaction\n            if (gameState.targetLane <= 0) {\n                const errorMsg = \"Invalid lane selection. Must select at least 1 lane.\";\n                setGameState((prev)=>({\n                        ...prev,\n                        message: errorMsg\n                    }));\n                throw new Error(errorMsg);\n            }\n            // Get difficulty settings to validate lane selection\n            const diffSettings = getDifficultySettings(gameState.currentDifficulty);\n            if (gameState.targetLane > diffSettings.totalLanes) {\n                const errorMsg = \"Invalid lane selection. Maximum lane for \".concat(gameState.currentDifficulty, \" difficulty is \").concat(diffSettings.totalLanes);\n                setGameState((prev)=>({\n                        ...prev,\n                        message: errorMsg\n                    }));\n                throw new Error(errorMsg);\n            }\n            // Ensure bet amount is positive\n            if (gameState.betAmount <= 0) {\n                const errorMsg = \"Bet amount must be greater than zero\";\n                setGameState((prev)=>({\n                        ...prev,\n                        message: errorMsg\n                    }));\n                throw new Error(errorMsg);\n            }\n            // Play the game on the blockchain\n            let txHash;\n            try {\n                // Create a provider using window.ethereum\n                // Now properly typed with our declaration file\n                if (!window.ethereum) {\n                    throw new Error(\"MetaMask not installed\");\n                }\n                const provider = new ethers__WEBPACK_IMPORTED_MODULE_14__.Web3Provider(window.ethereum);\n                const signer = provider.getSigner();\n                const gameContract = new ethers__WEBPACK_IMPORTED_MODULE_12__.Contract(_constants_contracts__WEBPACK_IMPORTED_MODULE_3__.GAME_ADDRESS, _contracts_abis_game_abi__WEBPACK_IMPORTED_MODULE_9__.gameAbi, signer);\n                // Map frontend difficulty to contract enum\n                const difficultyMap = {\n                    \"easy\": _GameDifficulty__WEBPACK_IMPORTED_MODULE_2__.GameDifficulty.EASY,\n                    \"medium\": _GameDifficulty__WEBPACK_IMPORTED_MODULE_2__.GameDifficulty.MEDIUM,\n                    \"hard\": _GameDifficulty__WEBPACK_IMPORTED_MODULE_2__.GameDifficulty.HARD,\n                    \"daredevil\": _GameDifficulty__WEBPACK_IMPORTED_MODULE_2__.GameDifficulty.DAREDEVIL // 3\n                };\n                // Make sure we're using the correct enum value (0-3) for the contract\n                const gameDifficulty = difficultyMap[gameState.currentDifficulty];\n                const tx = await gameContract.playGame(gameDifficulty, gameState.targetLane, betAmountInTokenUnits);\n                txHash = tx.hash;\n                console.log(\"Game transaction submitted:\", txHash);\n                // Wait for transaction to be mined\n                const receipt = await tx.wait();\n                console.log(\"Transaction confirmed in block:\", receipt.blockNumber);\n                // Add a small delay to allow indexing\n                await new Promise((resolve)=>setTimeout(resolve, 2000));\n                try {\n                    // Use the existing fetchLastGameResult function that's defined in this component\n                    const result = await fetchLastGameResult();\n                    if (result) {\n                        // Use the existing playGameAnimation function that's defined in this component\n                        playGameAnimation(result);\n                    }\n                } catch (resultError) {\n                    console.error(\"Error fetching or playing game result:\", resultError);\n                    setGameState((prev)=>({\n                            ...prev,\n                            message: \"Game started successfully, but couldn't fetch the result. Try refreshing.\"\n                        }));\n                }\n            } catch (txError) {\n                console.error(\"Failed to start game:\", txError);\n                // Create user-friendly error message\n                let errorMsg = \"Failed to start game\";\n                if (txError && typeof txError === \"object\" && \"message\" in txError && typeof txError.message === \"string\") {\n                    if (txError.message.includes(\"user rejected\")) {\n                        errorMsg = \"Transaction rejected by user\";\n                    } else if (txError.message.includes(\"insufficient funds\")) {\n                        errorMsg = \"Insufficient funds to start game\";\n                    } else if (txError.message.includes(\"Failed to initialize request\")) {\n                        errorMsg = \"RPC connection error. Please try again later\";\n                    } else {\n                        errorMsg = \"Transaction error: \".concat(txError.message.substring(0, 100));\n                    }\n                }\n                setGameState((prev)=>({\n                        ...prev,\n                        message: errorMsg\n                    }));\n                throw new Error(errorMsg);\n            }\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : String(error);\n            setGameState((prev)=>({\n                    ...prev,\n                    message: \"Error: \".concat(errorMessage)\n                }));\n            alert(\"Error starting game: \".concat(errorMessage));\n        }\n    };\n    // Function to just replay the last game without starting a new one\n    const replayLastGame = async ()=>{\n        const result = await fetchLastGameResult();\n        if (result) {\n            playGameAnimation(result);\n        }\n    };\n    // Cash out is not needed for this component\n    const cashOut = async ()=>{\n        console.log(\"Cash out not needed in test game mode\");\n        return;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_navbar__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                account: metaMaskAccount,\n                onConnect: handleMetaMaskConnect,\n                onError: handleMetaMaskError\n            }, void 0, false, {\n                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                lineNumber: 627,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full flex flex-col items-center mt-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-6xl bg-gray-900 rounded-lg shadow-lg overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UI_game_header__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            balance: gameState.balance,\n                            isDemoMode: false\n                        }, void 0, false, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                            lineNumber: 636,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UI_game_board__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    currentLane: gameState.currentLane,\n                                    difficulty: gameState.currentDifficulty,\n                                    gameActive: gameState.gameActive,\n                                    onLaneClick: selectLane,\n                                    difficultySettings: getDifficultySettings(gameState.currentDifficulty),\n                                    targetLane: gameState.targetLane,\n                                    laneSelected: gameState.laneSelected,\n                                    isGameOver: gameState.isGameOver\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                    lineNumber: 643,\n                                    columnNumber: 11\n                                }, this),\n                                gameState.isGameOver && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UI_game_over_message__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    isWin: gameState.isWin,\n                                    winAmount: gameState.winAmount,\n                                    message: gameState.message,\n                                    onPlayAgain: resetGame,\n                                    accidentType: gameState.accidentType,\n                                    currentLane: gameState.isWin ? gameState.targetLane : gameState.currentLane\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                    lineNumber: 656,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                            lineNumber: 642,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_UI_game_controls__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            betAmount: gameState.betAmount,\n                            onBetChange: handleBetChange,\n                            onStartGame: startGame,\n                            onCashOut: cashOut,\n                            gameActive: gameState.gameActive,\n                            multiplier: gameState.multiplier,\n                            difficulty: gameState.currentDifficulty,\n                            onDifficultyChange: handleDifficultyChange,\n                            isGameOver: gameState.isGameOver,\n                            currentLane: gameState.currentLane,\n                            targetLane: gameState.targetLane,\n                            balance: gameState.balance\n                        }, void 0, false, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                            lineNumber: 668,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 bg-gray-800 border-t border-gray-700\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold mb-2\",\n                                    children: \"Test Game Controls\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                    lineNumber: 685,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: replayLastGame,\n                                            disabled: isLoadingResult,\n                                            className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                            children: isLoadingResult ? \"Loading...\" : \"Replay Last Game\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                            lineNumber: 687,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: fetchLastGameResult,\n                                            disabled: isLoadingResult,\n                                            className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                            children: isLoadingResult ? \"Loading...\" : \"Fetch Last Result\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                            lineNumber: 694,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                    lineNumber: 686,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                            lineNumber: 684,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"pb-12\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                            lineNumber: 705,\n                            columnNumber: 9\n                        }, this),\n                        lastGameResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 bg-gray-800 border-t border-gray-700\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 p-3 bg-gray-700 rounded\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"font-medium mb-1\",\n                                        children: \"Last Game Result:\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                        lineNumber: 711,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Success:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                        lineNumber: 713,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" \",\n                                                    lastGameResult.success ? \"Yes\" : \"No\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                lineNumber: 713,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Difficulty:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                        lineNumber: 714,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" \",\n                                                    [\n                                                        \"Easy\",\n                                                        \"Medium\",\n                                                        \"Hard\",\n                                                        \"Daredevil\"\n                                                    ][lastGameResult.difficulty]\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                lineNumber: 714,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Lanes Bet:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                        lineNumber: 715,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" \",\n                                                    lastGameResult.lanesBet\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                lineNumber: 715,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Lanes Crossed:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                        lineNumber: 716,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" \",\n                                                    lastGameResult.lanesCrossed\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                lineNumber: 716,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Payout:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                        lineNumber: 717,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" \",\n                                                    parseFloat(lastGameResult.payout).toFixed(4),\n                                                    \" GPH\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                lineNumber: 717,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Result:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                        lineNumber: 718,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" \",\n                                                    lastGameResult.result\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                                lineNumber: 718,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                        lineNumber: 712,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                                lineNumber: 710,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                            lineNumber: 709,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                    lineNumber: 633,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n                lineNumber: 632,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\KINO BETS\\\\kino-bet\\\\src\\\\components\\\\game\\\\BlockchainGameContainer.tsx\",\n        lineNumber: 626,\n        columnNumber: 5\n    }, this);\n}\n_s(BlockchainGameContainer, \"gLNpoaLvyceHIw2WXOBafPrKeaQ=\", false, function() {\n    return [\n        _BaseGameLogic__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n    ];\n});\n_c = BlockchainGameContainer;\nvar _c;\n$RefreshReg$(_c, \"BlockchainGameContainer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2dhbWUvQmxvY2tjaGFpbkdhbWVDb250YWluZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFMEI7QUFDMEI7QUFDRjtBQUNsQjtBQUNvQztBQUM1QjtBQUNNO0FBQ0o7QUFDVztBQUdOO0FBQ1M7QUFDRTtBQUN4QjtBQW1CbkIsU0FBU2U7O0lBQ3RCLHdEQUF3RDtJQUV4RCxxQ0FBcUM7SUFDckMsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2lCLGlCQUFpQkMsbUJBQW1CLEdBQUdsQiwrQ0FBUUEsQ0FBZ0I7SUFDdEUsTUFBTSxDQUFDbUIsa0JBQWtCQyxvQkFBb0IsR0FBR3BCLCtDQUFRQSxDQUF1QztJQUMvRixNQUFNLENBQUNxQixpQkFBaUJDLG1CQUFtQixHQUFHdEIsK0NBQVFBLENBQVM7SUFFL0QsaUNBQWlDO0lBQ2pDLE1BQU0sRUFDSnVCLFNBQVMsRUFDVEMsWUFBWSxFQUNaQyxlQUFlLEVBQ2ZDLGdCQUFnQixFQUNoQkMsMkJBQTJCLEVBQzNCQyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsWUFBWSxFQUNaQyxTQUFTLEVBQ1RDLFVBQVUsRUFDVkMsZUFBZSxFQUNmQyxzQkFBc0IsRUFDdEJDLGVBQWUsRUFDZkMscUJBQXFCLEVBQ3RCLEdBQUcxQiwwREFBZ0JBO0lBRXBCLHNEQUFzRDtJQUN0RCxNQUFNLENBQUMyQixnQkFBZ0JDLGtCQUFrQixHQUFHdEMsK0NBQVFBLENBQThCO0lBRWxGLGtEQUFrRDtJQUNsRCxNQUFNLENBQUN1QyxpQkFBaUJDLG1CQUFtQixHQUFHeEMsK0NBQVFBLENBQUM7SUFFdkQsK0JBQStCO0lBQy9CQyxnREFBU0EsQ0FBQztRQUNSLElBQUlnQixtQkFBbUJJLGlCQUFpQjtZQUN0Q0csYUFBYWlCLENBQUFBLE9BQVM7b0JBQ3BCLEdBQUdBLElBQUk7b0JBQ1BDLFNBQVND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QyxXQUFVO3NDQUNiLDRFQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNjO3dDQUFHZCxXQUFVO2tEQUFtQjs7Ozs7O2tEQUNqQyw4REFBQ2U7d0NBQUdmLFdBQVU7OzBEQUNaLDhEQUFDZ0I7O2tFQUFHLDhEQUFDQztrRUFBTzs7Ozs7O29EQUFpQjtvREFBRXpJLGVBQWVxQyxPQUFPLEdBQUcsUUFBUTs7Ozs7OzswREFDaEUsOERBQUNtRzs7a0VBQUcsOERBQUNDO2tFQUFPOzs7Ozs7b0RBQW9CO29EQUFFO3dEQUFDO3dEQUFRO3dEQUFVO3dEQUFRO3FEQUFZLENBQUN6SSxlQUFlbUMsVUFBVSxDQUFDOzs7Ozs7OzBEQUNwRyw4REFBQ3FHOztrRUFBRyw4REFBQ0M7a0VBQU87Ozs7OztvREFBbUI7b0RBQUV6SSxlQUFlc0MsUUFBUTs7Ozs7OzswREFDeEQsOERBQUNrRzs7a0VBQUcsOERBQUNDO2tFQUFPOzs7Ozs7b0RBQXVCO29EQUFFekksZUFBZXVDLFlBQVk7Ozs7Ozs7MERBQ2hFLDhEQUFDaUc7O2tFQUFHLDhEQUFDQztrRUFBTzs7Ozs7O29EQUFnQjtvREFBRW5JLFdBQVdOLGVBQWV3QyxNQUFNLEVBQUVrRyxPQUFPLENBQUM7b0RBQUc7Ozs7Ozs7MERBQzNFLDhEQUFDRjs7a0VBQUcsOERBQUNDO2tFQUFPOzs7Ozs7b0RBQWdCO29EQUFFekksZUFBZWdDLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU25FO0dBbnJCd0J2RDs7UUF5QmxCSixzREFBZ0JBOzs7S0F6QkVJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL2dhbWUvQmxvY2tjaGFpbkdhbWVDb250YWluZXIudHN4PzBlYjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2FtZURpZmZpY3VsdHkgfSBmcm9tIFwiLi9HYW1lRGlmZmljdWx0eVwiO1xuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSBcImV0aGVyc1wiO1xuaW1wb3J0IHsgVE9LRU5fQUREUkVTUywgR0FNRV9BRERSRVNTIH0gZnJvbSBcIkAvY29uc3RhbnRzL2NvbnRyYWN0c1wiO1xuaW1wb3J0IEdhbWVCb2FyZCBmcm9tIFwiLi9VSS9nYW1lLWJvYXJkXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2xzIGZyb20gXCIuL1VJL2dhbWUtY29udHJvbHNcIjtcbmltcG9ydCBHYW1lSGVhZGVyIGZyb20gXCIuL1VJL2dhbWUtaGVhZGVyXCI7XG5pbXBvcnQgR2FtZU92ZXJNZXNzYWdlIGZyb20gXCIuL1VJL2dhbWUtb3Zlci1tZXNzYWdlXCI7XG5pbXBvcnQgTXVzaWNQbGF5ZXIgZnJvbSBcIi4vVUkvbXVzaWMtcGxheWVyXCI7XG5pbXBvcnQgeyBEaWZmaWN1bHR5VHlwZSwgR2FtZVN0YXRlLCBBY2NpZGVudFR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHVzZUJhc2VHYW1lTG9naWMgZnJvbSBcIi4vQmFzZUdhbWVMb2dpY1wiO1xuaW1wb3J0IHsgZ2FtZUFiaSB9IGZyb20gJy4uLy4uL2NvbnRyYWN0cy9hYmlzL2dhbWUtYWJpJztcbmltcG9ydCB7IHRva2VuQWJpIH0gZnJvbSAnLi4vLi4vY29udHJhY3RzL2FiaXMvdG9rZW4tYWJpJztcbmltcG9ydCBOYXZiYXIgZnJvbSBcIkAvYXBwL25hdmJhclwiO1xuXG4vLyBEZWZpbmUgZXh0ZW5kZWQgcHJvdmlkZXIgaW50ZXJmYWNlIGZvciBldGhlcnMgdjUuNy4yXG5pbnRlcmZhY2UgRXh0ZW5kZWRQcm92aWRlciBleHRlbmRzIGV0aGVycy5wcm92aWRlcnMuRXh0ZXJuYWxQcm92aWRlciB7XG4gIG9uKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbi8vIERlZmluZSB0aGUgYmxvY2tjaGFpbiBnYW1lIHJlc3VsdCBpbnRlcmZhY2VcbmludGVyZmFjZSBCbG9ja2NoYWluR2FtZVJlc3VsdCB7XG4gIGRpZmZpY3VsdHk6IG51bWJlcjtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbGFuZXNCZXQ6IG51bWJlcjtcbiAgbGFuZXNDcm9zc2VkOiBudW1iZXI7XG4gIHBheW91dDogc3RyaW5nO1xuICBiYXNlU2VlZDogc3RyaW5nO1xuICByZXN1bHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmxvY2tjaGFpbkdhbWVDb250YWluZXIoKSB7XG4gIC8vIFdlJ2xsIHVzZSBkaXJlY3QgTWV0YU1hc2sgY29ubmVjdGlvbiBpbnN0ZWFkIG9mIHdhZ21pXG4gIFxuICAvLyBTdGF0ZSB0byB0cmFjayBpZiB3ZSdyZSBjb25uZWN0aW5nXG4gIGNvbnN0IFtpc0Nvbm5lY3RpbmcsIHNldElzQ29ubmVjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttZXRhTWFza0FjY291bnQsIHNldE1ldGFNYXNrQWNjb3VudF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW21ldGFNYXNrUHJvdmlkZXIsIHNldE1ldGFNYXNrUHJvdmlkZXJdID0gdXNlU3RhdGU8ZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW21ldGFNYXNrQmFsYW5jZSwgc2V0TWV0YU1hc2tCYWxhbmNlXSA9IHVzZVN0YXRlPHN0cmluZz4oJzAnKTtcblxuICAvLyBVc2UgdGhlIHNoYXJlZCBiYXNlIGdhbWUgbG9naWNcbiAgY29uc3Qge1xuICAgIGdhbWVTdGF0ZSxcbiAgICBzZXRHYW1lU3RhdGUsXG4gICAgd2luVHJpZ2dlcmVkUmVmLFxuICAgIGF1dG9XYWxrVGltZXJSZWYsXG4gICAgY29sbGlzaW9uQ2hlY2tJblByb2dyZXNzUmVmLFxuICAgIGZhdGFsTGFuZSxcbiAgICBzZXRGYXRhbExhbmUsXG4gICAgZmF0YWxMYW5lUmVmLFxuICAgIHJlc2V0R2FtZSxcbiAgICBzZWxlY3RMYW5lLFxuICAgIGhhbmRsZUJldENoYW5nZSxcbiAgICBoYW5kbGVEaWZmaWN1bHR5Q2hhbmdlLFxuICAgIGVuZEdhbWVXaXRoTG9zcyxcbiAgICBnZXREaWZmaWN1bHR5U2V0dGluZ3NcbiAgfSA9IHVzZUJhc2VHYW1lTG9naWMoKTtcblxuICAvLyBTdGF0ZSB0byBzdG9yZSB0aGUgbGFzdCBnYW1lIHJlc3VsdCBmcm9tIGJsb2NrY2hhaW5cbiAgY29uc3QgW2xhc3RHYW1lUmVzdWx0LCBzZXRMYXN0R2FtZVJlc3VsdF0gPSB1c2VTdGF0ZTxCbG9ja2NoYWluR2FtZVJlc3VsdCB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gU3RhdGUgdG8gdHJhY2sgaWYgd2UncmUgbG9hZGluZyB0aGUgZ2FtZSByZXN1bHRcbiAgY29uc3QgW2lzTG9hZGluZ1Jlc3VsdCwgc2V0SXNMb2FkaW5nUmVzdWx0XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBVcGRhdGUgYmFsYW5jZSBmcm9tIE1ldGFNYXNrXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1ldGFNYXNrQWNjb3VudCAmJiBtZXRhTWFza0JhbGFuY2UpIHtcbiAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGJhbGFuY2U6IHBhcnNlRmxvYXQobWV0YU1hc2tCYWxhbmNlKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW21ldGFNYXNrQWNjb3VudCwgbWV0YU1hc2tCYWxhbmNlLCBzZXRHYW1lU3RhdGVdKTtcblxuICAvLyBDbGVhbiB1cCBhdXRvLXdhbGsgdGltZXIgd2hlbiBjb21wb25lbnQgdW5tb3VudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2F1dG9XYWxrVGltZXJSZWZdKTtcblxuXG5cbiAgLy8gSGFuZGxlIHN1Y2Nlc3NmdWwgTWV0YU1hc2sgY29ubmVjdGlvblxuICBjb25zdCBoYW5kbGVNZXRhTWFza0Nvbm5lY3QgPSBhc3luYyAoYWNjb3VudDogc3RyaW5nLCBwcm92aWRlcjogZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIpID0+IHtcbiAgICBzZXRNZXRhTWFza0FjY291bnQoYWNjb3VudCk7XG4gICAgc2V0TWV0YU1hc2tQcm92aWRlcihwcm92aWRlcik7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0b2tlbiBiYWxhbmNlXG4gICAgICBjb25zdCB0b2tlbkNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChUT0tFTl9BRERSRVNTLCB0b2tlbkFiaSwgcHJvdmlkZXIpO1xuICAgICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHRva2VuQ29udHJhY3QuYmFsYW5jZU9mKGFjY291bnQpO1xuICAgICAgY29uc3QgZm9ybWF0dGVkQmFsYW5jZSA9IGV0aGVycy51dGlscy5mb3JtYXRFdGhlcihiYWxhbmNlKTtcbiAgICAgIHNldE1ldGFNYXNrQmFsYW5jZShmb3JtYXR0ZWRCYWxhbmNlKTtcbiAgICAgIFxuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWVzc2FnZTogXCJDb25uZWN0ZWQgdG8gTWV0YU1hc2sgc3VjY2Vzc2Z1bGx5IVwiLFxuICAgICAgICBiYWxhbmNlOiBwYXJzZUZsb2F0KGZvcm1hdHRlZEJhbGFuY2UpXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdG9rZW4gYmFsYW5jZTonLCBlcnJvcik7XG4gICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBtZXNzYWdlOiBcIkNvbm5lY3RlZCB0byBNZXRhTWFzaywgYnV0IGZhaWxlZCB0byBnZXQgdG9rZW4gYmFsYW5jZS5cIlxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBNZXRhTWFzayBjb25uZWN0aW9uIGVycm9yXG4gIGNvbnN0IGhhbmRsZU1ldGFNYXNrRXJyb3IgPSAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignTWV0YU1hc2sgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIGNvbm5lY3QgdG8gTWV0YU1hc2s6ICR7ZXJyb3IubWVzc2FnZX1gXG4gICAgfSkpO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGZldGNoIHRoZSBsYXN0IGdhbWUgcmVzdWx0IGZyb20gdGhlIGJsb2NrY2hhaW5cbiAgY29uc3QgZmV0Y2hMYXN0R2FtZVJlc3VsdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWVzc2FnZTogXCJNZXRhTWFzayBub3QgaW5zdGFsbGVkXCJcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICAvLyBVc2UgTWV0YU1hc2sgYWNjb3VudCBvciB0cnkgdG8gZ2V0IGRpcmVjdGx5XG4gICAgbGV0IHBsYXllckFkZHJlc3MgPSBtZXRhTWFza0FjY291bnQgYXMgYDB4JHtzdHJpbmd9YCB8IHVuZGVmaW5lZDtcbiAgICBjb25zb2xlLmxvZygnVXNpbmcgcGxheWVyIGFkZHJlc3M6JywgcGxheWVyQWRkcmVzcyk7XG4gICAgXG4gICAgaWYgKCFwbGF5ZXJBZGRyZXNzKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUcnkgdG8gZ2V0IGFjY291bnRzIGRpcmVjdGx5IGZyb20gZXRoZXJldW0gcHJvdmlkZXJcbiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIod2luZG93LmV0aGVyZXVtIGFzIEV4dGVuZGVkUHJvdmlkZXIpO1xuICAgICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHByb3ZpZGVyLmxpc3RBY2NvdW50cygpO1xuICAgICAgICBwbGF5ZXJBZGRyZXNzID0gYWNjb3VudHNbMF0gYXMgYDB4JHtzdHJpbmd9YCB8IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc29sZS5sb2coJ0dvdCBhZGRyZXNzIGZyb20gcHJvdmlkZXI6JywgcGxheWVyQWRkcmVzcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBsYXllckFkZHJlc3MpIHtcbiAgICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIGNvbm5lY3QgeW91ciB3YWxsZXQgZmlyc3RcIlxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBhY2NvdW50czonLCBlcnJvcik7XG4gICAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSBjb25uZWN0IHlvdXIgd2FsbGV0IGZpcnN0XCJcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nUmVzdWx0KHRydWUpO1xuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGluZyBsYXN0IGdhbWUgcmVzdWx0IGZyb20gYmxvY2tjaGFpbi4uLlwiXG4gICAgICB9KSk7XG5cbiAgICAgIC8vIENyZWF0ZSBwcm92aWRlciBhbmQgY29udHJhY3QgaW5zdGFuY2VzXG4gICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBldGhlcnMucHJvdmlkZXJzLldlYjNQcm92aWRlcih3aW5kb3cuZXRoZXJldW0gYXMgRXh0ZW5kZWRQcm92aWRlcik7XG4gICAgICBjb25zdCBnYW1lQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KEdBTUVfQUREUkVTUywgZ2FtZUFiaSwgcHJvdmlkZXIpO1xuICAgICAgY29uc29sZS5sb2coJ0dhbWUgY29udHJhY3QgYWRkcmVzczonLCBHQU1FX0FERFJFU1MpO1xuICAgICAgY29uc29sZS5sb2coJ0NhbGxpbmcgZ2V0TGFzdEdhbWVSZXN1bHQgZm9yIGFkZHJlc3M6JywgcGxheWVyQWRkcmVzcyk7XG5cbiAgICAgIC8vIFVzZSBvbmx5IGdldExhc3RHYW1lUmVzdWx0IGZ1bmN0aW9uXG4gICAgICBsZXQgcmVzdWx0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gR2V0IHRoZSBnYW1lIHJlc3VsdCB1c2luZyB0aGUgdHVwbGUtYmFzZWQgZnVuY3Rpb25cbiAgICAgICAgY29uc3QgdHVwbGVSZXN1bHQgPSBhd2FpdCBnYW1lQ29udHJhY3QuZ2V0TGFzdEdhbWVSZXN1bHQocGxheWVyQWRkcmVzcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdnZXRMYXN0R2FtZVJlc3VsdCB0dXBsZSByZXN1bHQ6JywgdHVwbGVSZXN1bHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29udmVydCB0dXBsZSByZXN1bHQgdG8gdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgZGlmZmljdWx0eTogTnVtYmVyKHR1cGxlUmVzdWx0WzBdKSwgLy8gRmlyc3QgZWxlbWVudCBzaG91bGQgYmUgZGlmZmljdWx0eVxuICAgICAgICAgIHN1Y2Nlc3M6IHR1cGxlUmVzdWx0WzFdLCAgICAgICAgICAgLy8gU2Vjb25kIGVsZW1lbnQgc2hvdWxkIGJlIHN1Y2Nlc3NcbiAgICAgICAgICBsYW5lc0JldDogTnVtYmVyKHR1cGxlUmVzdWx0WzJdKSwgICAvLyBUaGlyZCBlbGVtZW50IHNob3VsZCBiZSBsYW5lc0JldFxuICAgICAgICAgIGxhbmVzQ3Jvc3NlZDogTnVtYmVyKHR1cGxlUmVzdWx0WzNdKSwgLy8gRm91cnRoIGVsZW1lbnQgc2hvdWxkIGJlIGxhbmVzQ3Jvc3NlZFxuICAgICAgICAgIHBheW91dDogdHVwbGVSZXN1bHRbNF0udG9TdHJpbmcoKSwgIC8vIEZpZnRoIGVsZW1lbnQgc2hvdWxkIGJlIHBheW91dFxuICAgICAgICAgIGJhc2VTZWVkOiB0dXBsZVJlc3VsdFs1XS50b1N0cmluZygpLCAvLyBTaXh0aCBlbGVtZW50IHNob3VsZCBiZSBiYXNlU2VlZFxuICAgICAgICAgIHJlc3VsdDogdHVwbGVSZXN1bHRbNl0gICAgICAgICAgICAgIC8vIFNldmVudGggZWxlbWVudCBzaG91bGQgYmUgcmVzdWx0IHN0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmxvZygnQ29udmVydGVkIHR1cGxlIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2V0TGFzdEdhbWVSZXN1bHQgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSBhIHN0YXRpYyBjYWxsIGFzIGZhbGxiYWNrXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1RyeWluZyBzdGF0aWMgY2FsbCBhcyBmYWxsYmFjay4uLicpO1xuICAgICAgICAgIGNvbnN0IHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpO1xuICAgICAgICAgIGNvbnN0IGNvbnRyYWN0V2l0aFNpZ25lciA9IGdhbWVDb250cmFjdC5jb25uZWN0KHNpZ25lcik7XG4gICAgICAgICAgY29uc3Qgc3RhdGljVHVwbGVSZXN1bHQgPSBhd2FpdCBjb250cmFjdFdpdGhTaWduZXIuY2FsbFN0YXRpYy5nZXRMYXN0R2FtZVJlc3VsdChwbGF5ZXJBZGRyZXNzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3RhdGljIGNhbGwgdHVwbGUgcmVzdWx0OicsIHN0YXRpY1R1cGxlUmVzdWx0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb252ZXJ0IHR1cGxlIHJlc3VsdCBmcm9tIHN0YXRpYyBjYWxsXG4gICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZGlmZmljdWx0eTogTnVtYmVyKHN0YXRpY1R1cGxlUmVzdWx0WzBdKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN0YXRpY1R1cGxlUmVzdWx0WzFdLFxuICAgICAgICAgICAgbGFuZXNCZXQ6IE51bWJlcihzdGF0aWNUdXBsZVJlc3VsdFsyXSksXG4gICAgICAgICAgICBsYW5lc0Nyb3NzZWQ6IE51bWJlcihzdGF0aWNUdXBsZVJlc3VsdFszXSksXG4gICAgICAgICAgICBwYXlvdXQ6IHN0YXRpY1R1cGxlUmVzdWx0WzRdLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBiYXNlU2VlZDogc3RhdGljVHVwbGVSZXN1bHRbNV0udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHJlc3VsdDogc3RhdGljVHVwbGVSZXN1bHRbNl1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChzdGF0aWNDYWxsRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdGF0aWMgY2FsbCBhbHNvIGZhaWxlZDonLCBzdGF0aWNDYWxsRXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yOyAvLyBSZS10aHJvdyB0aGUgb3JpZ2luYWwgZXJyb3IgaWYgdGhlIGZhbGxiYWNrIGFsc28gZmFpbHNcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiB3ZSBnb3QgaGVyZSwgd2UgaGF2ZSBhIHJlc3VsdFxuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZXN1bHQgcmV0dXJuZWQgZnJvbSBibG9ja2NoYWluJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZvcm1hdCB0aGUgcmVzdWx0XG4gICAgICBjb25zdCBmb3JtYXR0ZWRSZXN1bHQgPSB7XG4gICAgICAgIGRpZmZpY3VsdHk6IE51bWJlcihyZXN1bHQuZGlmZmljdWx0eSksXG4gICAgICAgIHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLFxuICAgICAgICBsYW5lc0JldDogTnVtYmVyKHJlc3VsdC5sYW5lc0JldCksXG4gICAgICAgIGxhbmVzQ3Jvc3NlZDogTnVtYmVyKHJlc3VsdC5sYW5lc0Nyb3NzZWQpLFxuICAgICAgICBwYXlvdXQ6IGV0aGVycy51dGlscy5mb3JtYXRFdGhlcihyZXN1bHQucGF5b3V0KSxcbiAgICAgICAgYmFzZVNlZWQ6IHJlc3VsdC5iYXNlU2VlZC50b1N0cmluZygpLFxuICAgICAgICByZXN1bHQ6IHJlc3VsdC5yZXN1bHRcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdGb3JtYXR0ZWQgZ2FtZSByZXN1bHQ6JywgZm9ybWF0dGVkUmVzdWx0KTtcbiAgICAgIHNldExhc3RHYW1lUmVzdWx0KGZvcm1hdHRlZFJlc3VsdCk7XG4gICAgICBcbiAgICAgIC8vIE1hcCBkaWZmaWN1bHR5IG51bWJlciB0byBzdHJpbmcgZm9yIGRpc3BsYXlcbiAgICAgIGNvbnN0IGRpZmZpY3VsdHlOYW1lcyA9IFsnRWFzeScsICdNZWRpdW0nLCAnSGFyZCcsICdEYXJlZGV2aWwnXTtcbiAgICAgIGNvbnN0IGRpZmZpY3VsdHlOYW1lID0gZGlmZmljdWx0eU5hbWVzW2Zvcm1hdHRlZFJlc3VsdC5kaWZmaWN1bHR5XSB8fCAnVW5rbm93bic7XG4gICAgICBcbiAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1lc3NhZ2U6IGBMYXN0IGdhbWUgcmVzdWx0OiAke2Zvcm1hdHRlZFJlc3VsdC5zdWNjZXNzID8gJ1dpbicgOiAnTG9zcyd9LCBEaWZmaWN1bHR5OiAke2RpZmZpY3VsdHlOYW1lfSwgTGFuZXMgY3Jvc3NlZDogJHtmb3JtYXR0ZWRSZXN1bHQubGFuZXNDcm9zc2VkfWBcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZvcm1hdHRlZFJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbGFzdCBnYW1lIHJlc3VsdDonLCBlcnJvcik7XG4gICAgICAvLyBNb3JlIGRldGFpbGVkIGVycm9yIG1lc3NhZ2VcbiAgICAgIGxldCBlcnJvck1zZyA9IFwiRXJyb3IgZmV0Y2hpbmcgbGFzdCBnYW1lIHJlc3VsdC4gXCI7XG4gICAgICBcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjYWxsIHJldmVydCBleGNlcHRpb24nKSkge1xuICAgICAgICAgIGVycm9yTXNnICs9IFwiVGhlIGNvbnRyYWN0IGNhbGwgd2FzIHJldmVydGVkLiBUaGlzIG1pZ2h0IGhhcHBlbiBpZiB5b3UgaGF2ZW4ndCBwbGF5ZWQgYSBnYW1lIHlldCB3aXRoIHRoaXMgd2FsbGV0LlwiO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0ZhaWxlZCB0byBpbml0aWFsaXplIHJlcXVlc3QnKSkge1xuICAgICAgICAgIGVycm9yTXNnICs9IFwiUlBDIGNvbm5lY3Rpb24gZXJyb3IuIFRoaXMgaXMgYSBrbm93biBpc3N1ZSB3aXRoIHRoZSBBYnN0cmFjdCBBR1cgbGlicmFyeS5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcnJvck1zZyArPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTXNnXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nUmVzdWx0KGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gcGxheSB0aGUgZ2FtZSBhbmltYXRpb24gYmFzZWQgb24gdGhlIGJsb2NrY2hhaW4gcmVzdWx0XG4gIGNvbnN0IHBsYXlHYW1lQW5pbWF0aW9uID0gKHJlc3VsdDogQmxvY2tjaGFpbkdhbWVSZXN1bHQpID0+IHtcbiAgICAvLyBSZXNldCBnYW1lIHN0YXRlIGZpcnN0XG4gICAgcmVzZXRHYW1lKCk7XG4gICAgXG4gICAgLy8gU2V0IHRoZSBkaWZmaWN1bHR5IGZyb20gdGhlIGJsb2NrY2hhaW4gcmVzdWx0XG4gICAgY29uc3QgZGlmZmljdWx0eU1hcCA9IFtcbiAgICAgIFwiZWFzeVwiLCAgICAgLy8gMCA9IEVBU1lcbiAgICAgIFwibWVkaXVtXCIsICAgLy8gMSA9IE1FRElVTVxuICAgICAgXCJoYXJkXCIsICAgICAvLyAyID0gSEFSRFxuICAgICAgXCJkYXJlZGV2aWxcIiAvLyAzID0gREFSRURFVklMXG4gICAgXSBhcyBEaWZmaWN1bHR5VHlwZVtdO1xuICAgIFxuICAgIC8vIEVuc3VyZSByZXN1bHQgZXhpc3RzIGFuZCBoYXMgYSB2YWxpZCBkaWZmaWN1bHR5IHByb3BlcnR5XG4gICAgLy8gSWYgZGlmZmljdWx0eSBpcyB1bmRlZmluZWQgb3Igb3V0IG9mIHJhbmdlLCB1c2UgdGhlIGN1cnJlbnQgZGlmZmljdWx0eSBmcm9tIGdhbWUgc3RhdGVcbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gKHJlc3VsdCAmJiByZXN1bHQuZGlmZmljdWx0eSAhPT0gdW5kZWZpbmVkICYmIGRpZmZpY3VsdHlNYXBbcmVzdWx0LmRpZmZpY3VsdHldKSBcbiAgICAgID8gZGlmZmljdWx0eU1hcFtyZXN1bHQuZGlmZmljdWx0eV0gXG4gICAgICA6IGdhbWVTdGF0ZS5jdXJyZW50RGlmZmljdWx0eTtcbiAgICBcbiAgICAvLyBTZXQgdGhlIHRhcmdldCBsYW5lIGZyb20gdGhlIGJsb2NrY2hhaW4gcmVzdWx0XG4gICAgY29uc3QgdGFyZ2V0TGFuZSA9IHJlc3VsdCA/IHJlc3VsdC5sYW5lc0JldCA6IGdhbWVTdGF0ZS50YXJnZXRMYW5lO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBnYW1lIHN0YXRlIHdpdGggYmxvY2tjaGFpbiBkYXRhXG4gICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBjdXJyZW50RGlmZmljdWx0eTogZGlmZmljdWx0eSxcbiAgICAgIHRhcmdldExhbmU6IHRhcmdldExhbmUsXG4gICAgICBsYW5lU2VsZWN0ZWQ6IHRydWUsXG4gICAgICBnYW1lQWN0aXZlOiB0cnVlLFxuICAgICAgbXVsdGlwbGllcjogZ2V0RGlmZmljdWx0eVNldHRpbmdzKGRpZmZpY3VsdHkpLnN0YXJ0TXVsdGlwbGllcixcbiAgICAgIG1lc3NhZ2U6IFwiUmVwbGF5aW5nIGxhc3QgYmxvY2tjaGFpbiBnYW1lLi4uXCJcbiAgICB9KSk7XG5cbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZXJcbiAgICBpZiAoYXV0b1dhbGtUaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlc2V0IGNvbGxpc2lvbiBjaGVjayBmbGFnXG4gICAgY29sbGlzaW9uQ2hlY2tJblByb2dyZXNzUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBcbiAgICAvLyBUaGUgbWF4IGxhbmUgdG8gcmVhY2ggaXMgdGhlIGxhbmVzIGNyb3NzZWQgZnJvbSB0aGUgYmxvY2tjaGFpbiByZXN1bHRcbiAgICBjb25zdCBtYXhMYW5lVG9SZWFjaCA9IHJlc3VsdCA/IHJlc3VsdC5sYW5lc0Nyb3NzZWQgOiBnYW1lU3RhdGUuY3VycmVudExhbmU7XG4gICAgXG4gICAgLy8gU2V0IHVwIGEgdGltZXIgdG8gYXV0b21hdGljYWxseSBtb3ZlIHRoZSBwbGF5ZXIgZm9yd2FyZFxuICAgIGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIC8vIFNraXAgdGhpcyBpbnRlcnZhbCBpZiBhIGNvbGxpc2lvbiBjaGVjayBpcyBhbHJlYWR5IGluIHByb2dyZXNzIG9yIGdhbWUgaXMgb3ZlclxuICAgICAgaWYgKGNvbGxpc2lvbkNoZWNrSW5Qcm9ncmVzc1JlZi5jdXJyZW50IHx8IGdhbWVTdGF0ZS5pc0dhbWVPdmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4ge1xuICAgICAgICAvLyBJZiBnYW1lIGlzIG5vdCBhY3RpdmUgb3IgYWxyZWFkeSBhdCB0YXJnZXQgbGFuZSwgc3RvcCB3YWxraW5nXG4gICAgICAgIGlmICghcHJldi5nYW1lQWN0aXZlIHx8IHByZXYuaXNHYW1lT3Zlcikge1xuICAgICAgICAgIGlmIChhdXRvV2Fsa1RpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYXV0b1dhbGtUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB3ZSd2ZSByZWFjaGVkIHRoZSBtYXggbGFuZSB0byByZWFjaCwgZW5kIHRoZSBnYW1lIGFwcHJvcHJpYXRlbHlcbiAgICAgICAgaWYgKHByZXYuY3VycmVudExhbmUgPT09IG1heExhbmVUb1JlYWNoKSB7XG4gICAgICAgICAgaWYgKGF1dG9XYWxrVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvV2Fsa1RpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgYXV0b1dhbGtUaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgLy8gV2UnbGwgdXBkYXRlIHRoZSBnYW1lIHN0YXRlIHRvIHNob3cgd2luXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgc2V0R2FtZVN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICAgICAgICBnYW1lQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc0dhbWVPdmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzV2luOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdpbkFtb3VudDogcGFyc2VGbG9hdChyZXN1bHQucGF5b3V0KSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgWW91IHdvbiAke01hdGguZmxvb3IocGFyc2VGbG9hdChyZXN1bHQucGF5b3V0KSkudG9Mb2NhbGVTdHJpbmcoKX0gR1BIIWBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRW5kIGdhbWUgd2l0aCBhY2NpZGVudCBiYXNlZCBvbiBibG9ja2NoYWluIHJlc3VsdFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGVuZEdhbWVXaXRoTG9zcyhgR2FtZSBvdmVyOiAke3Jlc3VsdCAmJiByZXN1bHQucmVzdWx0fSAoQmxvY2tjaGFpbiByZXN1bHQpYCwgJ3ZlaGljbGUnIGFzIEFjY2lkZW50VHlwZSk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBsYW5lIGlmIHdlIGhhdmVuJ3QgcmVhY2hlZCB0aGUgbWF4IGxhbmUgeWV0XG4gICAgICAgIGNvbnN0IG5leHRMYW5lID0gcHJldi5jdXJyZW50TGFuZSArIDE7XG4gICAgICAgIFxuICAgICAgICAvLyBEb24ndCBnbyBiZXlvbmQgdGhlIG1heCBsYW5lIHRvIHJlYWNoXG4gICAgICAgIGlmIChuZXh0TGFuZSA+IG1heExhbmVUb1JlYWNoKSB7XG4gICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwYXNzZWQgbGFuZXNcbiAgICAgICAgY29uc3QgbmV3UGFzc2VkTGFuZXMgPSBbLi4ucHJldi5wYXNzZWRMYW5lc107XG4gICAgICAgIGlmICghbmV3UGFzc2VkTGFuZXMuaW5jbHVkZXMobmV4dExhbmUpKSB7XG4gICAgICAgICAgbmV3UGFzc2VkTGFuZXMucHVzaChuZXh0TGFuZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBtdWx0aXBsaWVyIGJhc2VkIG9uIG5ldyBsYW5lXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0RGlmZmljdWx0eVNldHRpbmdzKHByZXYuY3VycmVudERpZmZpY3VsdHkpO1xuICAgICAgICBjb25zdCBuZXdNdWx0aXBsaWVyID0gc2V0dGluZ3MubGFuZU11bHRpcGxpZXJzW25leHRMYW5lIC0gMV0gfHwgXG4gICAgICAgICAgc2V0dGluZ3MubGFuZU11bHRpcGxpZXJzW3NldHRpbmdzLmxhbmVNdWx0aXBsaWVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgXG4gICAgICAgIC8vIFBhdXNlIG9uIGN1cnJlbnQgbGFuZSB0byBzaG93IGFuaW1hdGlvbnNcbiAgICAgICAgY29uc3QgY2hlY2tMYW5lU2VxdWVuY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgLy8gU2V0IGZsYWcgdG8gaW5kaWNhdGUgYSBjb2xsaXNpb24gY2hlY2sgaXMgaW4gcHJvZ3Jlc3NcbiAgICAgICAgICBjb2xsaXNpb25DaGVja0luUHJvZ3Jlc3NSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEZpcnN0IHBhdXNlIG9uIHRoZSBjdXJyZW50IGxhbmUgKDAuNSBzZWNvbmRzKVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgICAgICAvLyBTa2lwIGlmIGdhbWUgaXMgYWxyZWFkeSBvdmVyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGdhbWUgc3RhdGUgdG8gbW92ZSB0byB0aGUgbmV4dCBsYW5lXG4gICAgICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICBjdXJyZW50TGFuZTogbmV4dExhbmUsXG4gICAgICAgICAgICAgIG11bHRpcGxpZXI6IG5ld011bHRpcGxpZXJcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gUmVzZXQgZmxhZyB3aGVuIGRvbmUsIHJlZ2FyZGxlc3Mgb2Ygb3V0Y29tZVxuICAgICAgICAgICAgY29sbGlzaW9uQ2hlY2tJblByb2dyZXNzUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIGxhbmUgc2VxdWVuY2VcbiAgICAgICAgY2hlY2tMYW5lU2VxdWVuY2UoKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBwYXNzZWRMYW5lczogbmV3UGFzc2VkTGFuZXNcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sIDUwMCk7IC8vIE1vdmUgZXZlcnkgMC41IHNlY29uZHMgdG8gbWF0Y2ggd2Fsa2luZyBhbmltYXRpb25cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBzdGFydCBhIG5ldyBnYW1lIG9uIHRoZSBibG9ja2NoYWluXG4gIGNvbnN0IHN0YXJ0R2FtZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWVzc2FnZTogXCJNZXRhTWFzayBub3QgaW5zdGFsbGVkXCJcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIE1ldGFNYXNrIGNvbm5lY3Rpb25cbiAgICBpZiAoIW1ldGFNYXNrQWNjb3VudCB8fCAhbWV0YU1hc2tQcm92aWRlcikge1xuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWVzc2FnZTogXCJQbGVhc2UgY29ubmVjdCB5b3VyIHdhbGxldCB1c2luZyB0aGUgQ29ubmVjdCBidXR0b25cIlxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBVc2UgdGhlIE1ldGFNYXNrIGFjY291bnRcbiAgICBjb25zdCBwbGF5ZXJBZGRyZXNzID0gbWV0YU1hc2tBY2NvdW50O1xuICAgIFxuICAgIC8vIFJlcXVpcmUgbGFuZSBzZWxlY3Rpb24gYmVmb3JlIHN0YXJ0aW5nXG4gICAgaWYgKGdhbWVTdGF0ZS50YXJnZXRMYW5lIDw9IDApIHtcbiAgICAgIGFsZXJ0KFwiUGxlYXNlIHNlbGVjdCBhIGxhbmUgdG8gYmV0IG9uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gU2hvdyBsb2FkaW5nIG1lc3NhZ2UgdG8gdGhlIHVzZXJcbiAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1lc3NhZ2U6IFwiU3VibWl0dGluZyB0cmFuc2FjdGlvbiB0byBibG9ja2NoYWluLi4uXCJcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCBiZXQgYW1vdW50IHRvIHRva2VuIHVuaXRzICgxOCBkZWNpbWFscylcbiAgICAgIGNvbnN0IGJldEFtb3VudEluVG9rZW5Vbml0cyA9IGV0aGVycy51dGlscy5wYXJzZUV0aGVyKGdhbWVTdGF0ZS5iZXRBbW91bnQudG9TdHJpbmcoKSk7XG4gICAgICBcbiAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIG1lc3NhZ2U6IFwiQXBwcm92aW5nIHRva2Vucy4uLlwiXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIEFwcHJvdmUgdG9rZW5zIGZvciB0aGUgZ2FtZVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgcHJvdmlkZXIgdXNpbmcgd2luZG93LmV0aGVyZXVtXG4gICAgICAgIC8vIE5vdyBwcm9wZXJseSB0eXBlZCB3aXRoIG91ciBkZWNsYXJhdGlvbiBmaWxlXG4gICAgICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0YU1hc2sgbm90IGluc3RhbGxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBldGhlcnMucHJvdmlkZXJzLldlYjNQcm92aWRlcih3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICBjb25zdCBzaWduZXIgPSBwcm92aWRlci5nZXRTaWduZXIoKTtcbiAgICAgICAgY29uc3QgdG9rZW5Db250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoVE9LRU5fQUREUkVTUywgdG9rZW5BYmksIHNpZ25lcik7XG4gICAgICAgIFxuICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgbWVzc2FnZTogXCJBcHByb3ZpbmcgdG9rZW5zLi4uXCJcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWx3YXlzIGFwcHJvdmUgdGhlIGV4YWN0IGFtb3VudCBuZWVkZWQgZm9yIHRoaXMgZ2FtZVxuICAgICAgICBjb25zdCBhcHByb3ZhbFR4ID0gYXdhaXQgdG9rZW5Db250cmFjdC5hcHByb3ZlKEdBTUVfQUREUkVTUywgYmV0QW1vdW50SW5Ub2tlblVuaXRzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBhIGRlbGF5IGFmdGVyIGFwcHJvdmFsIHRvIGVuc3VyZSBpdCdzIGNvbmZpcm1lZCBiZWZvcmUgcHJvY2VlZGluZ1xuICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgbWVzc2FnZTogXCJXYWl0aW5nIGZvciBhcHByb3ZhbCBjb25maXJtYXRpb24uLi5cIlxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciBhcHByb3ZhbCB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZFxuICAgICAgICBhd2FpdCBhcHByb3ZhbFR4LndhaXQoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBhcHByb3ZhbCBzdWNjZXNzZnVsIGZvciBhbW91bnQ6JywgZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKGJldEFtb3VudEluVG9rZW5Vbml0cykpO1xuICAgICAgfSBjYXRjaCAoYXBwcm92YWxFcnJvcjogdW5rbm93bikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBhcHByb3ZhbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBhcHByb3ZhbEVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoYXBwcm92YWxFcnJvcik7XG4gICAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBtZXNzYWdlOiBgVG9rZW4gYXBwcm92YWwgZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gXG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb2tlbiBhcHByb3ZhbCBmYWlsZWQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgbWVzc2FnZSB0byB1c2VyXG4gICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBtZXNzYWdlOiBcIlN0YXJ0aW5nIGdhbWUgb24gYmxvY2tjaGFpbi4uLlwiXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIHBhcmFtZXRlcnMgYmVmb3JlIHNlbmRpbmcgdHJhbnNhY3Rpb25cbiAgICAgIGlmIChnYW1lU3RhdGUudGFyZ2V0TGFuZSA8PSAwKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gXCJJbnZhbGlkIGxhbmUgc2VsZWN0aW9uLiBNdXN0IHNlbGVjdCBhdCBsZWFzdCAxIGxhbmUuXCI7XG4gICAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIG1lc3NhZ2U6IGVycm9yTXNnIH0pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IGRpZmZpY3VsdHkgc2V0dGluZ3MgdG8gdmFsaWRhdGUgbGFuZSBzZWxlY3Rpb25cbiAgICAgIGNvbnN0IGRpZmZTZXR0aW5ncyA9IGdldERpZmZpY3VsdHlTZXR0aW5ncyhnYW1lU3RhdGUuY3VycmVudERpZmZpY3VsdHkpO1xuICAgICAgaWYgKGdhbWVTdGF0ZS50YXJnZXRMYW5lID4gZGlmZlNldHRpbmdzLnRvdGFsTGFuZXMpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBgSW52YWxpZCBsYW5lIHNlbGVjdGlvbi4gTWF4aW11bSBsYW5lIGZvciAke2dhbWVTdGF0ZS5jdXJyZW50RGlmZmljdWx0eX0gZGlmZmljdWx0eSBpcyAke2RpZmZTZXR0aW5ncy50b3RhbExhbmVzfWA7XG4gICAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIG1lc3NhZ2U6IGVycm9yTXNnIH0pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGJldCBhbW91bnQgaXMgcG9zaXRpdmVcbiAgICAgIGlmIChnYW1lU3RhdGUuYmV0QW1vdW50IDw9IDApIHtcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBcIkJldCBhbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyb1wiO1xuICAgICAgICBzZXRHYW1lU3RhdGUocHJldiA9PiAoeyAuLi5wcmV2LCBtZXNzYWdlOiBlcnJvck1zZyB9KSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFBsYXkgdGhlIGdhbWUgb24gdGhlIGJsb2NrY2hhaW5cbiAgICAgIGxldCB0eEhhc2g7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgYSBwcm92aWRlciB1c2luZyB3aW5kb3cuZXRoZXJldW1cbiAgICAgICAgLy8gTm93IHByb3Blcmx5IHR5cGVkIHdpdGggb3VyIGRlY2xhcmF0aW9uIGZpbGVcbiAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRhTWFzayBub3QgaW5zdGFsbGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVycy5wcm92aWRlcnMuV2ViM1Byb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7XG4gICAgICAgIGNvbnN0IHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcigpO1xuICAgICAgICBjb25zdCBnYW1lQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KEdBTUVfQUREUkVTUywgZ2FtZUFiaSwgc2lnbmVyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1hcCBmcm9udGVuZCBkaWZmaWN1bHR5IHRvIGNvbnRyYWN0IGVudW1cbiAgICAgICAgY29uc3QgZGlmZmljdWx0eU1hcCA9IHtcbiAgICAgICAgICBcImVhc3lcIjogR2FtZURpZmZpY3VsdHkuRUFTWSwgICAgICAgIC8vIDBcbiAgICAgICAgICBcIm1lZGl1bVwiOiBHYW1lRGlmZmljdWx0eS5NRURJVU0sICAgIC8vIDFcbiAgICAgICAgICBcImhhcmRcIjogR2FtZURpZmZpY3VsdHkuSEFSRCwgICAgICAgIC8vIDJcbiAgICAgICAgICBcImRhcmVkZXZpbFwiOiBHYW1lRGlmZmljdWx0eS5EQVJFREVWSUwgLy8gM1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlJ3JlIHVzaW5nIHRoZSBjb3JyZWN0IGVudW0gdmFsdWUgKDAtMykgZm9yIHRoZSBjb250cmFjdFxuICAgICAgICBjb25zdCBnYW1lRGlmZmljdWx0eSA9IGRpZmZpY3VsdHlNYXBbZ2FtZVN0YXRlLmN1cnJlbnREaWZmaWN1bHR5XTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHR4ID0gYXdhaXQgZ2FtZUNvbnRyYWN0LnBsYXlHYW1lKGdhbWVEaWZmaWN1bHR5LCBnYW1lU3RhdGUudGFyZ2V0TGFuZSwgYmV0QW1vdW50SW5Ub2tlblVuaXRzKTtcbiAgICAgICAgdHhIYXNoID0gdHguaGFzaDtcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgdHJhbnNhY3Rpb24gc3VibWl0dGVkOicsIHR4SGFzaCk7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZFxuICAgICAgICBjb25zdCByZWNlaXB0ID0gYXdhaXQgdHgud2FpdCgpO1xuICAgICAgICBjb25zb2xlLmxvZygnVHJhbnNhY3Rpb24gY29uZmlybWVkIGluIGJsb2NrOicsIHJlY2VpcHQuYmxvY2tOdW1iZXIpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGEgc21hbGwgZGVsYXkgdG8gYWxsb3cgaW5kZXhpbmdcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyBmZXRjaExhc3RHYW1lUmVzdWx0IGZ1bmN0aW9uIHRoYXQncyBkZWZpbmVkIGluIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hMYXN0R2FtZVJlc3VsdCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgZXhpc3RpbmcgcGxheUdhbWVBbmltYXRpb24gZnVuY3Rpb24gdGhhdCdzIGRlZmluZWQgaW4gdGhpcyBjb21wb25lbnRcbiAgICAgICAgICAgIHBsYXlHYW1lQW5pbWF0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChyZXN1bHRFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG9yIHBsYXlpbmcgZ2FtZSByZXN1bHQ6JywgcmVzdWx0RXJyb3IpO1xuICAgICAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgbWVzc2FnZTogXCJHYW1lIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5LCBidXQgY291bGRuJ3QgZmV0Y2ggdGhlIHJlc3VsdC4gVHJ5IHJlZnJlc2hpbmcuXCJcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHR4RXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN0YXJ0IGdhbWU6JywgdHhFcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgdXNlci1mcmllbmRseSBlcnJvciBtZXNzYWdlXG4gICAgICAgIGxldCBlcnJvck1zZyA9IFwiRmFpbGVkIHRvIHN0YXJ0IGdhbWVcIjtcbiAgICAgICAgXG4gICAgICAgIGlmICh0eEVycm9yICYmIHR5cGVvZiB0eEVycm9yID09PSAnb2JqZWN0JyAmJiAnbWVzc2FnZScgaW4gdHhFcnJvciAmJiB0eXBlb2YgdHhFcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eEVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3VzZXIgcmVqZWN0ZWQnKSkge1xuICAgICAgICAgICAgZXJyb3JNc2cgPSBcIlRyYW5zYWN0aW9uIHJlamVjdGVkIGJ5IHVzZXJcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR4RXJyb3IubWVzc2FnZS5pbmNsdWRlcygnaW5zdWZmaWNpZW50IGZ1bmRzJykpIHtcbiAgICAgICAgICAgIGVycm9yTXNnID0gXCJJbnN1ZmZpY2llbnQgZnVuZHMgdG8gc3RhcnQgZ2FtZVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHhFcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSByZXF1ZXN0JykpIHtcbiAgICAgICAgICAgIGVycm9yTXNnID0gXCJSUEMgY29ubmVjdGlvbiBlcnJvci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvck1zZyA9IGBUcmFuc2FjdGlvbiBlcnJvcjogJHt0eEVycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDEwMCl9YDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEdhbWVTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIG1lc3NhZ2U6IGVycm9yTXNnIH0pKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgc2V0R2FtZVN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgbWVzc2FnZTogYEVycm9yOiAke2Vycm9yTWVzc2FnZX1gXG4gICAgICB9KSk7XG4gICAgICBhbGVydChgRXJyb3Igc3RhcnRpbmcgZ2FtZTogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGp1c3QgcmVwbGF5IHRoZSBsYXN0IGdhbWUgd2l0aG91dCBzdGFydGluZyBhIG5ldyBvbmVcbiAgY29uc3QgcmVwbGF5TGFzdEdhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hMYXN0R2FtZVJlc3VsdCgpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHBsYXlHYW1lQW5pbWF0aW9uKHJlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENhc2ggb3V0IGlzIG5vdCBuZWVkZWQgZm9yIHRoaXMgY29tcG9uZW50XG4gIGNvbnN0IGNhc2hPdXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJDYXNoIG91dCBub3QgbmVlZGVkIGluIHRlc3QgZ2FtZSBtb2RlXCIpO1xuICAgIHJldHVybjtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIDxOYXZiYXIgXG4gICAgICAgIGFjY291bnQ9e21ldGFNYXNrQWNjb3VudH1cbiAgICAgICAgb25Db25uZWN0PXtoYW5kbGVNZXRhTWFza0Nvbm5lY3R9XG4gICAgICAgIG9uRXJyb3I9e2hhbmRsZU1ldGFNYXNrRXJyb3J9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgbXQtNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy02eGwgYmctZ3JheS05MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIFxuICAgICAgICB7LyogR2FtZSBIZWFkZXIgKi99XG4gICAgICAgIDxHYW1lSGVhZGVyXG4gICAgICAgICAgYmFsYW5jZT17Z2FtZVN0YXRlLmJhbGFuY2V9XG4gICAgICAgICAgaXNEZW1vTW9kZT17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICAgIFxuICAgICAgICB7LyogR2FtZSBCb2FyZCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgIDxHYW1lQm9hcmRcbiAgICAgICAgICAgIGN1cnJlbnRMYW5lPXtnYW1lU3RhdGUuY3VycmVudExhbmV9XG4gICAgICAgICAgICBkaWZmaWN1bHR5PXtnYW1lU3RhdGUuY3VycmVudERpZmZpY3VsdHl9XG4gICAgICAgICAgICBnYW1lQWN0aXZlPXtnYW1lU3RhdGUuZ2FtZUFjdGl2ZX1cbiAgICAgICAgICAgIG9uTGFuZUNsaWNrPXtzZWxlY3RMYW5lfVxuICAgICAgICAgICAgZGlmZmljdWx0eVNldHRpbmdzPXtnZXREaWZmaWN1bHR5U2V0dGluZ3MoZ2FtZVN0YXRlLmN1cnJlbnREaWZmaWN1bHR5KX1cbiAgICAgICAgICAgIHRhcmdldExhbmU9e2dhbWVTdGF0ZS50YXJnZXRMYW5lfVxuICAgICAgICAgICAgbGFuZVNlbGVjdGVkPXtnYW1lU3RhdGUubGFuZVNlbGVjdGVkfVxuICAgICAgICAgICAgaXNHYW1lT3Zlcj17Z2FtZVN0YXRlLmlzR2FtZU92ZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogR2FtZSBPdmVyIE1lc3NhZ2UgKi99XG4gICAgICAgICAge2dhbWVTdGF0ZS5pc0dhbWVPdmVyICYmIChcbiAgICAgICAgICAgIDxHYW1lT3Zlck1lc3NhZ2VcbiAgICAgICAgICAgICAgaXNXaW49e2dhbWVTdGF0ZS5pc1dpbn1cbiAgICAgICAgICAgICAgd2luQW1vdW50PXtnYW1lU3RhdGUud2luQW1vdW50fVxuICAgICAgICAgICAgICBtZXNzYWdlPXtnYW1lU3RhdGUubWVzc2FnZX1cbiAgICAgICAgICAgICAgb25QbGF5QWdhaW49e3Jlc2V0R2FtZX1cbiAgICAgICAgICAgICAgYWNjaWRlbnRUeXBlPXtnYW1lU3RhdGUuYWNjaWRlbnRUeXBlfVxuICAgICAgICAgICAgICBjdXJyZW50TGFuZT17Z2FtZVN0YXRlLmlzV2luID8gZ2FtZVN0YXRlLnRhcmdldExhbmUgOiBnYW1lU3RhdGUuY3VycmVudExhbmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIEdhbWUgQ29udHJvbHMgKi99XG4gICAgICAgIDxHYW1lQ29udHJvbHNcbiAgICAgICAgICBiZXRBbW91bnQ9e2dhbWVTdGF0ZS5iZXRBbW91bnR9XG4gICAgICAgICAgb25CZXRDaGFuZ2U9e2hhbmRsZUJldENoYW5nZX1cbiAgICAgICAgICBvblN0YXJ0R2FtZT17c3RhcnRHYW1lfVxuICAgICAgICAgIG9uQ2FzaE91dD17Y2FzaE91dH1cbiAgICAgICAgICBnYW1lQWN0aXZlPXtnYW1lU3RhdGUuZ2FtZUFjdGl2ZX1cbiAgICAgICAgICBtdWx0aXBsaWVyPXtnYW1lU3RhdGUubXVsdGlwbGllcn1cbiAgICAgICAgICBkaWZmaWN1bHR5PXtnYW1lU3RhdGUuY3VycmVudERpZmZpY3VsdHl9XG4gICAgICAgICAgb25EaWZmaWN1bHR5Q2hhbmdlPXtoYW5kbGVEaWZmaWN1bHR5Q2hhbmdlfVxuICAgICAgICAgIGlzR2FtZU92ZXI9e2dhbWVTdGF0ZS5pc0dhbWVPdmVyfVxuICAgICAgICAgIGN1cnJlbnRMYW5lPXtnYW1lU3RhdGUuY3VycmVudExhbmV9XG4gICAgICAgICAgdGFyZ2V0TGFuZT17Z2FtZVN0YXRlLnRhcmdldExhbmV9XG4gICAgICAgICAgYmFsYW5jZT17Z2FtZVN0YXRlLmJhbGFuY2V9XG4gICAgICAgIC8+XG4gICAgICAgIFxuICAgICAgICB7LyogVGVzdCBHYW1lIENvbnRyb2xzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmF5LTgwMCBib3JkZXItdCBib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTJcIj5UZXN0IEdhbWUgQ29udHJvbHM8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17cmVwbGF5TGFzdEdhbWV9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmdSZXN1bHR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNMb2FkaW5nUmVzdWx0ID8gXCJMb2FkaW5nLi4uXCIgOiBcIlJlcGxheSBMYXN0IEdhbWVcIn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtmZXRjaExhc3RHYW1lUmVzdWx0fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nUmVzdWx0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNMb2FkaW5nUmVzdWx0ID8gXCJMb2FkaW5nLi4uXCIgOiBcIkZldGNoIExhc3QgUmVzdWx0XCJ9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogQWRkIHBhZGRpbmcgYXQgdGhlIGJvdHRvbSB0byBhY2NvdW50IGZvciB0aGUgbXVzaWMgcGxheWVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBiLTEyXCI+PC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogTGFzdCBHYW1lIFJlc3VsdCAqL31cbiAgICAgICAge2xhc3RHYW1lUmVzdWx0ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmF5LTgwMCBib3JkZXItdCBib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBwLTMgYmctZ3JheS03MDAgcm91bmRlZFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMVwiPkxhc3QgR2FtZSBSZXN1bHQ6PC9oND5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtc21cIj5cbiAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5TdWNjZXNzOjwvc3Ryb25nPiB7bGFzdEdhbWVSZXN1bHQuc3VjY2VzcyA/IFwiWWVzXCIgOiBcIk5vXCJ9PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5EaWZmaWN1bHR5Ojwvc3Ryb25nPiB7W1wiRWFzeVwiLCBcIk1lZGl1bVwiLCBcIkhhcmRcIiwgXCJEYXJlZGV2aWxcIl1bbGFzdEdhbWVSZXN1bHQuZGlmZmljdWx0eV19PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5MYW5lcyBCZXQ6PC9zdHJvbmc+IHtsYXN0R2FtZVJlc3VsdC5sYW5lc0JldH08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkxhbmVzIENyb3NzZWQ6PC9zdHJvbmc+IHtsYXN0R2FtZVJlc3VsdC5sYW5lc0Nyb3NzZWR9PC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5QYXlvdXQ6PC9zdHJvbmc+IHtwYXJzZUZsb2F0KGxhc3RHYW1lUmVzdWx0LnBheW91dCkudG9GaXhlZCg0KX0gR1BIPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5SZXN1bHQ6PC9zdHJvbmc+IHtsYXN0R2FtZVJlc3VsdC5yZXN1bHR9PC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkdhbWVEaWZmaWN1bHR5IiwiZXRoZXJzIiwiVE9LRU5fQUREUkVTUyIsIkdBTUVfQUREUkVTUyIsIkdhbWVCb2FyZCIsIkdhbWVDb250cm9scyIsIkdhbWVIZWFkZXIiLCJHYW1lT3Zlck1lc3NhZ2UiLCJ1c2VCYXNlR2FtZUxvZ2ljIiwiZ2FtZUFiaSIsInRva2VuQWJpIiwiTmF2YmFyIiwiQmxvY2tjaGFpbkdhbWVDb250YWluZXIiLCJpc0Nvbm5lY3RpbmciLCJzZXRJc0Nvbm5lY3RpbmciLCJtZXRhTWFza0FjY291bnQiLCJzZXRNZXRhTWFza0FjY291bnQiLCJtZXRhTWFza1Byb3ZpZGVyIiwic2V0TWV0YU1hc2tQcm92aWRlciIsIm1ldGFNYXNrQmFsYW5jZSIsInNldE1ldGFNYXNrQmFsYW5jZSIsImdhbWVTdGF0ZSIsInNldEdhbWVTdGF0ZSIsIndpblRyaWdnZXJlZFJlZiIsImF1dG9XYWxrVGltZXJSZWYiLCJjb2xsaXNpb25DaGVja0luUHJvZ3Jlc3NSZWYiLCJmYXRhbExhbmUiLCJzZXRGYXRhbExhbmUiLCJmYXRhbExhbmVSZWYiLCJyZXNldEdhbWUiLCJzZWxlY3RMYW5lIiwiaGFuZGxlQmV0Q2hhbmdlIiwiaGFuZGxlRGlmZmljdWx0eUNoYW5nZSIsImVuZEdhbWVXaXRoTG9zcyIsImdldERpZmZpY3VsdHlTZXR0aW5ncyIsImxhc3RHYW1lUmVzdWx0Iiwic2V0TGFzdEdhbWVSZXN1bHQiLCJpc0xvYWRpbmdSZXN1bHQiLCJzZXRJc0xvYWRpbmdSZXN1bHQiLCJwcmV2IiwiYmFsYW5jZSIsInBhcnNlRmxvYXQiLCJjdXJyZW50IiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZU1ldGFNYXNrQ29ubmVjdCIsImFjY291bnQiLCJwcm92aWRlciIsInRva2VuQ29udHJhY3QiLCJDb250cmFjdCIsImJhbGFuY2VPZiIsImZvcm1hdHRlZEJhbGFuY2UiLCJ1dGlscyIsImZvcm1hdEV0aGVyIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZU1ldGFNYXNrRXJyb3IiLCJmZXRjaExhc3RHYW1lUmVzdWx0Iiwid2luZG93IiwiZXRoZXJldW0iLCJwbGF5ZXJBZGRyZXNzIiwibG9nIiwicHJvdmlkZXJzIiwiV2ViM1Byb3ZpZGVyIiwiYWNjb3VudHMiLCJsaXN0QWNjb3VudHMiLCJnYW1lQ29udHJhY3QiLCJyZXN1bHQiLCJ0dXBsZVJlc3VsdCIsImdldExhc3RHYW1lUmVzdWx0IiwiZGlmZmljdWx0eSIsIk51bWJlciIsInN1Y2Nlc3MiLCJsYW5lc0JldCIsImxhbmVzQ3Jvc3NlZCIsInBheW91dCIsInRvU3RyaW5nIiwiYmFzZVNlZWQiLCJzaWduZXIiLCJnZXRTaWduZXIiLCJjb250cmFjdFdpdGhTaWduZXIiLCJjb25uZWN0Iiwic3RhdGljVHVwbGVSZXN1bHQiLCJjYWxsU3RhdGljIiwic3RhdGljQ2FsbEVycm9yIiwiRXJyb3IiLCJmb3JtYXR0ZWRSZXN1bHQiLCJkaWZmaWN1bHR5TmFtZXMiLCJkaWZmaWN1bHR5TmFtZSIsImVycm9yTXNnIiwiaW5jbHVkZXMiLCJwbGF5R2FtZUFuaW1hdGlvbiIsImRpZmZpY3VsdHlNYXAiLCJ1bmRlZmluZWQiLCJjdXJyZW50RGlmZmljdWx0eSIsInRhcmdldExhbmUiLCJsYW5lU2VsZWN0ZWQiLCJnYW1lQWN0aXZlIiwibXVsdGlwbGllciIsInN0YXJ0TXVsdGlwbGllciIsIm1heExhbmVUb1JlYWNoIiwiY3VycmVudExhbmUiLCJzZXRJbnRlcnZhbCIsImlzR2FtZU92ZXIiLCJzZXRUaW1lb3V0IiwicHJldlN0YXRlIiwiaXNXaW4iLCJ3aW5BbW91bnQiLCJNYXRoIiwiZmxvb3IiLCJ0b0xvY2FsZVN0cmluZyIsIm5leHRMYW5lIiwibmV3UGFzc2VkTGFuZXMiLCJwYXNzZWRMYW5lcyIsInB1c2giLCJzZXR0aW5ncyIsIm5ld011bHRpcGxpZXIiLCJsYW5lTXVsdGlwbGllcnMiLCJsZW5ndGgiLCJjaGVja0xhbmVTZXF1ZW5jZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhcnRHYW1lIiwiYWxlcnQiLCJiZXRBbW91bnRJblRva2VuVW5pdHMiLCJwYXJzZUV0aGVyIiwiYmV0QW1vdW50IiwiYXBwcm92YWxUeCIsImFwcHJvdmUiLCJ3YWl0IiwiYXBwcm92YWxFcnJvciIsImVycm9yTWVzc2FnZSIsIlN0cmluZyIsImRpZmZTZXR0aW5ncyIsInRvdGFsTGFuZXMiLCJ0eEhhc2giLCJFQVNZIiwiTUVESVVNIiwiSEFSRCIsIkRBUkVERVZJTCIsImdhbWVEaWZmaWN1bHR5IiwidHgiLCJwbGF5R2FtZSIsImhhc2giLCJyZWNlaXB0IiwiYmxvY2tOdW1iZXIiLCJyZXN1bHRFcnJvciIsInR4RXJyb3IiLCJzdWJzdHJpbmciLCJyZXBsYXlMYXN0R2FtZSIsImNhc2hPdXQiLCJGcmFnbWVudCIsIm9uQ29ubmVjdCIsIm9uRXJyb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJpc0RlbW9Nb2RlIiwib25MYW5lQ2xpY2siLCJkaWZmaWN1bHR5U2V0dGluZ3MiLCJvblBsYXlBZ2FpbiIsImFjY2lkZW50VHlwZSIsIm9uQmV0Q2hhbmdlIiwib25TdGFydEdhbWUiLCJvbkNhc2hPdXQiLCJvbkRpZmZpY3VsdHlDaGFuZ2UiLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImg0IiwidWwiLCJsaSIsInN0cm9uZyIsInRvRml4ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/game/BlockchainGameContainer.tsx\n"));

/***/ })

});